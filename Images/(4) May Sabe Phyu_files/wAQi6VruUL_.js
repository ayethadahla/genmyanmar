if (self.CavalryLogger) { CavalryLogger.start_js(["PrPFy"]); }

__d("OptimisticPostMetadata.react",["cx","BackgroundImage.react","Link.react","React","XUIText.react","getDOMImageSize"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i="/images/video/play_circle_80dp.png",j=80,k=470,l=263,m=472;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={height:l},this.onGetSize=function(a,b,c){c=a<b?k:l;this.setState({height:c})}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";b("getDOMImageSize")(this.props.image,this.onGetSize)};a.prototype.render=function(){"use strict";var a=this.props.image?b("React").createElement(b("BackgroundImage.react"),{src:this.props.image,backgroundSize:"contain",width:m,height:this.state.height}):b("React").createElement("div",{className:"_6r9x",style:{height:this.state.height}},b("React").createElement(b("BackgroundImage.react"),{src:i,backgroundSize:"contain",width:j,height:j}));return b("React").createElement("div",null,b("React").createElement("div",{className:"_1gi0"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold",display:"block"},b("React").createElement(b("Link.react"),null,this.props.title)),b("React").createElement(b("XUIText.react"),{size:"header4",weight:"normal",display:"block"},this.props.description)),b("React").createElement("div",{className:"_2bc-"},a))};e.exports=a}),null);
__d("OptimisticPostMetadataWithoutThumbnail.react",["cx","EventListener","OptimisticPostMetadata.react","React","ReactDOM","generateVideoThumbnails","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={thumbnail:""},this.$1=null,this.generateVideoThumbnails=function(){var a=b("ReactDOM").findDOMNode(this.refs.videoPlayer);b("promiseDone")(b("generateVideoThumbnails")(a,200,200,1),function(a){this.setState({thumbnail:a.thumbnails[0].getURL()})}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.refs.videoPlayer);this.$1=b("EventListener").listen(a,"loadedmetadata",this.generateVideoThumbnails)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&(this.$1.remove(),this.$1=null)};a.prototype.render=function(){"use strict";return b("React").createElement("div",null,b("React").createElement(b("OptimisticPostMetadata.react"),{title:this.props.title,description:this.props.description,image:this.state.thumbnail}),b("React").createElement("video",{key:"videoPlayer",ref:"videoPlayer",className:"_2mpk",src:this.props.videoFileUrl}))};e.exports=a}),null);
__d("OptimisticPostUFISection.react",["ix","cx","fbt","Image.react","React","SUIBusinessThemeContainer.react","SUIText.react","XUICardSection.react","XUIPopoverButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){"use strict";var a=null;this.props.isPagePost&&(a=b("React").createElement("div",{className:"_2qa2"},b("React").createElement(b("XUIPopoverButton.react"),{haschevron:!0,image:b("React").createElement(b("Image.react"),{width:16,height:16,src:this.props.profilePicture}),ref:"open-menu-button",suppressed:!0,type:"button"})));return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_2qa3"},b("React").createElement("div",{className:"_2qa4"},b("React").createElement("div",{className:"_2qa5"},b("React").createElement(b("Image.react"),{className:"_2qa7",src:g("529238")}),b("React").createElement(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold"},i._("Like"))),b("React").createElement("div",{className:"_2qa5"},b("React").createElement(b("Image.react"),{className:"_2qa7",src:g("510900")}),b("React").createElement(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold"},i._("Comment"))),b("React").createElement("div",{className:"_2qa5"},b("React").createElement(b("Image.react"),{className:"_2qa7",src:g("508130")}),b("React").createElement(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold"},i._("Share")))),a)))};function a(){"use strict";j.apply(this,arguments)}e.exports=a}),null);
__d("LiveVideoBroadcastStatusUpdateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1528668480484478",queryID:"213402205795051"})}),null);
__d("LiveVideoBroadcastStatusUpdateSubscription",["BaseGraphQLSubscription","LiveVideoBroadcastStatusUpdateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("LiveVideoBroadcastStatusUpdateWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"live_video_broadcast_status_update_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("LiveVideoBroadcastStatusUpdateSubscriptionHack",["LiveVideoBroadcastStatusUpdateSubscription"],(function(a,b,c,d,e,f){__p&&__p();var g=new Map(),h=new Map();a={subscribe:function(a,c){__p&&__p();if(!g.has(a)){var d=[];g.set(a,d);var e=b("LiveVideoBroadcastStatusUpdateSubscription").subscribe(a,function(a){for(var b=0;b<d.length;b++){var c=d[b];c(a)}});h.set(a,e)}e=g.get(a);e&&e.push(c);return{unsubscribe:function(){__p&&__p();var b=g.get(a);if(b){b=b.filter(function(a){return a!==c});g.set(a,b);if(b.length===0){b=h.get(a);b&&b.unsubscribe&&b.unsubscribe();g["delete"](a);h["delete"](a)}}}}}};e.exports=a}),null);
__d("LivingRoomAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLOSE:"CLOSE",CVC_ENTER:"CVC_ENTER",CVC_LEAVE:"CVC_LEAVE",INIT_PROMOTED_USERS:"INIT_PROMOTED_USERS",INIT_STORE:"INIT_STORE",INIT_SUBSCRIPTIONS:"INIT_SUBSCRIPTIONS",JOIN:"JOIN",LEAVE:"LEAVE",SET_ADD_VIDEO_ERROR_DIALOG_SHOWN:"SET_ADD_VIDEO_ERROR_DIALOG_SHOWN",SET_ADD_VIDEO_DIALOG_SHOWN:"SET_ADD_VIDEO_DIALOG_SHOWN",SET_ADD_VIDEO_DIALOG_TAB:"SET_ADD_VIDEO_DIALOG_TAB",SET_CAN_VIEWER_SEE_PRESENCE_NUX:"SET_CAN_VIEWER_SEE_PRESENCE_NUX",SET_CAN_VIEWER_SEE_WELCOME_NUX:"SET_CAN_VIEWER_SEE_WELCOME_NUX",SET_COMMENTATING_CONFIG:"SET_COMMENTATING_CONFIG",SET_CONTENT_QUEUE_DIALOG_SHOWN:"SET_CONTENT_QUEUE_DIALOG_SHOWN",SET_CREATOR:"SET_CREATOR",SET_CREATOR_FIRST_NAME:"SET_CREATOR_FIRST_NAME",SET_CURRENT_CONTENT_ITEM:"SET_CURRENT_CONTENT_ITEM",SET_CUSTOM_NAME:"SET_CUSTOM_NAME",SET_DISPLAYED_PRIVACY:"SET_DISPLAYED_PRIVACY",SET_ENTRY_POINT:"SET_ENTRY_POINT",SET_ENTRY_SOURCE:"SET_ENTRY_SOURCE",SET_EXPERIMENTS:"SET_EXPERIMENTS",SET_NOTIF_SUBSCRIPTION_STATUS:"SET_NOTIF_SUBSCRIPTION_STATUS",SET_FEED_BLUR_OVERLAY_SHOWN:"SET_FEED_BLUR_OVERLAY_SHOWN",SET_FEED_PRESENCE_USERS:"SET_FEED_PRESENCE_USERS",SET_GROUP_ID:"SET_GROUP_ID",SET_INVITE_DIALOG_SHOWN:"SET_INVITE_DIALOG_SHOWN",SET_IS_CREATION_POST:"SET_IS_CREATION_POST",SET_IS_GAME_GROUP:"SET_IS_GAME_GROUP",SET_IS_RTC_CALL_ONGOING:"SET_IS_RTC_CALL_ONGOING",SET_IS_SESSION_ENDED:"SET_IS_SESSION_ENDED",SET_LINKED_PAGES:"SET_LINKED_PAGES",SET_PERMISSIONS:"SET_PERMISSIONS",SET_PREMIERE_LIVING_ROOM_BADGE_TEXT:"SET_PREMIERE_LIVING_ROOM_BADGE_TEXT",SET_PREVIOUS_CONTENT_COUNT:"SET_PREVIOUS_CONTENT_COUNT",SET_PROFILE:"SET_PROFILE",SET_SECONDS_UNTIL_PREMIERE:"SET_SECONDS_UNTIL_PREMIERE",SET_SELF:"SET_SELF",SET_STYLE:"SET_STYLE",SET_TOPIC_CHANNEL:"SET_TOPIC_CHANNEL",SET_UFI_PARAMS:"SET_UFI_PARAMS",SET_URL:"SET_URL",SET_USED_PREPOP:"SET_USED_PREPOP",SET_VIDEO_PLAYER_CONTROLLER:"SET_VIDEO_PLAYER_CONTROLLER",SET_WALKTHROUGH_STEP:"SET_WALKTHROUGH_STEP",SET_WAS_JUST_CREATED:"SET_WAS_JUST_CREATED",UPDATE_CONTENT_QUEUE:"UPDATE_CONTENT_QUEUE",UPDATE_INVITED_FRIENDS:"UPDATE_INVITED_FRIENDS",UPDATE_PRESENT_USERS:"UPDATE_PRESENT_USERS",UPDATE_PROMOTED_USERS_PROMOTE:"UPDATE_PROMOTED_USERS_PROMOTE",UPDATE_PROMOTED_USERS_DEMOTE:"UPDATE_PROMOTED_USERS_DEMOTE",UPDATE_SUGGESTED_ITEMS:"UPDATE_SUGGESTED_ITEMS",UPDATE_VIDEO_STATE:"UPDATE_VIDEO_STATE"})}),null);
__d("LivingRoomDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("LivingRoomActions",["LivingRoomAction","LivingRoomDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initStore:function(a,c,d){a={type:b("LivingRoomAction").INIT_STORE,livingRoomID:a,groupID:c,actorID:d};b("LivingRoomDispatcher").dispatch(a)},setCurrentContentItem:function(a,c){a={type:b("LivingRoomAction").SET_CURRENT_CONTENT_ITEM,livingRoomID:a,contentItem:c};b("LivingRoomDispatcher").dispatch(a)},clearCurrentContentItem:function(a){a={type:b("LivingRoomAction").SET_CURRENT_CONTENT_ITEM,livingRoomID:a,contentItem:null};b("LivingRoomDispatcher").dispatch(a)},initializeSubscriptions:function(a){a={type:b("LivingRoomAction").INIT_SUBSCRIPTIONS,livingRoomID:a};b("LivingRoomDispatcher").dispatch(a)},updatePresentUsers:function(a,c,d){a={type:b("LivingRoomAction").UPDATE_PRESENT_USERS,livingRoomID:a,presentUsers:c,presentUserCount:d};b("LivingRoomDispatcher").dispatch(a)},updateVideoState:function(a,c){a={type:b("LivingRoomAction").UPDATE_VIDEO_STATE,livingRoomID:a,videoState:c};b("LivingRoomDispatcher").dispatch(a)},updateContentQueue:function(a,c){a={type:b("LivingRoomAction").UPDATE_CONTENT_QUEUE,livingRoomID:a,contentQueue:c};b("LivingRoomDispatcher").dispatch(a)},updateSuggestedItems:function(a,c,d){a={type:b("LivingRoomAction").UPDATE_SUGGESTED_ITEMS,livingRoomID:a,suggestedItems:c,suggestedItemsCount:d};b("LivingRoomDispatcher").dispatch(a)},setPermissions:function(a,c){a={type:b("LivingRoomAction").SET_PERMISSIONS,livingRoomID:a,permissions:c};b("LivingRoomDispatcher").dispatch(a)},setPremiereLivingRoomBadgeText:function(a,c){a={type:b("LivingRoomAction").SET_PREMIERE_LIVING_ROOM_BADGE_TEXT,livingRoomID:a,premiereLivingRoomBadgeText:c};b("LivingRoomDispatcher").dispatch(a)},setLinkedPages:function(a,c){a={type:b("LivingRoomAction").SET_LINKED_PAGES,livingRoomID:a,linkedPages:c};b("LivingRoomDispatcher").dispatch(a)},close:function(a){a={type:b("LivingRoomAction").CLOSE,livingRoomID:a};b("LivingRoomDispatcher").dispatch(a)},updateInvitedFriends:function(a,c){a={type:b("LivingRoomAction").UPDATE_INVITED_FRIENDS,livingRoomID:a,invited:c};b("LivingRoomDispatcher").dispatch(a)},setVideoPlayerController:function(a,c){a={type:b("LivingRoomAction").SET_VIDEO_PLAYER_CONTROLLER,livingRoomID:a,vpc:c};b("LivingRoomDispatcher").dispatch(a)},setSelf:function(a,c){a={type:b("LivingRoomAction").SET_SELF,livingRoomID:a,self:c};b("LivingRoomDispatcher").dispatch(a)},setCanViewerSeePresenceNux:function(a,c){a={type:b("LivingRoomAction").SET_CAN_VIEWER_SEE_PRESENCE_NUX,livingRoomID:a,canSee:c};b("LivingRoomDispatcher").dispatch(a)},setCanViewerSeeWelcomeNux:function(a,c){a={type:b("LivingRoomAction").SET_CAN_VIEWER_SEE_WELCOME_NUX,livingRoomID:a,canSee:c};b("LivingRoomDispatcher").dispatch(a)},setWalkthroughStep:function(a,c){a={type:b("LivingRoomAction").SET_WALKTHROUGH_STEP,livingRoomID:a,step:c};b("LivingRoomDispatcher").dispatch(a)},setUrl:function(a,c){a={type:b("LivingRoomAction").SET_URL,livingRoomID:a,url:c};b("LivingRoomDispatcher").dispatch(a)},setIsSessionEnded:function(a,c){a={type:b("LivingRoomAction").SET_IS_SESSION_ENDED,livingRoomID:a,ended:c};b("LivingRoomDispatcher").dispatch(a)},setAddVideoErrorDialogShown:function(a,c){a={type:b("LivingRoomAction").SET_ADD_VIDEO_ERROR_DIALOG_SHOWN,livingRoomID:a,shown:c};b("LivingRoomDispatcher").dispatch(a)},setAddVideoDialogShown:function(a,c){a={type:b("LivingRoomAction").SET_ADD_VIDEO_DIALOG_SHOWN,livingRoomID:a,shown:c};b("LivingRoomDispatcher").dispatch(a)},setContentQueueDialogShown:function(a,c){a={type:b("LivingRoomAction").SET_CONTENT_QUEUE_DIALOG_SHOWN,livingRoomID:a,shown:c};b("LivingRoomDispatcher").dispatch(a)},setTopicChannel:function(a,c){a={type:b("LivingRoomAction").SET_TOPIC_CHANNEL,livingRoomID:a,topicChannel:c};b("LivingRoomDispatcher").dispatch(a)},setStyle:function(a,c){a={type:b("LivingRoomAction").SET_STYLE,livingRoomID:a,style:c};b("LivingRoomDispatcher").dispatch(a)},setIsCreationPost:function(a,c){a={type:b("LivingRoomAction").SET_IS_CREATION_POST,livingRoomID:a,isCreationPost:c};b("LivingRoomDispatcher").dispatch(a)},setAddVideoDialogTab:function(a,c){a={type:b("LivingRoomAction").SET_ADD_VIDEO_DIALOG_TAB,livingRoomID:a,tab:c};b("LivingRoomDispatcher").dispatch(a)},promoteUser:function(a,c){a={type:b("LivingRoomAction").UPDATE_PROMOTED_USERS_PROMOTE,livingRoomID:a,user:c};b("LivingRoomDispatcher").dispatch(a)},demoteUser:function(a,c){a={type:b("LivingRoomAction").UPDATE_PROMOTED_USERS_DEMOTE,livingRoomID:a,user:c};b("LivingRoomDispatcher").dispatch(a)},initPromotedUsers:function(a,c){a={type:b("LivingRoomAction").INIT_PROMOTED_USERS,livingRoomID:a,users:c};b("LivingRoomDispatcher").dispatch(a)},setEntryPoint:function(a,c){a={type:b("LivingRoomAction").SET_ENTRY_POINT,livingRoomID:a,uri:c};b("LivingRoomDispatcher").dispatch(a)},setCreator:function(a,c){a={type:b("LivingRoomAction").SET_CREATOR,livingRoomID:a,creator:c};b("LivingRoomDispatcher").dispatch(a)},setCreatorFirstName:function(a,c){a={type:b("LivingRoomAction").SET_CREATOR_FIRST_NAME,livingRoomID:a,creator:c};b("LivingRoomDispatcher").dispatch(a)},setCustomName:function(a,c){a={type:b("LivingRoomAction").SET_CUSTOM_NAME,livingRoomID:a,customName:c};b("LivingRoomDispatcher").dispatch(a)},setProfile:function(a,c){a={type:b("LivingRoomAction").SET_PROFILE,livingRoomID:a,profile:c};b("LivingRoomDispatcher").dispatch(a)},setInviteDialogShown:function(a,c){a={type:b("LivingRoomAction").SET_INVITE_DIALOG_SHOWN,livingRoomID:a,shown:c};b("LivingRoomDispatcher").dispatch(a)},join:function(a,c){a={type:b("LivingRoomAction").JOIN,livingRoomID:a,entrySource:c};b("LivingRoomDispatcher").dispatch(a)},leave:function(a){a={type:b("LivingRoomAction").LEAVE,livingRoomID:a};b("LivingRoomDispatcher").dispatch(a)},cvcEnter:function(a){a={type:b("LivingRoomAction").CVC_ENTER,livingRoomID:a};b("LivingRoomDispatcher").dispatch(a)},cvcLeave:function(a){a={type:b("LivingRoomAction").CVC_LEAVE,livingRoomID:a};b("LivingRoomDispatcher").dispatch(a)},setUsedPrepop:function(a,c){a={type:b("LivingRoomAction").SET_USED_PREPOP,livingRoomID:a,used:c};b("LivingRoomDispatcher").dispatch(a)},setWasJustCreated:function(a,c){a={type:b("LivingRoomAction").SET_WAS_JUST_CREATED,livingRoomID:a,justCreated:c};b("LivingRoomDispatcher").dispatch(a)},setExperiments:function(a,c){a={type:b("LivingRoomAction").SET_EXPERIMENTS,livingRoomID:a,experiments:c};b("LivingRoomDispatcher").dispatch(a)},setNotifSubscriptionStatus:function(a,c){a={type:b("LivingRoomAction").SET_NOTIF_SUBSCRIPTION_STATUS,livingRoomID:a,notifSubscriptionStatus:c};b("LivingRoomDispatcher").dispatch(a)},setFeedPresenceUsers:function(a,c){a={type:b("LivingRoomAction").SET_FEED_PRESENCE_USERS,livingRoomID:a,feedPresenceUsers:c};b("LivingRoomDispatcher").dispatch(a)},setIsRtcCallOngoing:function(a,c){a={type:b("LivingRoomAction").SET_IS_RTC_CALL_ONGOING,livingRoomID:a,isRtcCallOngoing:c};b("LivingRoomDispatcher").dispatch(a)},setPreviousContentCount:function(a,c){a={type:b("LivingRoomAction").SET_PREVIOUS_CONTENT_COUNT,livingRoomID:a,count:c};b("LivingRoomDispatcher").dispatch(a)},setSecondsUntilPremiere:function(a,c){a={type:b("LivingRoomAction").SET_SECONDS_UNTIL_PREMIERE,livingRoomID:a,secondsUntilPremiere:c};b("LivingRoomDispatcher").dispatch(a)},updateDisplayedPrivacy:function(a,c,d){b("LivingRoomDispatcher").dispatch({type:b("LivingRoomAction").SET_DISPLAYED_PRIVACY,livingRoomID:a,description:c,iconUri:d})},setFeedBlurOverlayShown:function(a,c){a={type:b("LivingRoomAction").SET_FEED_BLUR_OVERLAY_SHOWN,livingRoomID:a,shown:c};b("LivingRoomDispatcher").dispatch(a)},setIsGameGroup:function(a,c){a={type:b("LivingRoomAction").SET_IS_GAME_GROUP,livingRoomID:a,isGameGroup:c};b("LivingRoomDispatcher").dispatch(a)},setCommentatingConfig:function(a,c){a={type:b("LivingRoomAction").SET_COMMENTATING_CONFIG,livingRoomID:a,config:c};b("LivingRoomDispatcher").dispatch(a)},setEntrySource:function(a,c){a={type:b("LivingRoomAction").SET_ENTRY_SOURCE,livingRoomID:a,entrySource:c};b("LivingRoomDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LivingRoomCommentatingSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LiveVideoCommentatingEventSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LiveVideoCommentatingEventSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"is_live_audio_format",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"subscription",name:"LivingRoomCommentatingSubscription",id:"2377815995580026",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomCommentatingSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_commentating_event_subscribe",storageKey:null,args:b,concreteType:"LiveVideoCommentatingEventSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"live_commentating_videos",storageKey:null,args:null,concreteType:"LiveCommentatingVideo",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]},e]}]}]}]}]},operation:{kind:"Operation",name:"LivingRoomCommentatingSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_commentating_event_subscribe",storageKey:null,args:b,concreteType:"LiveVideoCommentatingEventSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"live_commentating_videos",storageKey:null,args:null,concreteType:"LiveCommentatingVideo",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d]},e]}]},d]}]}]}}}();e.exports=a}),null);
__d("LivingRoomCommentatingSubscription",["RelayModern","LivingRoomCommentatingSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomCommentatingSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomConstants",[],(function(a,b,c,d,e,f){a={FEED_BLUR_OVERLAY_DELAY_MS:7500,INVITE_FRIENDS_RESULTS_PER_PAGE:20,INVITE_FRIENDS_RESULTS_PER_EXTRA_PAGE:10,NUX_CREATE_WITH_CUSTOM_NAME:6218,NUX_FEED_PRESENCE:6358,NUX_HOST_WELCOME:5612,NUX_HOST_WALKTHROUGH:5634,NUX_PRE_POP:5972,NUX_PRESENCE_TRAY:5584,NUX_VIEWER_WELCOME:5594,NUX_PAGE_VIDEO_LIBRARY_BUTTON:6488,TOPIC_CHANNEL_NUX_VIEWER_WELCOME:5814,TOPIC_CHANNEL_NUX_PRESENCE_TRAY:5815,PARTICIPANTS_PAGE_SIZE:20,RECAP_LOAD_SIZE:10,RECAP_REFETCH_PADDING:5,TV_EMOJI:"1f4fa",UPDATE_SUGGESTED_ITEMS:"update_suggested_items",UPDATE_VIDEO_STATE:"update_video_state",VIEWER_REACTION:"viewer_reaction",VIDEO_START_SECONDS:1e-5,VIDEO_SEARCH_DEBOUNCING_DELAY:750,VIDEO_SEARCH_BQF:"keywords_blended_videos",VIDEO_SEARCH_PAGE_BQF:"videos-by",VIDEO_SEARCH_RESULTS_PER_PAGE:20,VIDEO_SEARCH_RESULTS_PER_EXTRA_PAGE:10};e.exports=a}),null);
__d("LivingRoomContentQueueSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomContentQueueSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomContentQueueSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"action_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null}]},d]},f={kind:"ScalarField",alias:null,name:"current_server_timestamp",args:null,storageKey:null},g=[{kind:"Literal",name:"first",value:50,type:"Int"}],h={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"badge_text",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};d=[d];var k={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:d},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},n={kind:"InlineFragment",type:"User",selections:[m]},o={kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},q=[p],r={kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:q};q={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:q};var s={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null};p={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160,type:"Int"},{kind:"Literal",name:"width",value:284,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},p]};var w={kind:"ScalarField",alias:null,name:"restriction_reason",args:null,storageKey:null};d={kind:"LinkedField",alias:null,name:"restriction_message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:d};var x={kind:"LinkedField",alias:null,name:"previous_content",storageKey:null,args:null,concreteType:"LivingRoomToPreviousContentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]};return{kind:"Request",operationKind:"subscription",name:"LivingRoomContentQueueSubscription",id:"2833238143368370",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomContentQueueSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_content_queue_subscribe",storageKey:null,args:b,concreteType:"LivingRoomContentQueueSubscribeResponsePayload",plural:!1,selections:[c,e,f,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"queued_items",storageKey:"queued_items(first:50)",args:g,concreteType:"LivingRoomToQueuedContentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToQueuedContentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[h,i,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[h,j,k,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,j,n,{kind:"InlineFragment",type:"Page",selections:[h,m,o,r,q]}]},s,t,u,v,p,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[p]}]},w,d]}]}]},x]}]}]},operation:{kind:"Operation",name:"LivingRoomContentQueueSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_content_queue_subscribe",storageKey:null,args:b,concreteType:"LivingRoomContentQueueSubscribeResponsePayload",plural:!1,selections:[c,e,f,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"queued_items",storageKey:"queued_items(first:50)",args:g,concreteType:"LivingRoomToQueuedContentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToQueuedContentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[h,i,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,j,h]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[h,j,k,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,j,h,n,{kind:"InlineFragment",type:"Page",selections:[m,o,r,q]}]},s,t,u,v,p,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[p,h]}]},w,d]}]}]},x,h]}]}]}}}();e.exports=a}),null);
__d("LivingRoomContentQueueSubscription",["RelayModern","LivingRoomContentQueueSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomContentQueueSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomCustomNameSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomCustomNameSubscribeData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"living_room_custom_name_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomCustomNameSubscribeData!"}],concreteType:"LivingRoomCustomNameSubscribeResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"custom_name",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"subscription",name:"LivingRoomCustomNameSubscription",id:"1710043042426073",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomCustomNameSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LivingRoomCustomNameSubscription",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("LivingRoomCustomNameSubscription",["RelayModern","LivingRoomCustomNameSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomCustomNameSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomPermissionsSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomPermissionsSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomPermissionsSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"can_viewer_grant_temporary_host",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"can_viewer_add_content",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"can_viewer_customize",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"can_viewer_end_session",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"can_viewer_invite",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"can_viewer_advance_queue",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"can_viewer_play_content",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"can_viewer_see_video_controls",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"can_viewer_share",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"can_viewer_suggest_content",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"presence_badge",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},q={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"subscription",name:"LivingRoomPermissionsSubscription",id:"2023668544319699",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomPermissionsSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_permissions_subscribe",storageKey:null,args:b,concreteType:"LivingRoomPermissionsSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d,e,f,g,h,i,j,k,l,{kind:"LinkedField",alias:null,name:"current_viewer",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:[m,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,o,p]}]}]}]}]},operation:{kind:"Operation",name:"LivingRoomPermissionsSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_permissions_subscribe",storageKey:null,args:b,concreteType:"LivingRoomPermissionsSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[q,i,d,e,f,g,c,h,j,k,l,{kind:"LinkedField",alias:null,name:"current_viewer",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:[m,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[q,n,o,p]}]},n]}]}]}}}();e.exports=a}),null);
__d("LivingRoomPermissionsSubscription",["RelayModern","LivingRoomPermissionsSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomPermissionsSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomPresenceSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomPresenceSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomPresenceSubscribeData!"}],c=[{kind:"Literal",name:"first",value:30,type:"Int"}],d={kind:"ScalarField",alias:null,name:"presence_badge",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},h=[d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,g]}],i={kind:"ScalarField",alias:null,name:"viewer_count",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};d=[d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j,e,f,g]}];return{kind:"Request",operationKind:"subscription",name:"LivingRoomPresenceSubscription",id:"1930019067055678",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomPresenceSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_presence_subscribe",storageKey:null,args:b,concreteType:"LivingRoomPresenceSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"active_viewers",storageKey:"active_viewers(first:30)",args:c,concreteType:"LivingRoomToActiveViewersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToActiveViewersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:h}]}]},{kind:"LinkedField",alias:null,name:"feed_presence_users",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!0,selections:h},i]}]}]},operation:{kind:"Operation",name:"LivingRoomPresenceSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_presence_subscribe",storageKey:null,args:b,concreteType:"LivingRoomPresenceSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[j,{kind:"LinkedField",alias:null,name:"active_viewers",storageKey:"active_viewers(first:30)",args:c,concreteType:"LivingRoomToActiveViewersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToActiveViewersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!1,selections:d}]}]},{kind:"LinkedField",alias:null,name:"feed_presence_users",storageKey:null,args:null,concreteType:"LivingRoomUser",plural:!0,selections:d},i,e]}]}]}}}();e.exports=a}),null);
__d("LivingRoomPresenceSubscription",["RelayModern","LivingRoomPresenceSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomPresenceSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomRecapSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomRecapSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomRecapSubscribeData!"}],c={kind:"LinkedField",alias:null,name:"recap",storageKey:null,args:null,concreteType:"LivingRoomRecap",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"comment_count",args:null,storageKey:null}]};return{kind:"Request",operationKind:"subscription",name:"LivingRoomRecapSubscription",id:"2277406112276897",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomRecapSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_recap_subscribe",storageKey:null,args:b,concreteType:"LivingRoomRecapSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c]}]}]},operation:{kind:"Operation",name:"LivingRoomRecapSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_recap_subscribe",storageKey:null,args:b,concreteType:"LivingRoomRecapSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}}}();e.exports=a}),null);
__d("LivingRoomRecapSubscription",["RelayModern","LivingRoomRecapSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomRecapSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHANNEL:"channel",DEFAULT:"default",LOL:"lol",MESSENGER:"messenger",PAGE:"page",USER:"user"})}),null);
__d("LivingRoomCurationContext",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO:"auto",CROWDSOURCED:"crowdsourced",FEATURED:"featured",GROUP:"group",HISTORY:"history",LIVE:"live",MAIN:"main",MAIN_FEATURED:"main_featured",MAIN_GROUP:"main_group",MAIN_HISTORY:"main_history",MAIN_LIVE:"main_live",MAIN_PAGE:"main_page",MAIN_SAVED:"main_saved",MAIN_SUGGESTED:"main_suggested",MAIN_WATCHED:"main_watched",MANUAL:"manual",NOW_PLAYING:"now_playing",PAGE:"page",PREPOP:"prepop",RECOMMENDED_GAMING_VIDEOS:"recommended_gaming_videos",RECOMMENDED_SHOWS:"recommended_shows",SAVED:"saved",SEARCH:"search",SUGGESTED:"suggested",SUGGESTED_EPISODES:"suggested_episodes",UP_NEXT:"up_next",WATCHED:"watched"})}),null);
__d("LivingRoomMessageAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVITE_ONLINE_FRIENDS_PROMPT:"INVITE_ONLINE_FRIENDS_PROMPT",MESSAGE_TEXT:"MESSAGE_TEXT",VIDEO_THUMBNAIL:"VIDEO_THUMBNAIL"})}),null);
__d("LivingRoomTypeUtils",["invariant","LivingRoomCurationContext","LivingRoomMessageAttachmentType","LivingRoomTypeValues","immutable","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("LivingRoomTypeValues").AddVideoTabValue,i=b("LivingRoomTypeValues").OwnerTypeValue;a={convertContentQueue:function(a){return b("immutable").List(a.map(function(a){return this.convertContentItem(b("nullthrows")((a=a)!=null?a.node:a))}.bind(this)).filter(function(a){return a!==null}))},convertSuggestedItems:function(a){return b("immutable").List(a.map(function(a){return this.convertSuggestedItem(b("nullthrows")((a=a)!=null?a.node:a))}.bind(this)))},convertUsers:function(a){return!a?b("immutable").List():b("immutable").List(a.filter(function(a){return a!=null}).map(function(a){return this.convertUser(a)}.bind(this)))},convertUser:function(a){var c;return{presence_badge:b("nullthrows")((c=a)!=null?c.presence_badge:c),profile:this.convertProfile(a.viewer)}},convertParticipants:function(a){return b("immutable").List(a.map(function(a){return this.convertParticipant(a.node)}.bind(this)))},convertParticipant:function(a){var c;return{can_user_be_granted_temporary_host:b("nullthrows")((c=a)!=null?c.can_user_be_granted_temporary_host:c),can_user_be_revoked_temporary_host:b("nullthrows")((c=a)!=null?c.can_user_be_revoked_temporary_host:c),presence_badge:b("nullthrows")((c=a)!=null?c.presence_badge:c),profile:this.convertProfile(a.viewer)}},convertPageToUser:function(a,b){return{presence_badge:b,profile:this.convertProfile(a)}},convertProfiles:function(a){return b("immutable").List(a.map(function(a){return this.convertProfile(a.node)}.bind(this)).filter(function(a){return a!==null}))},convertProfile:function(a){var c;return!a?null:{id:b("nullthrows")((c=a)!=null?c.id:c),name:((c=a)!=null?c.name:c)||"",profile_picture:{uri:b("nullthrows")((c=a)!=null?(c=c.profile_picture)!=null?c.uri:c:c)},is_active_on_messenger:(c=a)!=null?(c=c.last_active_messages_status)!=null?c.is_currently_active:c:c}},convertVideoState:function(a){return{actor:this.convertProfile(a.actor),actionID:b("nullthrows")(a.action_id),contentItem:a.content_item?this.convertContentItem(a.content_item):null,videoPlayerState:b("nullthrows")(a.video_player_state),videoEvent:b("nullthrows")(a.video_event),markerOffsetSeconds:b("nullthrows")(a.marker_offset_seconds),eventLoggedTimestamp:b("nullthrows")(a.event_logged_timestamp),currentServerTimestamp:b("nullthrows")(a.current_server_timestamp),clientReceivedTimestamp:Date.now()/1e3,live_commentating_delay_ms:b("nullthrows")(a.live_commentating_delay_ms)}},convertMessage:function(a){return a?{inline_style_ranges:a.inline_style_ranges.map(function(a){return{inline_style:a.inline_style,length:a.length,offset:a.offset}}),text:a.text}:null},convertMessageVideoAttachment:function(a){if(!a||!a.attachment_type||a.attachment_type!==b("LivingRoomMessageAttachmentType").VIDEO_THUMBNAIL)return null;return a.page_name!=null&&a.preferred_thumbnail!=null&&a.preferred_thumbnail.height!=null&&a.preferred_thumbnail.width!=null&&a.preferred_thumbnail.uri!=null&&a.video_title!=null?{page_name:a.page_name,preferred_thumbnail:{height:a.preferred_thumbnail.height,width:a.preferred_thumbnail.width,uri:a.preferred_thumbnail.uri},video_title:a.video_title}:null},convertMessageVideoAttachments:function(a){if(!a)return null;a=b("immutable").List(a.map(function(a){return this.convertMessageVideoAttachment(a)}.bind(this)).filter(function(a){return a!==null}));return a.first()},convertContentItem:function(a){var c,d;d=(d=a)!=null?d.video:d;return{id:b("nullthrows")(a.id),badge_text:a.badge_text,creator:{name:(c=a)!=null?(c=c.creator)!=null?c.name:c:c},video:d?this.convertVideo(d):null,restriction_reason:a.restriction_reason,restriction_message:a.restriction_message}},convertSuggestedItem:function(a){var c;return{id:b("nullthrows")(a.id),creator:{name:(c=a)!=null?(c=c.creator)!=null?c.name:c:c},video:this.convertVideo(b("nullthrows")(a.video)),restriction_reason:a.restriction_reason,restriction_message:a.restriction_message}},convertVideo:function(a){var c;return{id:b("nullthrows")(a.id),broadcast_status:a.broadcast_status,is_spherical:!!a.is_spherical,name:a.name||"",message:{text:((c=a)!=null?(c=c.message)!=null?c.text:c:c)||""},owner:{id:(c=a)!=null?(c=c.owner)!=null?c.id:c:c,name:((c=a)!=null?(c=c.owner)!=null?c.name:c:c)||"",is_verified:!!((c=a)!=null?(c=c.owner)!=null?c.is_verified:c:c),is_show_page:!!((c=a)!=null?(c=c.owner)!=null?c.is_show_page:c:c),logo_for_show:{uri:(c=a)!=null?(c=c.owner)!=null?(c=c.logo_for_show)!=null?c.uri:c:c:c},profile_picture:{uri:(c=a)!=null?(c=c.owner)!=null?(c=c.profile_picture)!=null?c.uri:c:c:c},type:((c=a)!=null?(c=c.owner)!=null?c.__typename:c:c)==="Page"?i.PAGE:i.USER},playable_duration:a.playable_duration||0,preferred_thumbnail:{image:{height:(c=a)!=null?(c=c.preferred_thumbnail)!=null?(c=c.image)!=null?c.height:c:c:c,width:(c=a)!=null?(c=c.preferred_thumbnail)!=null?(c=c.image)!=null?c.width:c:c:c,uri:(c=a)!=null?(c=c.preferred_thumbnail)!=null?(c=c.image)!=null?c.uri:c:c:c}},image:{height:(c=a)!=null?(c=c.image)!=null?c.height:c:c,width:(c=a)!=null?(c=c.image)!=null?c.width:c:c,uri:(c=a)!=null?(c=c.image)!=null?c.uri:c:c},$fragmentRefs:""}},convertVideos:function(a){return!a?b("immutable").List():b("immutable").List(a.map(function(a){return this.convertVideo(a)}.bind(this)))},convertPermissions:function(a){return{canViewerAddContent:b("nullthrows")(a.can_viewer_add_content),canViewerAdvanceQueue:b("nullthrows")(a.can_viewer_advance_queue),canViewerCustomize:b("nullthrows")(a.can_viewer_customize),canViewerEndSession:b("nullthrows")(a.can_viewer_end_session),canViewerGrantCohost:b("nullthrows")(a.can_viewer_grant_temporary_host),canViewerInvite:b("nullthrows")(a.can_viewer_invite),canViewerPlayContent:b("nullthrows")(a.can_viewer_play_content),canViewerSeeVideoControls:b("nullthrows")(a.can_viewer_see_video_controls),canViewerShare:b("nullthrows")(a.can_viewer_share),canViewerSuggestContent:b("nullthrows")(a.can_viewer_suggest_content)}},convertLinkedPages:function(a){a=a.filter(function(a){a=((a=a)!=null?(a=a.node)!=null?a.viewer_profile_permissions:a:a)||[];return a.includes("ADMINISTER")});return this.convertProfiles(a)},convertRecapVideo:function(a){var c;return!((c=a)!=null?c.video:c)?null:{id:(c=a)!=null?c.id:c,addedBy:(c=a)!=null?(c=c.creator)!=null?c.name:c:c,metadata:{id:b("nullthrows")((c=a)!=null?(c=c.video)!=null?c.id:c:c),description:(c=a)!=null?(c=c.video)!=null?(c=c.message)!=null?c.text:c:c:c,title:(c=a)!=null?(c=c.video)!=null?c.name:c:c,owner:{id:(c=a)!=null?(c=c.video)!=null?(c=c.owner)!=null?c.id:c:c:c,name:(c=a)!=null?(c=c.video)!=null?(c=c.owner)!=null?c.name:c:c:c,profilePictureUri:(c=a)!=null?(c=c.video)!=null?(c=c.owner)!=null?(c=c.profile_picture)!=null?c.uri:c:c:c:c,is_verified:!!((c=a)!=null?(c=c.video)!=null?(c=c.owner)!=null?c.is_verified:c:c:c)},duration:(c=a)!=null?(c=c.video)!=null?c.playable_duration:c:c,thumbnailUri:(c=a)!=null?(c=c.video)!=null?(c=c.preferred_thumbnail)!=null?(c=c.image)!=null?c.uri:c:c:c:c,url:b("nullthrows")((c=a)!=null?(c=c.video)!=null?c.url:c:c)}}},convertTopicChannel:function(a){var c;return{title:b("nullthrows")((c=a)!=null?c.channel_title:c),coverImageUri:b("nullthrows")((c=a)!=null?(c=c.channel_cover_image)!=null?c.uri:c:c)}},convertRecommendedShows:function(a){return!a?b("immutable").List():b("immutable").List(a.map(function(a){return this.convertProfile(a)}.bind(this)))},convertTab:function(a){__p&&__p();switch(a){case h.SEARCH:return b("LivingRoomCurationContext").SEARCH;case h.RECENT:return b("LivingRoomCurationContext").WATCHED;case h.GROUP:return b("LivingRoomCurationContext").GROUP;case h.LIVE:return b("LivingRoomCurationContext").LIVE;case h.SAVED:return b("LivingRoomCurationContext").SAVED;case h.SUGGESTED:return b("LivingRoomCurationContext").SUGGESTED;case h.AUTO:return b("LivingRoomCurationContext").AUTO;case h.PAGE:return b("LivingRoomCurationContext").PAGE}g(0,5694,a)}};e.exports=a}),null);
__d("LivingRoomVideoEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADDED_VIDEO:"ADDED_VIDEO",COMMENTATING_START:"COMMENTATING_START",COMMENTATING_STOP:"COMMENTATING_STOP",EMPTY_QUEUE:"EMPTY_QUEUE",GUEST_JOINED:"GUEST_JOINED",PAUSED:"PAUSED",PLAY_AUTO_PLAYED_VIDEO:"PLAY_AUTO_PLAYED_VIDEO",PLAY_DIRECT:"PLAY_DIRECT",PLAY_FROM_QUEUE:"PLAY_FROM_QUEUE",PLAY_NEXT_AUTO:"PLAY_NEXT_AUTO",PLAY_START:"PLAY_START",PLAYING:"PLAYING",PROMOTED_COHOST:"PROMOTED_COHOST",REMOVED_VIDEO:"REMOVED_VIDEO",REMOVED_VIDEO_WITH_PLAY:"REMOVED_VIDEO_WITH_PLAY",REQUEST_COHOST_PROMOTION:"REQUEST_COHOST_PROMOTION",REVOKED_COHOST:"REVOKED_COHOST",SEEK_BACKWARD:"SEEK_BACKWARD",SEEK_FORWARD:"SEEK_FORWARD",SESSION_END:"SESSION_END",SESSION_START:"SESSION_START",SHOW_INVITE_ONLINE_FRIENDS_PROMPT:"SHOW_INVITE_ONLINE_FRIENDS_PROMPT",SUGGESTED_VIDEO:"SUGGESTED_VIDEO"})}),null);
__d("LivingRoomVideoStateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomVideoStateSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomVideoStateSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},f=[e],g={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f},h={kind:"ScalarField",alias:null,name:"action_id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"badge_text",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},k=[j],l={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:k},m={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},o={kind:"InlineFragment",type:"User",selections:[n]},p={kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null};f={kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f};var q={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null};e={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160,type:"Int"},{kind:"Literal",name:"width",value:284,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},e]};var u={kind:"ScalarField",alias:null,name:"restriction_reason",args:null,storageKey:null};k={kind:"LinkedField",alias:null,name:"restriction_message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:k};var v={kind:"ScalarField",alias:null,name:"video_player_state",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"video_event",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"marker_offset_seconds",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"event_logged_timestamp",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"current_server_timestamp",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"live_commentating_delay_ms",args:null,storageKey:null};j={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null}]},j]};var B={kind:"ScalarField",alias:null,name:"seconds_until_premiere",args:null,storageKey:null};return{kind:"Request",operationKind:"subscription",name:"LivingRoomVideoStateSubscription",id:"1696972177076214",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomVideoStateSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_state_subscribe",storageKey:null,args:b,concreteType:"LivingRoomVideoStateSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_state",storageKey:null,args:null,concreteType:"LivingRoomVideoState",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d,g]},h,{kind:"LinkedField",alias:null,name:"content_item",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[c,i,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[c,d,l,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m,d,o,{kind:"InlineFragment",type:"Page",selections:[c,n,p,f,g]}]},q,r,s,t,e,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[e]}]},u,k]},v,w,x,y,z,A]},j,B]}]},operation:{kind:"Operation",name:"LivingRoomVideoStateSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_state_subscribe",storageKey:null,args:b,concreteType:"LivingRoomVideoStateSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"video_state",storageKey:null,args:null,concreteType:"LivingRoomVideoState",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m,c,d,g]},h,{kind:"LinkedField",alias:null,name:"content_item",storageKey:null,args:null,concreteType:"LivingRoomContentItem",plural:!1,selections:[c,i,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m,d,c]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[c,d,l,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m,d,c,o,{kind:"InlineFragment",type:"Page",selections:[n,p,f,g]}]},q,r,s,t,e,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[e,c]}]},u,k]},v,w,x,y,z,A]},j,B]}]}}}();e.exports=a}),null);
__d("LivingRoomVideoStateSubscription",["RelayModern","LivingRoomVideoStateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("LivingRoomVideoStateSubscription.graphql")};function a(a,b,c){b={input:b};return g(a,{subscription:h,variables:b,onNext:c.onNext})}e.exports={subscribe:a}}),null);
__d("LivingRoomStore",["Arbiter","CurrentUser","EntityPresenceManager","EntityPresenceTypeEnum","FluxReduceStore","LiveVideoBroadcastStatusUpdateSubscriptionHack","LivingRoomAction","LivingRoomActions","LivingRoomCommentatingSubscription","LivingRoomConstants","LivingRoomContentQueueSubscription","LivingRoomCrowdsourceEventSubscription","LivingRoomCustomNameSubscription","LivingRoomDispatcher","LivingRoomLoggerAction","LivingRoomPermissionsSubscription","LivingRoomPresenceSubscription","LivingRoomRecapSubscription","LivingRoomStyle","LivingRoomTypedLogger","LivingRoomTypeUtils","LivingRoomTypeValues","LivingRoomVideoEvent","LivingRoomVideoStateSubscription","RelayFBEnvironment","ServerTime","VideoBroadcastStatus","gkx","immutable","nullthrows","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j=b("LivingRoomTypeValues").AddVideoTabValue;c=b("LivingRoomTypeValues").WalkthroughStepValue;var k=1e3;g=babelHelpers.inherits(l,b("immutable").Record({actorID:null,addVideoErrorDialogShown:!1,addVideoDialogShown:!1,canViewerSeePresenceNux:!1,canViewerSeeWelcomeNux:!1,commentatingSubscription:null,commentatingConfig:null,contentQueue:b("immutable").List(),contentQueueDialogShown:!1,contentQueueSubscription:null,creator:null,creatorFirstName:null,currentContentItem:null,customName:"",customNameSubscription:null,cvcPresenceToken:null,displayedPrivacy:null,entryPoint:null,entrySource:null,experiments:b("immutable").Set(),feedPresenceUsers:b("immutable").List(),feedBlurOverlayShown:!1,groupID:null,invitedFriends:b("immutable").List(),isCreationPost:!1,isGameGroup:!1,isRtcCallOngoing:!1,isSessionEnded:!1,linkedPages:b("immutable").List(),notifSubscriptionStatus:null,nullStateStartTimestamp:null,pageID:null,permissions:null,permissionsSubscription:null,premiereLivingRoomBadgeText:null,presenceSubscription:null,presenceToken:null,presentUsers:b("immutable").List(),presentUserCount:null,previousContentCount:null,profile:null,promotedUsers:null,recapSubscription:null,selectedAddVideoTab:j.SEARCH,self:null,inviteDialogShown:!1,secondsUntilPremiere:null,style:b("LivingRoomStyle").DEFAULT,suggestedItems:b("immutable").List(),suggestedItemsCount:0,suggestedItemSubscription:null,topicChannel:null,url:null,usedPrepop:!1,videoState:null,videoStateSubscription:null,videoPlayerController:null,walkthroughStep:c.HIDE,wasJustCreated:!1}));g&&g.prototype;function l(){g.apply(this,arguments)}h=babelHelpers.inherits(m,b("immutable").Record({states:b("immutable").Map()}));h&&h.prototype;function m(){h.apply(this,arguments)}i=babelHelpers.inherits(a,b("FluxReduceStore"));i&&i.prototype;a.prototype.getInitialState=function(){return new m()};a.prototype.getLivingRoomState=function(a){return b("nullthrows")(this.getState().get("states").get(a))};a.prototype.getCurrentContentItem=function(a){return this.getLivingRoomState(a).get("currentContentItem")};a.prototype.getIsVideoPlaying=function(a){var b=this.getVideoState(a);return this.$LivingRoomStore1(a,b)};a.prototype.getNextContentItem=function(a){return this.getContentQueue(a).first()||null};a.prototype.getContentQueue=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("contentQueue"))};a.prototype.getSuggestedItems=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("suggestedItems"))};a.prototype.getSuggestedItemsCount=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("suggestedItemsCount"))};a.prototype.getContentQueueCount=function(a){return this.getContentQueue(a).count()};a.prototype.getGroupID=function(a){return this.getLivingRoomState(a).get("groupID")};a.prototype.getActorID=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("actorID"))};a.prototype.getPageID=function(a){return this.getLivingRoomState(a).get("pageID")};a.prototype.getPremiereLivingRoomBadgeText=function(a){return this.getLivingRoomState(a).get("premiereLivingRoomBadgeText")};a.prototype.getPresentUsers=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("presentUsers"))};a.prototype.getPresentUserCount=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("presentUserCount"))};a.prototype.hasOtherPresentUsers=function(a){return this.getPresentUsers(a).find(function(a){return a.profile.id!==b("CurrentUser").getID()})!==void 0};a.prototype.getHasVideos=function(a){return this.getCurrentContentItem(a)!==null||this.getContentQueue(a).count()>0};a.prototype.getVideoState=function(a){return this.getLivingRoomState(a).get("videoState")};a.prototype.getVideoPlayerController=function(a){return this.getLivingRoomState(a).get("videoPlayerController")};a.prototype.getPermissions=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("permissions"))};a.prototype.getLinkedPages=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("linkedPages"))};a.prototype.getInvitedFriends=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("invitedFriends"))};a.prototype.getSelf=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("self"))};a.prototype.getCanViewerSeePresenceNux=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("canViewerSeePresenceNux"))};a.prototype.getCanViewerSeeWelcomeNux=function(a){return this.getLivingRoomState(a).get("canViewerSeeWelcomeNux")};a.prototype.getWalkthroughStep=function(a){return this.getLivingRoomState(a).get("walkthroughStep")};a.prototype.getUrl=function(a){return this.getLivingRoomState(a).get("url")};a.prototype.getIsSessionEnded=function(a){return this.getLivingRoomState(a).get("isSessionEnded")};a.prototype.getAddVideoErrorDialogShown=function(a){return this.getLivingRoomState(a).get("addVideoErrorDialogShown")};a.prototype.getAddVideoDialogShown=function(a){return this.getLivingRoomState(a).get("addVideoDialogShown")};a.prototype.getContentQueueDialogShown=function(a){return this.getLivingRoomState(a).get("contentQueueDialogShown")};a.prototype.getTopicChannel=function(a){return this.getLivingRoomState(a).get("topicChannel")};a.prototype.getStyle=function(a){return this.getLivingRoomState(a).get("style")};a.prototype.getIsCreationPost=function(a){return this.getLivingRoomState(a).get("isCreationPost")};a.prototype.getSelectedAddVideoTab=function(a){return this.getLivingRoomState(a).get("selectedAddVideoTab")};a.prototype.getPromotedUsers=function(a){return this.getLivingRoomState(a).get("promotedUsers")};a.prototype.getEntryPoint=function(a){return this.getLivingRoomState(a).get("entryPoint")};a.prototype.getEntrySource=function(a){return this.getLivingRoomState(a).get("entrySource")};a.prototype.getCreator=function(a){return this.getLivingRoomState(a).get("creator")};a.prototype.getCreatorFirstName=function(a){return this.getLivingRoomState(a).get("creatorFirstName")};a.prototype.getCustomName=function(a){return this.getLivingRoomState(a).get("customName")};a.prototype.getProfile=function(a){return this.getLivingRoomState(a).get("profile")};a.prototype.getInviteDialogShown=function(a){return this.getLivingRoomState(a).get("inviteDialogShown")};a.prototype.getPresenceToken=function(a){return this.getLivingRoomState(a).get("presenceToken")};a.prototype.getCVCPresenceToken=function(a){return this.getLivingRoomState(a).get("cvcPresenceToken")};a.prototype.getShouldShowInviteDialogOnCreate=function(a){return this.getLivingRoomState(a).get("usedPrepop")&&this.getLivingRoomState(a).get("wasJustCreated")&&this.getPermissions(a).canViewerInvite&&!this.getShowInviteDefaultState(a)};a.prototype.getExperiments=function(a){return this.getLivingRoomState(a).get("experiments")};a.prototype.getFeedPresenceUsers=function(a){return this.getLivingRoomState(a).get("feedPresenceUsers")};a.prototype.getIsRtcCallOngoing=function(a){return this.getLivingRoomState(a).get("isRtcCallOngoing")};a.prototype.getDisplayedPrivacy=function(a){return this.getLivingRoomState(a).get("displayedPrivacy")};a.prototype.getPreviousContentCount=function(a){return b("nullthrows")(this.getLivingRoomState(a).get("previousContentCount"))};a.prototype.getSecondsUntilPremiere=function(a){return this.getLivingRoomState(a).get("secondsUntilPremiere")};a.prototype.getFeedBlurOverlayShown=function(a){return this.getLivingRoomState(a).get("feedBlurOverlayShown")};a.prototype.getIsGameGroup=function(a){return this.getLivingRoomState(a).get("isGameGroup")};a.prototype.getCommentatingConfig=function(a){return this.getLivingRoomState(a).get("commentatingConfig")};a.prototype.getNotifSubscriptionStatus=function(a){return this.getLivingRoomState(a).get("notifSubscriptionStatus")};a.prototype.getShowInviteDefaultState=function(a){return b("qex")._("710530")&&this.getStyle(a)===b("LivingRoomStyle").USER&&this.getPermissions(a).canViewerAddContent&&this.getPresentUserCount(a)<=3};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case b("LivingRoomAction").SET_CURRENT_CONTENT_ITEM:return this.$LivingRoomStore2(a,c.livingRoomID,"currentContentItem",c.contentItem);case b("LivingRoomAction").INIT_SUBSCRIPTIONS:a=this.$LivingRoomStore3(a,c.livingRoomID);a=this.$LivingRoomStore4(a,c.livingRoomID);a=this.$LivingRoomStore5(a,c.livingRoomID);a=this.$LivingRoomStore6(a,c.livingRoomID);a=this.$LivingRoomStore7(a,c.livingRoomID);a=this.$LivingRoomStore8(a,c.livingRoomID);a=this.$LivingRoomStore9(a,c.livingRoomID);a=this.$LivingRoomStore10(a,c.livingRoomID);return a;case b("LivingRoomAction").UPDATE_PRESENT_USERS:return this.$LivingRoomStore11(a,c.livingRoomID,["presentUsers","presentUserCount"],[c.presentUsers,c.presentUserCount]);case b("LivingRoomAction").UPDATE_VIDEO_STATE:return this.$LivingRoomStore12(a,c.livingRoomID,c.videoState);case b("LivingRoomAction").UPDATE_CONTENT_QUEUE:return this.$LivingRoomStore2(a,c.livingRoomID,"contentQueue",c.contentQueue);case b("LivingRoomAction").UPDATE_SUGGESTED_ITEMS:return this.$LivingRoomStore11(a,c.livingRoomID,["suggestedItems","suggestedItemsCount"],[c.suggestedItems,c.suggestedItemsCount]);case b("LivingRoomAction").INIT_STORE:return this.$LivingRoomStore13(a,c.livingRoomID,c.groupID,c.actorID);case b("LivingRoomAction").SET_PERMISSIONS:return this.$LivingRoomStore2(a,c.livingRoomID,"permissions",c.permissions);case b("LivingRoomAction").SET_PREMIERE_LIVING_ROOM_BADGE_TEXT:return this.$LivingRoomStore2(a,c.livingRoomID,"premiereLivingRoomBadgeText",c.premiereLivingRoomBadgeText);case b("LivingRoomAction").SET_LINKED_PAGES:return this.$LivingRoomStore2(a,c.livingRoomID,"linkedPages",c.linkedPages);case b("LivingRoomAction").CLOSE:return this.$LivingRoomStore14(a,c.livingRoomID);case b("LivingRoomAction").UPDATE_INVITED_FRIENDS:return this.$LivingRoomStore15(a,c.livingRoomID,c.invited);case b("LivingRoomAction").SET_VIDEO_PLAYER_CONTROLLER:return this.$LivingRoomStore2(a,c.livingRoomID,"videoPlayerController",c.vpc);case b("LivingRoomAction").SET_SELF:return this.$LivingRoomStore2(a,c.livingRoomID,"self",c.self);case b("LivingRoomAction").SET_CAN_VIEWER_SEE_PRESENCE_NUX:return this.$LivingRoomStore2(a,c.livingRoomID,"canViewerSeePresenceNux",c.canSee);case b("LivingRoomAction").SET_CAN_VIEWER_SEE_WELCOME_NUX:return this.$LivingRoomStore2(a,c.livingRoomID,"canViewerSeeWelcomeNux",c.canSee);case b("LivingRoomAction").SET_WALKTHROUGH_STEP:return this.$LivingRoomStore2(a,c.livingRoomID,"walkthroughStep",c.step);case b("LivingRoomAction").SET_URL:return this.$LivingRoomStore2(a,c.livingRoomID,"url",c.url);case b("LivingRoomAction").SET_IS_SESSION_ENDED:return this.$LivingRoomStore2(a,c.livingRoomID,"isSessionEnded",c.ended);case b("LivingRoomAction").SET_ADD_VIDEO_ERROR_DIALOG_SHOWN:return this.$LivingRoomStore2(a,c.livingRoomID,"addVideoErrorDialogShown",c.shown);case b("LivingRoomAction").SET_ADD_VIDEO_DIALOG_SHOWN:return this.$LivingRoomStore11(a,c.livingRoomID,["addVideoDialogShown","contentQueueDialogShown"],[c.shown,!1]);case b("LivingRoomAction").SET_CONTENT_QUEUE_DIALOG_SHOWN:return this.$LivingRoomStore11(a,c.livingRoomID,["contentQueueDialogShown","addVideoDialogShown"],[c.shown,!1]);case b("LivingRoomAction").SET_TOPIC_CHANNEL:return this.$LivingRoomStore2(a,c.livingRoomID,"topicChannel",c.topicChannel);case b("LivingRoomAction").SET_STYLE:return this.$LivingRoomStore2(a,c.livingRoomID,"style",c.style);case b("LivingRoomAction").SET_IS_CREATION_POST:return this.$LivingRoomStore2(a,c.livingRoomID,"isCreationPost",c.isCreationPost);case b("LivingRoomAction").SET_ADD_VIDEO_DIALOG_TAB:return this.$LivingRoomStore2(a,c.livingRoomID,"selectedAddVideoTab",c.tab);case b("LivingRoomAction").UPDATE_PROMOTED_USERS_PROMOTE:return this.$LivingRoomStore16(a,c.livingRoomID,c.user);case b("LivingRoomAction").UPDATE_PROMOTED_USERS_DEMOTE:return this.$LivingRoomStore17(a,c.livingRoomID,c.user);case b("LivingRoomAction").INIT_PROMOTED_USERS:return this.$LivingRoomStore2(a,c.livingRoomID,"promotedUsers",c.users);case b("LivingRoomAction").SET_ENTRY_POINT:return this.$LivingRoomStore2(a,c.livingRoomID,"entryPoint",c.uri);case b("LivingRoomAction").SET_CREATOR:return this.$LivingRoomStore2(a,c.livingRoomID,"creator",c.creator);case b("LivingRoomAction").SET_CREATOR_FIRST_NAME:return this.$LivingRoomStore2(a,c.livingRoomID,"creatorFirstName",c.creator);case b("LivingRoomAction").SET_CUSTOM_NAME:return this.$LivingRoomStore2(a,c.livingRoomID,"customName",c.customName);case b("LivingRoomAction").SET_PROFILE:return this.$LivingRoomStore2(a,c.livingRoomID,"profile",c.profile);case b("LivingRoomAction").SET_INVITE_DIALOG_SHOWN:return this.$LivingRoomStore2(a,c.livingRoomID,"inviteDialogShown",c.shown);case b("LivingRoomAction").JOIN:return this.$LivingRoomStore18(a,c.livingRoomID,c.entrySource);case b("LivingRoomAction").LEAVE:return this.$LivingRoomStore19(a,c.livingRoomID);case b("LivingRoomAction").SET_USED_PREPOP:return this.$LivingRoomStore2(a,c.livingRoomID,"usedPrepop",c.used);case b("LivingRoomAction").SET_WAS_JUST_CREATED:return this.$LivingRoomStore2(a,c.livingRoomID,"wasJustCreated",c.justCreated);case b("LivingRoomAction").SET_EXPERIMENTS:return this.$LivingRoomStore2(a,c.livingRoomID,"experiments",c.experiments);case b("LivingRoomAction").SET_NOTIF_SUBSCRIPTION_STATUS:return this.$LivingRoomStore2(a,c.livingRoomID,"notifSubscriptionStatus",c.notifSubscriptionStatus);case b("LivingRoomAction").SET_FEED_PRESENCE_USERS:return this.$LivingRoomStore2(a,c.livingRoomID,"feedPresenceUsers",c.feedPresenceUsers);case b("LivingRoomAction").SET_SECONDS_UNTIL_PREMIERE:return this.$LivingRoomStore2(a,c.livingRoomID,"secondsUntilPremiere",c.secondsUntilPremiere);case b("LivingRoomAction").SET_IS_RTC_CALL_ONGOING:return this.$LivingRoomStore2(a,c.livingRoomID,"isRtcCallOngoing",c.isRtcCallOngoing);case b("LivingRoomAction").SET_DISPLAYED_PRIVACY:return this.$LivingRoomStore2(a,c.livingRoomID,"displayedPrivacy",{description:c.description,iconUri:c.iconUri});case b("LivingRoomAction").SET_PREVIOUS_CONTENT_COUNT:return this.$LivingRoomStore2(a,c.livingRoomID,"previousContentCount",c.count);case b("LivingRoomAction").SET_FEED_BLUR_OVERLAY_SHOWN:return this.$LivingRoomStore2(a,c.livingRoomID,"feedBlurOverlayShown",c.shown);case b("LivingRoomAction").SET_IS_GAME_GROUP:return this.$LivingRoomStore2(a,c.livingRoomID,"isGameGroup",c.isGameGroup);case b("LivingRoomAction").SET_COMMENTATING_CONFIG:return this.$LivingRoomStore2(a,c.livingRoomID,"commentatingConfig",c.config);case b("LivingRoomAction").SET_ENTRY_SOURCE:return this.$LivingRoomStore2(a,c.livingRoomID,"entrySource",c.entrySource);case b("LivingRoomAction").CVC_ENTER:return this.$LivingRoomStore20(a,c.livingRoomID);case b("LivingRoomAction").CVC_LEAVE:return this.$LivingRoomStore21(a,c.livingRoomID);default:c.type;return a}};a.prototype.$LivingRoomStore2=function(a,c,d,e){return a.set("states",a.get("states").set(c,b("nullthrows")(a.get("states").get(c)).set(d,e)))};a.prototype.$LivingRoomStore11=function(a,c,d,e){var f=b("nullthrows")(a.get("states").get(c));for(var g=0;g<d.length;g++){var h=d[g],i=e[g];f=f.set(h,i)}return a.set("states",a.get("states").set(c,f))};a.prototype.$LivingRoomStore13=function(a,c,d,e){var f=a.get("states").get(c);f||(f=new l());e!==b("CurrentUser").getID()&&(f=f.set("selectedAddVideoTab",j.PAGE));return a.set("states",a.get("states").set(c,f.set("groupID",d).set("actorID",e).set("pageID",e===b("CurrentUser").getID()?null:e)))};a.prototype.$LivingRoomStore14=function(a,c){var d=b("nullthrows")(a.get("states").get(c)),e=["contentQueueSubscription","permissionsSubscription","presenceSubscription","videoStateSubscription","recapSubscription","suggestedItemSubscription","customNameSubscription","commentatingSubscription"];e.forEach(function(a){a=d.get(a);a&&a.dispose()});return this.$LivingRoomStore11(a,c,e,e.map(function(a){return null}))};a.prototype.$LivingRoomStore5=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("contentQueueSubscription"))return a;d=b("LivingRoomContentQueueSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore22(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"contentQueueSubscription",d)};a.prototype.$LivingRoomStore22=function(a,c){var d;d=((d=c)!=null?(d=d.living_room_content_queue_subscribe)!=null?(d=d.living_room)!=null?(d=d.queued_items)!=null?d.edges:d:d:d:d)||[];c=(c==null?void 0:(c=c.living_room_content_queue_subscribe)==null?void 0:(c=c.living_room)==null?void 0:(c=c.previous_content)==null?void 0:c.count)||0;d=b("LivingRoomTypeUtils").convertContentQueue(d);b("LivingRoomActions").updateContentQueue(a,d);b("LivingRoomActions").setPreviousContentCount(a,c)};a.prototype.$LivingRoomStore8=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("suggestedItemSubscription"))return a;d=b("LivingRoomCrowdsourceEventSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore23(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"suggestedItemSubscription",d)};a.prototype.$LivingRoomStore23=function(a,c){var d;d=((d=c)!=null?(d=d.living_room_crowdsource_event_subscribe)!=null?(d=d.living_room)!=null?(d=d.suggested_items)!=null?d.edges:d:d:d:d)||[];c=((c=c)!=null?(c=c.living_room_crowdsource_event_subscribe)!=null?(c=c.living_room)!=null?(c=c.suggested_items)!=null?c.count:c:c:c:c)||0;d=b("LivingRoomTypeUtils").convertSuggestedItems(d);b("LivingRoomActions").updateSuggestedItems(a,d,c);b("Arbiter").inform(b("LivingRoomConstants").UPDATE_SUGGESTED_ITEMS,{livingRoomID:a,suggestedItemsCount:c})};a.prototype.$LivingRoomStore3=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("presenceSubscription"))return a;d=b("LivingRoomPresenceSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore24(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"presenceSubscription",d)};a.prototype.$LivingRoomStore24=function(a,c){var d,e;e=((e=c)!=null?(e=e.living_room_presence_subscribe)!=null?(e=e.living_room)!=null?(e=e.active_viewers)!=null?e.edges:e:e:e:e)||[];e=b("LivingRoomTypeUtils").convertUsers(e.map(function(a){return a.node}));d=((d=c)!=null?(d=d.living_room_presence_subscribe)!=null?(d=d.living_room)!=null?d.viewer_count:d:d:d)||0;b("LivingRoomActions").updatePresentUsers(a,e,d);c=(c==null?void 0:(e=c.living_room_presence_subscribe)==null?void 0:(d=e.living_room)==null?void 0:d.feed_presence_users)||[];b("LivingRoomActions").setFeedPresenceUsers(a,b("LivingRoomTypeUtils").convertUsers(c))};a.prototype.$LivingRoomStore4=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("videoStateSubscription"))return a;d=b("LivingRoomVideoStateSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore25(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"videoStateSubscription",d)};a.prototype.$LivingRoomStore25=function(a,c){if(!c||!c.living_room_video_state_subscribe)return;var d=b("LivingRoomTypeUtils").convertVideoState(b("nullthrows")(c.living_room_video_state_subscribe.video_state));d.live_commentating_delay_ms!==0&&b("gkx")("686625")?window.setTimeout(function(){return b("LivingRoomActions").updateVideoState(a,d)},d.live_commentating_delay_ms):b("LivingRoomActions").updateVideoState(a,d);c.living_room_video_state_subscribe&&b("LivingRoomActions").setSecondsUntilPremiere(a,c.living_room_video_state_subscribe.seconds_until_premiere);d.contentItem||b("LivingRoomActions").setFeedBlurOverlayShown(a,!1)};a.prototype.$LivingRoomStore6=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("permissionsSubscription"))return a;d=b("LivingRoomPermissionsSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore26(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"permissionsSubscription",d)};a.prototype.$LivingRoomStore26=function(a,c){c=b("nullthrows")((c=c)!=null?(c=c.living_room_permissions_subscribe)!=null?c.living_room:c:c);var d=b("LivingRoomTypeUtils").convertPermissions(c);b("LivingRoomActions").setPermissions(a,d);if(this.getActorID(a)===b("CurrentUser").getID()){d=c.current_viewer;d&&b("LivingRoomActions").setSelf(a,b("LivingRoomTypeUtils").convertUser(d))}};a.prototype.$LivingRoomStore7=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("recapSubscription"))return a;d=b("LivingRoomRecapSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore27(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"recapSubscription",d)};a.prototype.$LivingRoomStore27=function(a,c){b("LivingRoomActions").setIsSessionEnded(a,!0),b("LivingRoomActions").setAddVideoDialogShown(a,!1),b("LivingRoomActions").setContentQueueDialogShown(a,!1),b("LivingRoomActions").close(a),b("LivingRoomActions").clearCurrentContentItem(a),b("LivingRoomActions").updateContentQueue(a,b("immutable").List())};a.prototype.$LivingRoomStore10=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("commentatingSubscription")||!b("gkx")("686625"))return a;d=b("LivingRoomCommentatingSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore28(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"commentatingSubscription",d)};a.prototype.$LivingRoomStore28=function(a,c){__p&&__p();var d;c=c==null?void 0:(c=c.live_video_commentating_event_subscribe)==null?void 0:(c=c.living_room)==null?void 0:c.live_commentating_videos;c=c&&c[0].video;var e=null,f=c==null?void 0:c.id;d=c==null?void 0:(d=c.owner)==null?void 0:d.id;var g=(c==null?void 0:c.broadcast_status)===b("VideoBroadcastStatus").LIVE;if(d&&f&&g){e={commentatorID:d,isAudioOnly:(g=c==null?void 0:c.is_live_audio_format)!=null?g:!1,videoID:f};b("LivingRoomActions").setCommentatingConfig(a,e);var h=b("LiveVideoBroadcastStatusUpdateSubscriptionHack").subscribe(f,function(c){c=c.live_video_broadcast_status_update_subscribe;c=c.video_broadcast_status;c===b("VideoBroadcastStatus").LIVE_STOPPED&&(b("LivingRoomActions").setCommentatingConfig(a,null),h.unsubscribe())})}};a.prototype.$LivingRoomStore9=function(a,c){var d=b("nullthrows")(a.get("states").get(c));if(d.get("customNameSubscription"))return a;d=b("LivingRoomCustomNameSubscription").subscribe(b("RelayFBEnvironment"),{living_room_id:c},{onNext:function(a){return this.$LivingRoomStore29(c,a)}.bind(this)});return this.$LivingRoomStore2(a,c,"customNameSubscription",d)};a.prototype.$LivingRoomStore29=function(a,c){c=((c=c)!=null?(c=c.living_room_custom_name_subscribe)!=null?c.custom_name:c:c)||"Watch Party";b("LivingRoomActions").setCustomName(a,c)};a.prototype.$LivingRoomStore15=function(a,b,c){var d=a.get("states").get(b).get("invitedFriends");return this.$LivingRoomStore2(a,b,"invitedFriends",d.concat([c]))};a.prototype.$LivingRoomStore16=function(a,b,c){var d=a.get("states").get(b).get("promotedUsers");return this.$LivingRoomStore2(a,b,"promotedUsers",d.add(c))};a.prototype.$LivingRoomStore17=function(a,b,c){var d=a.get("states").get(b).get("promotedUsers");return this.$LivingRoomStore2(a,b,"promotedUsers",d["delete"](c))};a.prototype.$LivingRoomStore18=function(a,c,d){new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").JOIN).setLivingRoomID(c).setEntrySource(d).log();var e=this.getActorID(c);e=b("CurrentUser").getID()===e?null:e;e=b("EntityPresenceManager").enter(b("EntityPresenceTypeEnum").LIVING_ROOM,c,e);a=this.$LivingRoomStore20(a,c);return this.$LivingRoomStore11(a,c,["presenceToken","entrySource"],[e,d])};a.prototype.$LivingRoomStore19=function(a,c){var d=this.getLivingRoomState(c).get("nullStateStartTimestamp");d!==null&&this.$LivingRoomStore30(c,d);d=this.getPresenceToken(c);d&&(new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").LEAVE).setLivingRoomID(c).log(),d.leave());a=this.$LivingRoomStore21(a,c);return this.$LivingRoomStore11(a,c,["presenceToken","nullStateStartTimestamp"],[null,null])};a.prototype.$LivingRoomStore20=function(a,c){if(!b("qex")._("730201"))return a;var d=b("EntityPresenceManager").enter(b("EntityPresenceTypeEnum").LIVING_ROOM_CVC,c,null);return this.$LivingRoomStore11(a,c,["cvcPresenceToken"],[d])};a.prototype.$LivingRoomStore21=function(a,c){if(!b("qex")._("730201"))return a;var d=this.getCVCPresenceToken(c);d&&d.leave();return this.$LivingRoomStore11(a,c,["cvcPresenceToken"],[null])};a.prototype.$LivingRoomStore1=function(a,c){return this.getCurrentContentItem(a)!==null&&(c===null||((a=c)!=null?a.videoEvent:a)!==b("LivingRoomVideoEvent").SESSION_END)};a.prototype.$LivingRoomStore12=function(a,c,d){var e=this.$LivingRoomStore1(c,d),f=this.getLivingRoomState(c).get("nullStateStartTimestamp");e?f!==null&&(this.$LivingRoomStore30(c,f),f=null):f===null&&(f=b("ServerTime").get());return this.$LivingRoomStore11(a,c,["currentContentItem","videoState","nullStateStartTimestamp"],[d.contentItem,d,f])};a.prototype.$LivingRoomStore30=function(a,c){new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").NULL_STATE_RENDERED).setLivingRoomID(a).addToExtraData("nullStateDuration",((b("ServerTime").get()-c)/k).toString()).log()};function a(){i.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("LivingRoomDispatcher"))}),null);
__d("LivingRoomCrowdsourceEventSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomCrowdsourceEventSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"LivingRoomCrowdsourceEventSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"action_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},f=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}],g={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:f},h={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},j={kind:"InlineFragment",type:"User",selections:[i]},k={kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},m=[l],n={kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m};m={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:m};var o={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null};l={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160,type:"Int"},{kind:"Literal",name:"width",value:284,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l]};var s={kind:"ScalarField",alias:null,name:"restriction_reason",args:null,storageKey:null};f={kind:"LinkedField",alias:null,name:"restriction_message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:f};var t={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};return{kind:"Request",operationKind:"subscription",name:"LivingRoomCrowdsourceEventSubscription",id:"1993852220698945",text:null,metadata:{},fragment:{kind:"Fragment",name:"LivingRoomCrowdsourceEventSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_crowdsource_event_subscribe",storageKey:null,args:b,concreteType:"LivingRoomCrowdsourceEventSubscribeResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"suggested_items",storageKey:null,args:null,concreteType:"LivingRoomToSuggestedContentItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToSuggestedContentItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomSuggestedContentItem",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[d,e,g,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,e,j,{kind:"InlineFragment",type:"Page",selections:[d,i,k,n,m]}]},o,p,q,r,l,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[l]}]},s,f]}]},t]}]}]}]},operation:{kind:"Operation",name:"LivingRoomCrowdsourceEventSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_crowdsource_event_subscribe",storageKey:null,args:b,concreteType:"LivingRoomCrowdsourceEventSubscribeResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"suggested_items",storageKey:null,args:null,concreteType:"LivingRoomToSuggestedContentItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"LivingRoomToSuggestedContentItemsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"LivingRoomSuggestedContentItem",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,e,d]},{kind:"LinkedField",alias:null,name:"video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[d,e,g,{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,e,d,j,{kind:"InlineFragment",type:"Page",selections:[i,k,n,m]}]},o,p,q,r,l,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[l,d]}]},s,f]}]},t]},d]}]}]}}}();e.exports=a}),null);
__d("LivingRoomCrowdsourceEventSubscription",["LivingRoomActorUtils","RelayModern","LivingRoomCrowdsourceEventSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LivingRoomActorUtils").runWithLivingRoomActor;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=function(){return b("LivingRoomCrowdsourceEventSubscription.graphql")};function a(a,b,c){var d={input:b};return g(b.living_room_id,function(b){return h(a,{subscription:i,variables:d,onNext:c.onNext})})}e.exports={subscribe:a}}),null);
__d("LivingRoomActorUtils",["LivingRoomStore","RelayAPIConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){var d=b("RelayAPIConfig").actorID;b("RelayAPIConfig").setActorID(a);c=c(a);b("RelayAPIConfig").setActorID(d);return c}function a(a,c){return g(b("LivingRoomStore").getActorID(a),c)}e.exports={runWithActorID:g,runWithLivingRoomActor:a}}),null);
__d("LivingRoomPremiereCountDown.react",["fbt","FluxContainer","LivingRoomStore","React","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={secondsUntilPremiere:b("LivingRoomStore").getSecondsUntilPremiere(this.props.livingRoomID)},c}a.getStores=function(){"use strict";return[b("LivingRoomStore")]};a.calculateState=function(a,c){"use strict";a=b("LivingRoomStore").getSecondsUntilPremiere(c.livingRoomID);return{secondsUntilPremiere:a}};a.prototype.componentDidMount=function(){"use strict";this.$1=b("setInterval")(function(){return this.setState(function(a){return{secondsUntilPremiere:a.secondsUntilPremiere==null?null:Math.max(a.secondsUntilPremiere-1,0)}})}.bind(this),1e3)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&b("clearInterval")(this.$1)};a.prototype.$2=function(a){"use strict";var b=a%60;a=Math.floor(a/60);var c=a%60;a=Math.floor(a/60);b=("0"+b).slice(-2);c=("0"+c).slice(-2);return a===0?[c,b].join(":"):[a<10?"0"+a:String(a),c,b].join(":")};a.prototype.render=function(){"use strict";return this.state.secondsUntilPremiere==null?null:g._("Starting in {timer count down}",[g._param("timer count down",this.$2(this.state.secondsUntilPremiere))])};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LivingRoomFeedAttachmentBadgeRow.react",["ix","cx","fbt","Image.react","LivingRoomPremiereCountDown.react","React","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){function a(a){return b("React").createElement("div",{className:(a.premiereLivingRoomBadgeText?"":"_6rb7")+(a.premiereLivingRoomBadgeText?" _731g":"")},b("React").createElement(b("Image.react"),{className:"_6rb8 _6ziq",src:a.premiereLivingRoomBadgeText==null?g("487848"):g("591215")}),b("React").createElement("span",{className:"_6rb8"},a.premiereLivingRoomBadgeText==null?i._("WATCH PARTY"):a.premiereLivingRoomBadgeText),a.premiereLivingRoomBadgeText!=null&&a.presentUserCount!=null&&b("React").createElement("span",{className:"_6rb8 _73qf"},i._({"*":"{number} Watching Now","_1":"1 Watching Now"},[i._plural(a.presentUserCount,"number")])),a.showTimerForPremiere===!0&&a.livingRoomID!==null&&b("React").createElement("span",{className:"_6rb8 _73qf"},b("React").createElement(b("LivingRoomPremiereCountDown.react"),{livingRoomID:b("nullthrows")(a.livingRoomID)})))}e.exports=a}),null);
__d("LivingRoomFeedAttachmentFooterJoinButton.react",["cx","fbt","FDSButton.react","LivingRoomFeedExperiments","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=b("LivingRoomFeedExperiments").cta_text,d=null;c==="watch_with"?d=h._("Watch with {Host name}",[h._param("Host name",a.creatorName)]):c==="go"?d=h._("Go"):d=h._("Join Now");return b("React").createElement("div",{className:"_4ilt"},b("React").createElement(b("FDSButton.react"),{onClick:function(){return a.onJoin&&a.onJoin()},label:d,maxWidth:144,use:"flat"}))}e.exports=a}),null);
__d("LivingRoomFeedAttachmentFooterNoContentItem.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){function a(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2lu8"},h._("Join in on the conversation")))}e.exports=a}),null);
__d("LivingRoomNoVideoPreview.react",["cx","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h){function a(a){return b("React").createElement("div",{className:"_3hj7"},b("React").createElement(b("Image.react"),{className:"_3hj8",src:a.backgroundImageURL!==null&&a.backgroundImageURL!==void 0&&a.backgroundImageURL!==""?a.backgroundImageURL:h("646608")}))}e.exports=a}),null);
__d("PremiereLivingRoomStoryPreview.react",["cx","fbt","LeftRight.react","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomFeedAttachmentFooterJoinButton.react","LivingRoomFeedAttachmentFooterNoContentItem.react","LivingRoomNoVideoPreview.react","React","StoryProfile.react","XUICard.react","XUICardSection.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){function a(a){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_3-8j"},b("React").createElement(b("StoryProfile.react"),{profilePicture:"/images/silhouettes/person_50x50.png",useRoundPicture:!0,username:a.creatorName,uploadTime:h._("Just Now"),description:h._("is hosting a new video release")})),b("React").createElement(b("XUIText.react"),{className:"_as3",display:"block",size:"header4"},a.description)),b("React").createElement("div",{className:"_15qs"},b("React").createElement(b("LivingRoomNoVideoPreview.react"),null),b("React").createElement(b("LivingRoomFeedAttachmentBadgeRow.react"),{livingRoomID:null,premiereLivingRoomBadgeText:h._("NEW RELEASE"),presentUserCount:0}),b("React").createElement("div",{className:"_2lu6"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("LivingRoomFeedAttachmentFooterNoContentItem.react"),null),b("React").createElement(b("LivingRoomFeedAttachmentFooterJoinButton.react"),{creatorName:a.creatorName})))))}e.exports=a}),null);
__d("OptimisticVideoPost.react",["fbt","cx","ActorURI","AsyncRequest","Layout.react","LeftRight.react","OptimisticPostMetadata.react","OptimisticPostMetadataWithoutThumbnail.react","OptimisticPostUFISection.react","PremiereLivingRoomStoryPreview.react","PrivacyConst","ProgressBar.react","PublishingToolsSource","React","ScheduledLiveStoryPreview.react","StoryProfile.react","VideoEditSource","VideoLibraryButton.react","VideoLibrarySource","VideoThumbnailConfig","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardSection.react","XVideoEditController","XVideoEditDialogController"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={shouldShowVideoLibraryNux:this.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0},this.getThumbnail=function(){return this.props.thumbnail?this.props.thumbnail:b("VideoThumbnailConfig").defaultThumbnailURL}.bind(this),this.onEditClick=function(){var a;this.props.shouldShowVideoEditDialog?(a=b("XVideoEditDialogController").getURIBuilder().setInt("video_id",this.props.videoID).setEnum("source",b("VideoEditSource").OPTIMISTIC_VIDEO_POST).getURI(),this.props.targetID&&(a=b("ActorURI").create(a,this.props.targetID)),new(b("AsyncRequest"))(a).send()):(a=b("XVideoEditController").getURIBuilder().setInt("v",this.props.videoID).setEnum("source",b("VideoEditSource").OPTIMISTIC_VIDEO_POST).getURI(),window.open(a,"_blank"))}.bind(this),this.onNuxDismiss=function(){this.setState({shouldShowVideoLibraryNux:!1}),this.props.onVideoLibraryNuxDismiss()}.bind(this),this.renderLayers=function(){return!this.props.shouldShowVideoLibraryNux?null:b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.video_library_button}.bind(this),shown:!0,position:"above",onCloseButtonClick:this.props.onVideoLibraryNuxDismiss,key:"videoLibraryNux"},"Manage your videos, all in one place.")}.bind(this),c}a.prototype.render=function(){"use strict";__p&&__p();var a=g._("Just Now"),c;this.props.progress>=100&&this.props.progressCompleteText?c=this.props.progressCompleteText:c=g._("Preparing... {number} \u0025",[g._param("number",this.props.progress)]);var d=null;this.props.shouldShowVideoLibraryButton&&(d=b("React").createElement(b("VideoLibraryButton.react"),{ref:"video_library_button",pageID:this.props.targetID,source:b("VideoLibrarySource").OPTIMISTIC_VIDEO_POST,refSource:b("PublishingToolsSource").OPTIMISTIC_VIDEO_POST}));var e=null;this.props.shouldShowVideoEditButton&&!this.props.isPremiereLivingRoom&&(e=b("React").createElement(b("XUIButton.react"),{className:"_4p26",label:"Edit",size:"small",onClick:this.onEditClick}));c=b("React").createElement(b("XUICardSection.react"),{background:"light-wash"},b("React").createElement("div",{className:"_pro"},b("React").createElement("div",{className:"_2uu3"},b("React").createElement(b("Layout.react"),{className:"_1mg"},b("React").createElement(k,null,b("React").createElement("div",null,b("React").createElement(b("ProgressBar.react"),{className:"_prp",value:this.props.progress,label:c}))),b("React").createElement(j,null,b("React").createElement("div",null,d,e))))));d=this.props.profilePicture||"";e=this.props.username||"";var f=this.props.privacySetting||-1;d=this.props.isPremiere||this.props.isPremiereLivingRoom?null:b("React").createElement(b("StoryProfile.react"),{className:"_4r8g",profilePicture:d,username:e,uploadTime:a,privacySetting:f});a=null;this.props.isPremiere?a=b("React").createElement(b("ScheduledLiveStoryPreview.react"),{targetID:this.props.targetID||"",description:this.props.metadataDescription||"",isPremiere:!0,plannedStartTime:this.props.premiereTimeSeconds||0}):this.props.isPremiereLivingRoom?a=b("React").createElement(b("PremiereLivingRoomStoryPreview.react"),{creatorName:e,description:this.props.metadataDescription}):a=this.props.thumbnail?b("React").createElement(b("OptimisticPostMetadata.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,image:this.getThumbnail()}):b("React").createElement(b("OptimisticPostMetadataWithoutThumbnail.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,videoFileUrl:this.props.videoFileUrl});f=g._("Boost Post");e=this.props.isPagePost?b("React").createElement("div",{className:"_5c_1"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null),b("React").createElement(b("XUIButton.react"),{label:f,use:"confirm"}))):null;f=b("React").createElement(b("OptimisticPostUFISection.react"),{profilePicture:this.props.profilePicture,isPagePost:this.props.isPagePost});d=b("React").createElement("div",null,d,a,e,f);a=b("React").createElement("div",{className:"_5c_3"});return b("React").createElement("div",{className:this.props.isPagePost?"_5ctl":""},b("React").createElement(b("XUICard.react"),{className:"_4p28"},c,b("React").createElement("div",{className:"_prq"},d,a)),this.renderLayers())};a.propTypes={profilePicture:c.string,username:c.string,privacySetting:c.number,metadataTitle:c.string,metadataDescription:c.string,thumbnail:c.string,videoID:c.string,isPagePost:c.bool,isPremiere:c.bool,isPremiereLivingRoom:c.bool,premiereTimeSeconds:c.number,progress:c.number,progressCompleteText:c.string,shouldShowVideoEditButton:c.bool,shouldShowVideoEditDialog:c.bool,targetID:c.string,videoFileUrl:c.string,shouldShowVideoLibraryNux:c.bool};a.defaultProps={profilePicture:"",username:"",privacySetting:b("PrivacyConst").BaseValue.EVERYONE,metadataTitle:"",metadataDescription:"",thumbnail:"",progress:0,videoID:"",isPagePost:!1,isPremiere:!1,isPremiereLivingRoom:!1,premiereTimeSeconds:0,progressCompleteText:"",shouldShowVideoEditButton:!0,shouldShowVideoEditDialog:!1,videoFileUrl:"",shouldShowVideoLibraryNux:!1};e.exports=a}),null);
__d("OptimisticVideoPostEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO_POST_ADDED:"video_post_added",VIDEO_POST_REMOVED:"video_post_removed",POST_REMOVED_WITHOUT_REPLACEMENT:"post_removed_without_replacement"})}),null);
__d("OptimisticVideoPostLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){a={logEvent:function(event,a,c,d,e){b("BanzaiLogger").log("OptimisticVideoPostLoggerConfig",{number_of_posts:c,source:a,event:event,target_id:d,video_id:e})}};e.exports=a}),null);
__d("OptimisticVideoPostSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGES_TIMELINE:"pages_timeline",VIDEO_HUB:"video_hub",USERS_TIMELINE:"users_timeline"})}),null);
__d("VideoLibraryNuxAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",DISMISS:"dismiss"})}),null);
__d("VideoLibraryNuxType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HIGHLIGHTED_VIDEOS_NUX:"highlighted_videos_nux",OPTIMISTIC_POST_NUX:"optimistic_post_nux",VIDEO_HUB_NUX:"video_hub_nux",VIDEO_INSIGHTS_NUX:"video_insights_nux"})}),null);
__d("XVideoCaptionRenderGenerateHeaderAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/pagePosts/",{video_id:{type:"Int"}})}),null);
__d("VideoPostGenerateCaptionHeader",["csx","AsyncRequest","DOM","Parent","XVideoCaptionRenderGenerateHeaderAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();a={renderHeader:function(a,c){__p&&__p();a=b("Parent").bySelector(a,"#pagelet_timeline_main_column");if(!a)return;a=b("DOM").scry(a,"._5sem")[0];if(a){var d=b("DOM").create("div");b("DOM").prependContent(a,d);a=b("XVideoCaptionRenderGenerateHeaderAsyncController").getURIBuilder().setInt("video_id",c).getURI();new(b("AsyncRequest"))().setMethod("GET").setRelativeTo(d).setURI(a).setReadOnly(!0).setAllowCrossPageTransition(!0).send()}}};e.exports=a}),null);
__d("XProfileVideoRefreshController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/refresh_profile_video/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoLibraryNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/video_library/nux/",{action:{type:"Enum",required:!0,enumType:1},nux_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoOptimisticPostingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/optimistic_posting/",{video_id:{type:"Int",required:!0}})}),null);
__d("OptimisticVideoPostList.react",["Arbiter","AsyncRequest","ChannelConstants","FBFeedLocations","OptimisticVideoPost.react","OptimisticVideoPostEvent","OptimisticVideoPostLogger","OptimisticVideoPostSource","OptimisticVideoPostUtils","PagesComposer","ProfileVideoWWWFrontendActionTypedLogger","React","ReactDOM","ReloadPage","Run","TimelineComposer","VideoLibraryNuxAction","VideoLibraryNuxType","VideoPostGenerateCaptionHeader","VideoUploadProgressUtils","XProfileVideoRefreshController","XVideoGenerateStoryController","XVideoLibraryNuxController","XVideoOptimisticPostingController","clearInterval","clearTimeout","setInterval","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g,h=a.URL||a.webkitURL||{},i="video_encode",j=7,k=5e3,l=2,m=1e3,n=30;d=babelHelpers.inherits(c,b("React").Component);g=d&&d.prototype;function c(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$4={},this.state={videoPostsMetadata:{},videoPosts:[],shouldRefreshAfterEncoding:!1,shouldShowVideoEditButton:!0,shouldShowVideoLibraryButton:this.props.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:this.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0,videoLibraryNuxImpressionLogged:!1,renderedVideoPosts:[]},this.initializePosts=function(){__p&&__p();var a=[],c={};for(var d=0;d<this.props.data.length;d++){if(!b("OptimisticVideoPostUtils").shouldShowOptimisticPost(this.props.data[d]))break;var e=babelHelpers["extends"]({},this.props.data[d],{shouldRender:!1});e.progress=0;e.progressWithoutFake=0;var f=e.videoID;e.inactivityTimer=this.startInactivityTimer(f);a.push(f);c[f]=e}this.setState({videoPostsMetadata:c,videoPosts:a})}.bind(this),this.getChannelType=function(){return b("ChannelConstants").getArbiterType(i)},this.updateVideoData=function(a){__p&&__p();var c={};c[a.videoID]=babelHelpers["extends"]({},a,{shouldRender:!0,fakeProgressTimer:b("setInterval")(function(){return this.fakeInitialProgress(a.videoID)}.bind(this),3e3),inactivityTimer:this.startInactivityTimer(a.videoID)});c[a.videoID].progress=0;c[a.videoID].progressWithoutFake=0;c=babelHelpers["extends"]({},this.state.videoPostsMetadata,c);var d=[a.videoID].concat(this.state.videoPosts);this.$1=a.refreshTimeout;this.$2=a.originalComposerID;this.$3=a.progressCompleteText;this.setState({shouldRefreshAfterEncoding:!!a.shouldRefreshAfterEncoding,shouldShowVideoEditButton:a.shouldShowVideoEditButton!=null?a.shouldShowVideoEditButton:!0,shouldShowVideoLibraryButton:a.shouldShowVideoLibraryButton!=null?a.shouldShowVideoLibraryButton:this.state.shouldShowVideoLibraryButton,videoPostsMetadata:c,videoPosts:d});this.logEvent(b("OptimisticVideoPostEvent").VIDEO_POST_ADDED,a.videoID)}.bind(this),this.onVideoPostSubmitted=function(a,c){if(!b("OptimisticVideoPostUtils").shouldShowOptimisticPost(c))return;if(!c.isToUserProfile){this.updateVideoData(c);return}a=b("XVideoOptimisticPostingController").getURIBuilder().setInt("video_id",c.videoID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.updateVideoData(babelHelpers["extends"]({},a.payload,{videoFileUrl:c.videoFileURL}))}.bind(this)).send()}.bind(this),this.checkVideoStatus=function(a){b("OptimisticVideoPostUtils").checkVideoStatus(a,this.onEncodeFinish,this.onEncodeFinish,this.restartInactivityTimer)}.bind(this),this.startInactivityTimer=function(a){return b("setTimeout")(function(){return this.checkVideoStatus(a)}.bind(this),k)}.bind(this),this.restartInactivityTimer=function(a){this.stopInactivityTimer(a);var b=babelHelpers["extends"]({},this.state.videoPostsMetadata),c=babelHelpers["extends"]({},b[a]);c.inactivityTimer=this.startInactivityTimer(a);b[a]=c;this.setState({videoPostsMetadata:b})}.bind(this),this.stopInactivityTimer=function(a){b("clearTimeout")(this.state.videoPostsMetadata[a].inactivityTimer)}.bind(this),this.logEvent=function(event,a){b("OptimisticVideoPostLogger").logEvent(event,this.props.isPagePost?b("OptimisticVideoPostSource").PAGES_TIMELINE:b("OptimisticVideoPostSource").USERS_TIMELINE,this.state.videoPosts.length,this.props.targetID,a)}.bind(this),this.fakeInitialProgress=function(a){__p&&__p();var b=this.state.videoPostsMetadata[a].progress;if(b>j){this.stopFakeInitialProgress(a);return}b=babelHelpers["extends"]({},this.state.videoPostsMetadata);var c=babelHelpers["extends"]({},b[a]);c.progress+=1;b[a]=c;this.setState({videoPostsMetadata:b});this.restartInactivityTimer(a)}.bind(this),this.stopFakeInitialProgress=function(a){if(!this.state.videoPostsMetadata[a].fakeProgressTimer)return;var c=babelHelpers["extends"]({},this.state.videoPostsMetadata);b("clearTimeout")(c[a].fakeProgressTimer);var d=babelHelpers["extends"]({},c[a]);d.fakeProgressTimer=null;c[a]=d;this.setState({videoPostsMetadata:c})}.bind(this),this.onEncodeUpdate=function(a,c){__p&&__p();a=String(c.obj.videoID);if(!this.state.videoPostsMetadata[a])return;var d=babelHelpers["extends"]({},this.state.videoPostsMetadata),e=babelHelpers["extends"]({},d[a]),f={progress:e.progress,progressWithoutFake:e.progressWithoutFake};f=b("VideoUploadProgressUtils").getUpdatedProgress(c,f);f.progress!==-1&&(this.stopFakeInitialProgress(a),e.progress=f.progress,e.shouldRender=!0);e.progressWithoutFake=f.progressWithoutFake;d[a]=e;this.setState({videoPostsMetadata:d});b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)?this.onEncodeFinish(a):this.restartInactivityTimer(a)}.bind(this),this.onEncodeFinish=function(a){if(!this.state.videoPostsMetadata[a])return;this.stopInactivityTimer(a);var c=this.props.isPagePost?b("FBFeedLocations").PAGE_TIMELINE:b("FBFeedLocations").TIMELINE,d=b("XVideoGenerateStoryController").getURIBuilder().setInt("video_id",a).setEnum("feed_location",c).getURI();new(b("AsyncRequest"))().setURI(d).setData({video_id:a,feed_location:c}).setHandler(function(b){return this.handleRequest(b,a)}.bind(this)).send()}.bind(this),this.refreshWhenDone=function(a){var c=!0,d=Date.now(),e=b("setInterval")(function(){if(c){c=!1;var f=b("XProfileVideoRefreshController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(a){c=!0,a.payload.profile_video_is_set?(b("clearInterval")(e),new(b("ProfileVideoWWWFrontendActionTypedLogger"))().setEvent("profile_video_set").setSessionID(this.$2).log(),b("ReloadPage").now()):Date.now()-d>this.$1&&b("clearInterval")(e)}.bind(this)).send()}}.bind(this),m)}.bind(this),this.removeOptimisticPost=function(a){var c=babelHelpers["extends"]({},this.state.videoPostsMetadata);delete c[a];var d=this.state.videoPosts;d=this.removeVideoID(d,a);this.setState({videoPostsMetadata:c,videoPosts:d});this.logEvent(b("OptimisticVideoPostEvent").VIDEO_POST_REMOVED,a)}.bind(this),this.removeVideoID=function(a,b){b=a.indexOf(b);a.splice(b,1);return a},this.onVideoLibraryNuxShown=function(){var a=this.state.videoLibraryNuxImpression+1;this.setState({videoLibraryNuxImpression:a});a>=l&&this.setState({shouldShowVideoLibraryNux:!1})}.bind(this),this.onVideoLibraryNuxDismiss=function(){this.setState({shouldShowVideoLibraryNux:!1});var a=b("XVideoLibraryNuxController").getURIBuilder().setEnum("action",b("VideoLibraryNuxAction").DISMISS).setEnum("nux_type",b("VideoLibraryNuxType").OPTIMISTIC_POST_NUX).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this),this.setThumbnailURL=function(a,b){var c=babelHelpers["extends"]({},this.state.videoPostsMetadata);c[b].videoThumbnail=a;this.setState({videoPostsMetadata:c})}.bind(this),c}c.prototype.componentDidUpdate=function(){"use strict";if(!this.state.videoLibraryNuxImpressionLogged&&this.state.videoPosts.length>0&&this.state.shouldShowVideoLibraryNux){var a=b("XVideoLibraryNuxController").getURIBuilder().setEnum("action",b("VideoLibraryNuxAction").IMPRESSION).setEnum("nux_type",b("VideoLibraryNuxType").OPTIMISTIC_POST_NUX).getURI();new(b("AsyncRequest"))().setURI(a).send();this.setState({videoLibraryNuxImpressionLogged:!0})}};c.prototype.componentDidMount=function(){"use strict";var a=b("Arbiter").subscribe("videoUpload/complete",this.onVideoPostSubmitted),c=b("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);b("Run").onLeave(function(){return a.unsubscribe()});b("Run").onLeave(function(){return c.unsubscribe()});this.props.data.length>0&&this.initializePosts()};c.prototype.handleRequest=function(a,c){__p&&__p();var d;d=!!((d=this.state.videoPostsMetadata[c])==null?void 0:d.isPremiereLivingRoom);a=a.payload;if(d&&!a){d=this.$4[c]||0;if(d<n){this.$4[c]=d+1;window.setTimeout(function(){return this.onEncodeFinish(c)}.bind(this),m);return}}if(a)if(this.props.isPagePost){if(this.state.renderedVideoPosts.includes(c))return;this.setState(function(a,b){return{renderedVideoPosts:a.renderedVideoPosts.concat([c])}});b("PagesComposer").renderStory(b("ReactDOM").findDOMNode(this),a);this.props.shouldShowVideoCaptionHeader&&b("VideoPostGenerateCaptionHeader").renderHeader(b("ReactDOM").findDOMNode(this),c)}else b("TimelineComposer").renderCapsuleBasedStory(b("ReactDOM").findDOMNode(this),a);else this.logEvent(b("OptimisticVideoPostEvent").POST_REMOVED_WITHOUT_REPLACEMENT,c);this.state.shouldRefreshAfterEncoding?this.refreshWhenDone(c):this.removeOptimisticPost(c)};c.prototype.renderOptimisticPost=function(a,c){"use strict";if(!a.shouldRender)return b("React").createElement("div",{key:a.videoID});var d;a.videoThumbnail?d=a.videoThumbnail:h.createObjectURL&&a&&a.videoThumbnailBlob?(d=h.createObjectURL(a.videoThumbnailBlob),this.setThumbnailURL(d,a.videoID)):d="";return b("React").createElement(b("OptimisticVideoPost.react"),{username:a.userDisplayName,profilePicture:a.userProfilePictureURI,metadataTitle:a.videoTitle,metadataDescription:a.videoDescription,thumbnail:d,videoID:a.videoID,videoFileUrl:a.videoFileUrl,key:a.videoID,progress:a.progress,privacySetting:a.privacySetting,isPagePost:this.props.isPagePost,isPremiere:a.isPremiere,isPremiereLivingRoom:a.isPremiereLivingRoom,shouldShowVideoEditButton:this.state.shouldShowVideoEditButton,shouldShowVideoEditDialog:this.props.shouldShowVideoEditDialog,targetID:this.props.targetID,premiereTimeSeconds:a.premiereTimeMs/1e3,progressCompleteText:this.$3,shouldShowVideoLibraryButton:this.state.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:c,onVideoLibraryNuxDismiss:this.onVideoLibraryNuxDismiss,onVideoLibraryNuxShown:this.onVideoLibraryNuxShown})};c.prototype.render=function(){"use strict";var a=this.state.videoPostsMetadata,c=this.state.videoPosts.map(function(b,c){return this.renderOptimisticPost(a[b],c===0&&this.state.shouldShowVideoLibraryNux)}.bind(this));return b("React").createElement("ul",null,c)};e.exports=c}),null);
__d("OptimisticVideoPostController",["CSS","OptimisticVideoPostList.react","React","ReactDOM"],(function(a,b,c,d,e,f){a={init:function(a,c,d,e,f,g,h,i){this._postsContainer=a,b("ReactDOM").render(b("React").createElement(b("OptimisticVideoPostList.react"),{data:c,targetID:d,isPagePost:e,shouldShowVideoEditDialog:f,shouldShowVideoLibraryButton:g,shouldShowVideoLibraryNux:h,shouldShowVideoCaptionHeader:i}),this._postsContainer),b("CSS").show(this._postsContainer)}};e.exports=a}),null);
__d("ProfileTimelineTailLoadTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineTailLoadLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineTailLoadLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineTailLoadLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setBufferPx=function(a){this.$1.buffer_px=a;return this};a.prototype.setDisplayDone=function(a){this.$1.display_done=a;return this};a.prototype.setPageSize=function(a){this.$1.page_size=a;return this};a.prototype.setTailLoadPosition=function(a){this.$1.tail_load_position=a;return this};a.prototype.setTailLoadStatus=function(a){this.$1.tail_load_status=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVisibleDuration=function(a){this.$1.visible_duration=a;return this};c={buffer_px:!0,display_done:!0,page_size:!0,tail_load_position:!0,tail_load_status:!0,vc:!0,visible_duration:!0};e.exports=a}),null);
__d("WwwProfileQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TIMELINE_TAIL_LOAD_WWW:26476545})}),null);
__d("ProfileTimelineTailLoadLogger",["csx","DOM","ProfileTimelineTailLoadTypedLogger","QuickPerformanceLogger","TailLoadLogger","WwwProfileQuickLogModule","$","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("gkx")("678763");c=babelHelpers.inherits(a,b("TailLoadLogger"));h=c&&c.prototype;function a(a,b,c){h.constructor.call(this,"timeline",a,b),this.$ProfileTimelineTailLoadLogger2=!1,this.$ProfileTimelineTailLoadLogger1=c}a.prototype.createLogger=function(){var a=new(b("ProfileTimelineTailLoadTypedLogger"))(),c=this.$ProfileTimelineTailLoadLogger1;c&&a.setBufferPx(c.buffer).setPageSize(c.pageSize);return a};a.prototype.getStoryCount=function(){return b("DOM").scry(b("$")("timeline_tab_content"),"._5pat").length};a.prototype.setQPLStartMarker=function(){i&&!this.$ProfileTimelineTailLoadLogger2&&(b("QuickPerformanceLogger").markerStart(b("WwwProfileQuickLogModule").TIMELINE_TAIL_LOAD_WWW),this.$ProfileTimelineTailLoadLogger2=!0)};a.prototype.setQPLEndMarker=function(a){i&&this.$ProfileTimelineTailLoadLogger2&&(b("QuickPerformanceLogger").markerEnd(b("WwwProfileQuickLogModule").TIMELINE_TAIL_LOAD_WWW,a),this.$ProfileTimelineTailLoadLogger2=!1)};a.prototype.setQPLMarkerPoint=function(){i&&this.$ProfileTimelineTailLoadLogger2&&b("QuickPerformanceLogger").markerPoint(b("WwwProfileQuickLogModule").TIMELINE_TAIL_LOAD_WWW,"SHIMMER_HIDDEN")};e.exports=a}),null);
__d("TimelineContextItemLogger",["cx","BanzaiLogger","Event","FBJSON","Parent","Run","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MTimelineXContextItemsLoggerConfig",i="impression",j="click",k="context_item_url",l="event",m="_md0",n=[];function o(a,c,d){a=a.getAttribute("data-store");if(a){a=b("FBJSON").parse(a);a[l]=c;d&&(a[k]=d);b("BanzaiLogger").log(h,a)}}a={logWhenVisible:function(a){n.length||b("Run").onLeave(function(){n=[]}),n.push(a)},logWhenClicked:function(a){b("tidyEvent")(b("Event").listen(a,"click",function(a){a=a.getTarget();if(a.nodeName!=="A")return;var c=b("Parent").byClass(a,m);c&&o(c,j,a.href)}))},listenToExpand:function(a){b("tidyEvent")(a.addListener("expanded",function(){while(n.length)o(n.pop(),i)}))}};e.exports=a}),null);
__d("TimelineScrubberKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MONTH:"month",RECENT_ACTIVITY:"recent",YEAR:"year"})}),null);
__d("TimelineSection",["Arbiter","CSS","DOM","Parent","ScrollingPager","TimelineConstants","TimelineLegacySections","TimelineScrubberKey","UIPagelet"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e,f){"use strict";this.$1=a,this.$2=e,this.$3=c,this.$4=null,this.$5=null,this.$6=!0,this.$7=!0,this.$8=c!==b("TimelineScrubberKey").RECENT_ACTIVITY,this.$9=f,this.$10=d,this.$11={},this.$12=!1,this.$13=[],this.$14=!1}a.prototype.load=function(a,c){"use strict";__p&&__p();if(this.$2){this.activateContentScrollLoad();return}var d=this.$10;b("Arbiter").inform(b("TimelineConstants").SECTION_LOADING,{data:d,scrubberKey:this.$3});this.$2=!0;b("CSS").removeClass(this.$1,"fbTimelineTimePeriodUnexpanded");b("CSS").removeClass(this.$1,"fbTimelineTimePeriodSuppressed");var e=b("TimelineLegacySections").shouldForceNoFriendActivity();d=babelHelpers["extends"]({},d,{highlight_unit_data:a,parent_key:this.$4,force_no_friend_activity:e});b("CSS").addClass(this.$1,"fbTimelineSectionLoading");this.$6=!1;this.activateContentScrollLoad();c&&(this.$1.style.minHeight=window.innerHeight+"px",b("Arbiter").subscribeOnce(b("TimelineConstants").SECTION_FULLY_LOADED,function(c,a){a.scrubberKey===this.$3&&(this.$1.style.minHeight="",b("TimelineLegacySections").destroyOnVisible(this.$3))}.bind(this)));b("TimelineLegacySections").addLoadPagelet(this.$3,b("UIPagelet").loadFromEndpoint("ProfileTimelineSectionPagelet",this.$1.id,d,{usePipe:!0,jsNonblock:!0,constHeight:!0,append:!1}));b("TimelineLegacySections").collapsePlaceHolderHeaders()};a.prototype.preload=function(){"use strict";b("CSS").addClass(this.$1,"fbTimelineTimePeriodSuppressed");b("CSS").removeClass(this.$1,"fbTimelineTimePeriodUnexpanded");var a=b("DOM").find(this.$1,"span.sectionLabel");a.getAttribute("data-original-label")&&(b("DOM").setContent(a,a.getAttribute("data-original-label")),a.removeAttribute("data-original-label"))};a.prototype.unload=function(){"use strict";if(!this.$2||!this.$8)return;this.$2=!1;b("TimelineLegacySections").cancelLoadPagelet(this.$3);b("CSS").addClass(this.$1,"fbTimelineTimePeriodUnexpanded");b("CSS").removeClass(this.$1,"fbTimelineTimePeriodSuppressed");this.$1.nextSibling instanceof Element&&b("CSS").hasClass(this.$1.nextSibling,"fbTimelineSection")?(b("DOM").setContent(this.$1,this.$1.nextSibling),this.$1.firstChild instanceof Element&&b("CSS").show(this.$1.firstChild)):b("DOM").empty(this.$1);this.deactivateScrollLoad()};a.prototype.canScrollLoad=function(){"use strict";return this.$6};a.prototype.activateScrollLoad=function(){"use strict";this.$6=!0;b("CSS").removeClass(this.$1,"fbTimelineTimePeriodSuppressed");b("CSS").addClass(this.$1,"fbTimelineTimePeriodUnexpanded");var a=b("TimelineLegacySections").getOnVisible(this.$3);a&&a.reset();return this};a.prototype.deactivateScrollLoad=function(){"use strict";__p&&__p();if(!this.$2){this.$6=!1;b("CSS").removeClass(this.$1,"fbTimelineTimePeriodUnexpanded");b("CSS").addClass(this.$1,"fbTimelineTimePeriodSuppressed");var a=b("TimelineLegacySections").getOnVisible(this.$3);a&&a.remove()}b("DOM").scry(this.$1,".fbTimelineSectionExpandPager").forEach(function(a){var c=b("ScrollingPager").getInstance(a.id);c&&c.removeOnVisible();c=b("Parent").byClass(a,"stat_elem");c&&b("CSS").removeClass(c,"async_saving")});return this};a.prototype.canContentScrollLoad=function(){"use strict";return this.$7};a.prototype.activateContentScrollLoad=function(){"use strict";this.$7=!0;return this};a.prototype.deactivateContentScrollLoad=function(){"use strict";this.$7=!1;return this};a.prototype.getNode=function(){"use strict";return this.$1};a.prototype.getScrubberKey=function(){"use strict";return this.$3};a.prototype.getParentKey=function(){"use strict";return this.$4};a.prototype.setParentKey=function(a){"use strict";this.$4=a;return this};a.prototype.addSubSection=function(a,b){"use strict";Array.isArray(this.$5)||(this.$5=[]);Array.isArray(this.$5)&&(this.$5[a]=b);return this};a.prototype.getSubSections=function(){"use strict";return this.$5};a.prototype.isLoaded=function(){"use strict";return this.$2};a.prototype.isRightColumnFinished=function(){"use strict";return this.$12};a.prototype.setRightColumnFinished=function(){"use strict";this.$12=!0;return this};a.prototype.getHistoricUnitCount=function(){"use strict";return this.$9};a.prototype.expand=function(a){"use strict";__p&&__p();if(!this.$2)return this;var c=b("DOM").find(this.$1,".fbTimelineSectionExpander");b("CSS").addClass(c.firstChild,"async_saving");a&&b("CSS").addClass(a,"async_saving");b("Arbiter").inform(b("TimelineConstants").SECTION_EXPAND,this.$3);b("DOM").scry(this.$1,".fbTimelineCapsule").forEach(b("DOM").remove);this.$11.new_expand=!0;b("TimelineLegacySections").cancelLoadPagelet(this.$3);b("TimelineLegacySections").addLoadPagelet(this.$3,b("UIPagelet").loadFromEndpoint("ProfileTimelineSectionPagelet",c.id,this.$11,{usePipe:!0,jsNonblock:!0,constHeight:!0}));return this};a.prototype.isPermalinkPeriod=function(){"use strict";return!!this.$10.is_permalink_period};a.prototype.isHidden=function(){"use strict";return this.$14};a.prototype.hide=function(){"use strict";this.$14=!0;b("CSS").hide(b("DOM").find(this.$1,".fbTimelineSection"));return this};a.prototype.isHiddenFromView=function(){"use strict";return!this.$2||this.$14||b("CSS").hasClass(this.$1,"fbTimelineTimePeriodUnexpanded")};a.prototype.hasPendingCallbacks=function(){"use strict";return this.$13.length>0};a.prototype.queueDisplayCallback=function(a,b){"use strict";this.$13[a]=b;return this};a.prototype.runPendingDisplayCallbacks=function(){"use strict";while(this.hasPendingCallbacks()){var a=this.$13.shift();a&&a()}return this};e.exports=a}),null);
__d("TimelineContentLoader",["csx","Arbiter","CSS","DOM","DOMScroll","Event","OnVisible","Parent","ProfileTimelineTailLoadLogger","Random","TimelineComponentKeys","TimelineConstants","TimelineController","TimelineDOMID","TimelineLegacySections","TimelineScrubberKey","TimelineSection","TimelineSmartInsert","Vector","$","debounce","findTag","ge","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1,i=null,j={},k={},l={},m=[],n={},o=null,p=null,q=80,r=250;a=500;function s(){if(h)return;b("TimelineController").register(b("TimelineComponentKeys").CONTENT,y);p=b("Arbiter").subscribe(b("TimelineConstants").SECTION_EXPAND,function(a,b){y.navigateToSection(b)});h=!0}var t=b("debounce")(function(a,c,d){__p&&__p();var e=b("TimelineLegacySections").get(a),f=-1;if(e){e=e.getHistoricUnitCount();e!==null&&e!==void 0&&(f=e)}e=c-f;c=d-1;if(f===-1||c<=0||e<0)return;d=y.getNextSectionKey(a);if(d){f=b("TimelineLegacySections").get(d);f&&f.load();t(d,e,c)}},a);function u(a,b){b===void 0&&(b=0),b<q&&!a()&&setTimeout(u.bind(null,a,b+1),r)}function v(a){u(function(){if(a===b("TimelineScrubberKey").WAY_BACK)return!0;var c=y.getNextSectionKey(a);if(c){x(c);return!0}return!1})}function w(a,c,d){u(function(){if(c===b("TimelineScrubberKey").WAY_BACK)return!0;var e=y.getNextSectionKey(c);if(e){b("TimelineLegacySections").addOnVisible(e,new(b("OnVisible"))(a,x.bind(null,e),!1,d||1e3));return!0}return!1})}function x(a){var c=b("TimelineLegacySections").get(a);c&&c.canScrollLoad()&&(c.load(),o&&t(a,o.required_units,o.max_parallelism))}var y={CURRENT_SECTION_OFFSET:150,registerTimePeriod:function(a,c,d,e,f,g,h){__p&&__p();s();if(m.includes(c))return;l&&Object.assign(d||{},l);a=new(b("TimelineSection"))(a,c,d,e,h);if(!f)b("TimelineLegacySections").setMainSectionOrder(c,g),j[c]=!0;else{a.setParentKey(f);d=b("TimelineLegacySections").get(f);d&&d.addSubSection(g,a)}b("TimelineLegacySections").set(c,a);y.checkCurrentSectionChange();b("Arbiter").inform(b("TimelineConstants").SECTION_REGISTERED,{scrubberKey:c,section:a})},reset:function(){__p&&__p();b("TimelineLegacySections").removeAllOnVisibles();b("TimelineLegacySections").cancelLoadPagelets();for(var a in n)n[a].unsubscribe(),delete n[a];for(var c in k){var d=k[c];for(var e in d)d[e]&&d[e].destroy()}p&&p.unsubscribe();p=null;b("TimelineLegacySections").removeAll();i=null;j={};l={};m=[];h=!1},checkCurrentSectionChange:function(){__p&&__p();var a=null;b("queryThenMutateDOM")(function(){a=y.getCurrentSection()},function(){var c=i&&i.getScrubberKey();if(a&&a.getScrubberKey()!==c&&!a.isPermalinkPeriod()){i=a;c=a.getScrubberKey();var d=a.getParentKey();d||(d=c,c=null);b("TimelineController").sectionHasChanged(d,c)}})},setParallelLoadConfig:function(a){o=a},getCurrentSection:function(){__p&&__p();var a={},c=b("TimelineLegacySections").getAll();for(var d in c){var e=c[d];if(!e||e.isHiddenFromView&&e.isHiddenFromView())continue;var f=b("Vector").getElementPosition(e.getNode(),"viewport").y;e.getScrubberKey()===b("TimelineScrubberKey").RECENT_ACTIVITY&&f--;f<y.CURRENT_SECTION_OFFSET&&(a[f]=e)}f=Math.max.apply(null,Object.keys(a).map(Number));e=b("TimelineLegacySections").getMainSectionOrder();c=f===-Infinity;if(!c)return a[f];else if(e[0])return b("TimelineLegacySections").get(e[0]);return null},getLastVisibleSection:function(){__p&&__p();var a=b("TimelineLegacySections").getMainSectionOrder();for(var c=a.length-1;c>=0;c--){var d=a[c];if(!d)continue;d=b("TimelineLegacySections").get(d);if(d&&!d.isHiddenFromView())return d}return null},getRecentActivitySection:function(){return b("TimelineLegacySections").get(b("TimelineScrubberKey").RECENT_ACTIVITY)},capsuleForCurrentSection:function(){var a=y.getCurrentSection();return a&&b("DOM").scry(a.getNode(),".fbTimelineCapsule")[0]},enableScrollLoad:function(a,c,d,e){a=b("findTag")(a);var f=b("Parent").byClass(a,"fbTimelineSection")||a.parentNode;f=f&&b("DOM").scry(f,".fbTimelineCapsule")[0];if(!f)return;d===null?w(a,c,e):b("TimelineController").runOnceWhenSectionFullyLoaded(w.bind(null,a,c,e),c,d)},getNextSectionKey:function(a){__p&&__p();var c=b("TimelineLegacySections").getMainSectionOrder();for(var d=0;d<c.length-1;d++)if(c[d]===a){while(d<c.length-1&&!c[d+1])d++;return c[d+1]}d=b("TimelineLegacySections").get(a);if(!d)return null;c=d.getParentKey();if(!c)return null;var e=b("TimelineLegacySections").get(c);e=e&&e.getSubSections();if(!e)return null;var f=e[e.length-1];if(d.getScrubberKey()===f.getScrubberKey())return y.getNextSectionKey(c);for(var d=0;d<e.length-1;d++)if(e[d].getScrubberKey()===a)return e[d+1].getScrubberKey();return null},hideSection:function(a){__p&&__p();var c=b("TimelineLegacySections").get(a);c&&c.hide();var d=b("TimelineController").getCurrentScrubber();if(d){var e=null;!j[a]&&c?e=d.getSubnav(c.getParentKey(),a):e=d.getNav(a);e&&b("CSS").hide(e)}c=b("TimelineController").getCurrentStickyHeaderNav();c&&c.removeTimePeriod(a)},loadSectionOnClick:function(a,c){b("Event").listen(a,"click",function(a){a.prevent();a=b("TimelineLegacySections").get(c);a&&a.load()})},removeSection:function(a){b("TimelineLegacySections").removeOnVisible(a);b("TimelineLegacySections").remove(a);delete j[a];var c=b("TimelineController").getCurrentStickyHeaderNav();c&&c.removeTimePeriod(a);m.push(a)},navigateToSection:function(a,c){__p&&__p();c===void 0&&(c=!1);var d=a,e=b("TimelineLegacySections").get(a);if(!e)return;e.isLoaded()||(b("TimelineSmartInsert").enable(),b("DOM").scry(b("$")(b("TimelineDOMID").TAB_CONTENT),".fbTimelineShowOlderSections").forEach(b("DOM").remove));if(!j[a]){e.isLoaded()||(e.getNode().style.minHeight=b("Vector").getViewportDimensions().y+"px");var f=b("Arbiter").subscribe(b("TimelineConstants").SECTION_FULLY_LOADED,function(b,c){c.scrubberKey===a&&(e.getNode().style.minHeight="",f.unsubscribe())});d=e.getParentKey();var g=d&&b("TimelineLegacySections").get(d);if(g){g=g.getNode();b("CSS").hasClass(g,"fbTimelineSectionExpanded")||(b("DOMScroll").scrollTo(g,0),b("CSS").addClass(g,"fbTimelineSectionExpanded"),b("DOM").scry(g,".fbTimelineCapsule").forEach(b("DOM").remove),b("DOM").scry(g,"div.fbTimelineSectionExpandPager").forEach(b("DOM").remove),b("DOM").scry(g,"div.fbTimelineContentHeader").forEach(b("DOM").remove),b("DOM").scry(g,"._5vf").forEach(function(a){a.getAttribute("data-subsection")||b("DOM").remove(a)}))}g=d&&y.getNextSectionKey(d);g=g&&b("TimelineLegacySections").getOnVisible(g);g&&g.setBuffer(0)}g=b("TimelineLegacySections").getMainSectionOrder();for(var h=0;h<g.length;h++){var i=g[h];if(!i)continue;if(i===d)break;i=b("TimelineLegacySections").get(i);i&&i.deactivateScrollLoad().deactivateContentScrollLoad()}e.load(null,!0);b("TimelineLegacySections").collapsePlaceHolderHeaders();var k=b("Vector").getScrollPosition().x;i=b("Vector").getElementPosition(e.getNode()).y;c||b("DOMScroll").scrollTo(new(b("Vector"))(k,i-b("TimelineConstants").SCROLL_TO_OFFSET,"document"),!0,!1,0,0,function(){var c=b("Vector").getElementPosition(e.getNode()).y;b("DOMScroll").scrollTo(new(b("Vector"))(k,c-b("TimelineConstants").SCROLL_TO_OFFSET,"document"),!1);if(a!==b("TimelineScrubberKey").RECENT_ACTIVITY){c=b("DOM").scry(e.getNode(),"h3.uiHeaderTitle")[0];c&&(c.tabIndex=0,c.focus())}})},removeLoadingClass:function(a){var c=a.sectionID,d=a.scrubberKey;a=a.page;b("TimelineController").runOnceWhenSectionFullyLoaded(function(){b("ge")(c)&&b("CSS").removeClass(b("$")(c).parentNode,"fbTimelineSectionLoading")},d,a)},suppressSectionsAbove:function(a){__p&&__p();var c,d=b("TimelineLegacySections").getMainSectionOrder();for(var e=0;e<d.length;e++){var f=d[e];if(!f)continue;var g=b("TimelineLegacySections").get(f);if(!g)continue;c=null;var h=g.getNode().parentElement,i=a.parentElement;if(i&&h&&Array.from(i.children).indexOf(a)<=Array.from(h.children).indexOf(g.getNode())){c=f;break}g.deactivateScrollLoad()}c&&y.navigateToSection(c,!0)},removeDupes:function(a){__p&&__p();a=b("ge")(a);if(!a)return;a=b("DOM").scry(a,"li.fbTimelineUnit");var c={};for(var d=0;d<a.length;d++){var e=a[d];if(e.id&&e.id.startsWith("tl_unit_")){var f=e.id.substring(8,e.id.length),g=b("DOM").scry(e,"div.timelineUnitContainer");g.length>0&&(f+=g[0].getAttribute("data-time"));Object.prototype.hasOwnProperty.call(c,f)?(e.id="dupe_unit_"+b("Random").random(),e.className="hidden_elem"):c[f]=1}}},initPager:function(a){__p&&__p();var c=a.pager,d=a.scrubberKey,e=a.page,f=a.logTailLoad;a=a.tailLoadData;var g=null,h=c.getElement();f&&h&&(g=new(b("ProfileTimelineTailLoadLogger"))(0,h,a),y._setTailLoadLogger(d,e+1,g));var i=c.getHandler();c.setHandler(function(d){var a=c.getElement();a&&a.parentElement&&b("CSS").addClass(a.parentElement,"async_saving");g&&g.tailLoadStarted();i(d)});c.setOption("errorHandler",function(){g&&(g.tailLoadFailed(),g.destroy()),y._setTailLoadLogger(d,e+1,null)});b("TimelineController").runOnceWhenSectionFullyLoaded(function(){var a=c.getElement();a&&a.parentElement&&(b("CSS").removeClass(a.parentElement,"fbTimelineHiddenPager"),c.checkBuffer())},d,e)},tailLoadCompleted:function(a,b,c){var d=y._getTailLoadLogger(b,c);d&&(d.tailLoadSuccessful(a),d.destroy(),y._setTailLoadLogger(b,c,null))},rightColumnFinished:function(a){a=b("TimelineLegacySections").get(a);a&&a.setRightColumnFinished()},loadNextSection:function(a){v(a)},_setTailLoadLogger:function(a,b,c){k[a]||(k[a]={}),k[a][b.toString()]=c},_getTailLoadLogger:function(a,b){return k[a]?k[a][b.toString()]:null}};e.exports=y}),null);
__d("TimelineSeenStateConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FT_TIMELINE_HASH_IDENTIFIER_KEY:"thid"})}),null);
__d("TimelineViewportTracking",["csx","Arbiter","Banzai","DataAttributeUtils","DOM","TimelineSeenStateConstants","TimelineViewportTrackingLogType","ViewportTracking","$","tidyEvent","viewportTrackingBuilder"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(a,c){__p&&__p();return{_stream:null,_streamDOMID:c,getDataFromConfig:function(a,c){c.isSeenStateLoggingEnabled=a.is_seen_state_logging_enabled,c.isTimetrackingEnabled=a.is_timetracking_enabled,c.vpvdDebug=!!a.vpvd_debug,c.trackingHooks=!!a.tracking_hooks,b("tidyEvent")(b("Arbiter").subscribe(["TimelineConstants/unitSegmentLoaded"],function(){c.invalidateAllStoriesCache(),c.invalidateVisibleStoriesCache()}))},getAllStories:function(){var a=b("DOM").scry(this.getStream(),"._5pat"),c=[];for(var d=0;d<a.length;d++)this.getStoryID(a[d])&&c.push(a[d]);return c},getStream:function(){this._stream||(this._stream=b("$")(this._streamDOMID));return this._stream},getStoryID:function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a)||null);if(a){var c=b("TimelineSeenStateConstants").FT_TIMELINE_HASH_IDENTIFIER_KEY;return a[c]}return null},getDataToLog:function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return{ft:a,log_type:b("TimelineViewportTrackingLogType").IMPRESSION}}}}h=babelHelpers.inherits(k,b("ViewportTracking"));i=h&&h.prototype;k.prototype.getTimetrackingDataToLog=function(a){a=i.getTimetrackingDataToLog.call(this,a);a.log_type=b("TimelineViewportTrackingLogType").DURATION;return a};k.prototype.sendDataToLog=function(a,c,d,e){if(!c.ft)return;a={};e&&(a.retry=e);d&&(a.delay=2e3);b("Banzai").post("timeline_feed_tracking",c,a)};k.prototype.cleanup=function(){l.clearSingleton(),i.cleanup.call(this)};function k(){h.apply(this,arguments)}var l=b("viewportTrackingBuilder")(function(a,b){b=new k(j(a,b));b.init(a);return b});l.init=l.singleton.bind(l);e.exports=l}),null);