if (self.CavalryLogger) { CavalryLogger.start_js(["u49fC"]); }

__d("AdsLWIDialogStateCreateSuccessWithBoostIdReducerPlugin",["AdsDataAtom","AdsLWIStepperManager","AdsSelectorUtils","FBLogger","adsLWIInstanceDataSelector","isBoostIDBoosted","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,c){__p&&__p();b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsLWIInstanceDataSelector")]));var d=c.boostID;c=c.instanceID;var e=a.dialogState,f=b("isBoostIDBoosted")(d);if(!f){b("FBLogger")("boosted_component").mustfix("Invalid Boost ID returned from server upon creation. isBoosted is false, and Boost ID is: %s",d);return a}var g=a.history.filter(function(a){var c=b("AdsLWIStepperManager").getPhase(b("nullthrows")(a.phaseType)).isBoosted();return!a.instanceID||c===!0});d=b("nullthrows")(b("adsLWIInstanceDataSelector")(c));c=d.product;var h=b("AdsLWIStepperManager").getPhaseTypeForProduct(c,f);return a.withMutations(function(a){a.set("dialogState",e.withMutations(function(a){a.set("step",0).set("phaseType",h)})).set("history",g)})}};e.exports=a}),null);