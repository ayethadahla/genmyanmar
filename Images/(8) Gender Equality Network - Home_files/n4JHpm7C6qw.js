if (self.CavalryLogger) { CavalryLogger.start_js(["kaLKw"]); }

__d("AdsCampaignCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsCampaignCombinedStore;e.exports=a}),null);
__d("AdsCampaignGroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsCampaignGroupCombinedStore;e.exports=a}),null);
__d("AdsPromotedObjectTypeUIStore",["AdsAPICampaignRecordUtils","AdsCampaignGroupSetObjectivesDataActionFlux","AdsDataAtom","AdsPromotedObjectTypes","AdsPromotedObjectTypeUiSetTypeDataActionFlux","AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectMessengerPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux","AdsUEditorHostIDs","AdsUEditorUtils","FluxMapStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.reduce=function(a,c){__p&&__p();c=c.action;if(!b("AdsUEditorUtils").shouldHostHandleAction(c,b("AdsUEditorHostIDs").EDITING))return a;switch(c.actionType){case b("AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET);case b("AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").PLACE_PAGE_SET_ID);case b("AdsPromotedObjectTypeUiSetTypeDataActionFlux").actionType:return h(a,c.campaignIDs,c.promotedObjectType);case b("AdsUEditorCampaignSelectMessengerPromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").MESSENGER);case b("AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").WEBSITE);case b("AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").WHATSAPP);case b("AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,c.promotedObjectType);case b("AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").PIXEL);case b("AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux").actionType:return h(a,c.campaignIDs,b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET);case b("AdsCampaignGroupSetObjectivesDataActionFlux").actionType:return i(a,c);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function h(a,b,c){__p&&__p();return a.withMutations(function(a){__p&&__p();for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;a.set(g,c)}return a})}function i(a,c){var d=c.newObjective,e=c.newCampaigns,f=c.campaignIDs;return a.withMutations(function(a){f.forEach(function(c){var f=b("nullthrows")(e.get(c));f=b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,f);a.set(c,f)})})}e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPromotedObjectTypeStore",["AdsAPICampaignRecordUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsDataAtom","AdsPromotedObjectTypes","AdsPromotedObjectTypeUIStore","FluxDerivedStore","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxDerivedStore"));g&&g.prototype;a.prototype.__computeResult=function(a,c){a=c.campaign;var d=c.objective;c=c.uiState;return a==null||d==null?b("AdsPromotedObjectTypes").NONE:b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a,(d=c)!=null?d:void 0)};a.prototype.__getData=function(a){var c=b("AdsCampaignCombinedStore").getRecord(a).getValue(),d=c==null?void 0:c.campaign_id;d=d!=null?b("AdsCampaignGroupCombinedStore").get(d).getValue():null;return{campaign:c,objective:d==null?void 0:d.objective,uiState:b("AdsPromotedObjectTypeUIStore").getState().get(a)}};a.prototype.__getStores=function(){return[b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore"),b("AdsPromotedObjectTypeUIStore")]};a.prototype.__areEqual=function(a,c){return b("shallowEqual")(a,c)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupWebsiteMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDGetter","AdsDataAtom","AdsObjectiveGetter","AdsPromotedObjectTypeStore","AdsUEditorWebsiteMutators","AdsUEditorWebsiteUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=b("AdsObjectiveGetter").get({adgroup:a});return b("AdsUEditorWebsiteUtils").getVideoLPPFormat(a,c)};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=c.adset_id,f=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:f});var g=b("AdsObjectiveGetter").get({adgroup:c});b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);e=b("AdsPromotedObjectTypeStore").get(e);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:g,promotedObjectType:e});return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:c,campaignGroupPromotedPageID:f,objective:g,promotedObjectType:e,specPlugin:d,websiteURL:a})};e.exports={setWebsiteURL:c,getVideoLPPFormat:a}}),null);
__d("AdsObjectStorySpecMutators",["invariant","AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsCampaignGroupPromotedPageIDGetter","AdsDataAtom","AdsLocalUtils","AdsMutators","AdsObjectiveGetter","AdsObjectTypeUtils","AdsPromotedObjectTypeStore","ApiAdObjectTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMutators").setIn;function a(a,b){var c=a.path;a=a.value;return h(c,a,b)}function c(a,c){__p&&__p();var d=b("AdsObjectiveGetter").get({adgroup:c}),e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);if(!b("AdsObjectTypeUtils").isPagePostObjectType(e)){if(e===b("ApiAdObjectTypes").DOMAIN&&a.domainPath)return{path:a.domainPath,value:a.domainValue};a.standardPath||g(0,5431);return{path:a.standardPath,value:a.standardValue}}else if(b("AdsAdgroupSpecUtils").isVideoObjectType(d,e)&&!b("AdsAPIAdgroupRecordUtils").isNonLinkVideoCarouselAd(c,d)){a.videoDataPath||g(0,5432);return{path:a.videoDataPath,value:a.videoDataValue}}else if(e===b("ApiAdObjectTypes").SHARE){var f;if(b("AdsLocalUtils").isLocalObjective(d)){var h=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:h})}if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(d,f,c)){a.templateDataPath||g(0,5433);return{path:a.templateDataPath,value:a.templateDataValue}}h=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);c=b("AdsPromotedObjectTypeStore").get(h);h=typeof a.appLinkDataValue==="string"?a.appLinkDataValue:null;if(b("AdsAdgroupSpecUtils").isAppLinkDataEligible(d,c,h)){a.appLinkDataPath||g(0,5434);return{path:a.appLinkDataPath,value:a.appLinkDataValue}}a.linkDataPath||g(0,5435);return{path:a.linkDataPath,value:a.linkDataValue}}else if(e===b("ApiAdObjectTypes").PHOTO){a.photoDataPath||g(0,5436);return{path:a.photoDataPath,value:a.photoDataValue}}else g(0,5437)}function d(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b.getIn(e);if(f!==void 0)return b.removeIn(e)}return b}f={getSpecTypeOption:c,removeFirstSpecFromPaths:d,setInBySpecType:a};e.exports=f}),null);
__d("AdsAdgroupAppMutators",["AdsAdgroupSetAppDataActionFlux","AdsAdgroupSetAppLinkDataActionFlux","AdsAdgroupSetAppProductLinkDataActionFlux","AdsAdgroupWebsiteMutatorsAdapter","AdsAPIAdgroupPaths","AdsCampaignClearAppDataActionFlux","AdsMutators","AdsObjectStorySpecMutators","AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupWebsiteMutatorsAdapter").setWebsiteURL,h=b("AdsMutators").chain,i=b("AdsMutators").mutateEach,j=b("AdsMutators").setIn,k=b("AdsObjectStorySpecMutators").getSpecTypeOption,l=b("AdsObjectStorySpecMutators").setInBySpecType;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCampaignClearAppDataActionFlux").actionType:case b("AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux").actionType:return i(a,d.adgroupIDs,h(function(a){return g("",a)}));case b("AdsAdgroupSetAppDataActionFlux").actionType:return i(a,d.ids,function(a){return g("",a)});case b("AdsAdgroupSetAppLinkDataActionFlux").actionType:return i(a,d.ids,function(a){return l(k({appLinkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.APP_LINK,appLinkDataValue:d.appLink,videoDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.APP_LINK,videoDataValue:d.appLink},a),a)});case b("AdsAdgroupSetAppProductLinkDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.PRODUCT_LINK,d.appProductLink,a)});default:return a}}c={reduce:a};e.exports=c}),null);
__d("AdsAdgroupImageMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsImageUtils","AdsMessengerReducerUtils","AdsMutators","AdsObjectStorySpecUtils","AdsObjectTypeUtils","AdsPlacementAssetMutationUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","LinkPostDestination","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").deleteIn,h=b("AdsMutators").setIn;function i(a,c,d,e,f){__p&&__p();if(e==null||e==="")return c;var g=a.capabilities;g=b("AdsMessengerReducerUtils").isMessengerVisualEditorV2Enabled(g);if(!g)return c;g=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getValue(c,d);if(!b("AdsMessengerReducerUtils").shouldSetDefaultWelcomeMessage(g))return c;var h=b("AdsAPIAdgroupRecordUtils").getAppDestinationType(c,d);if(h!==b("LinkPostDestination").MESSENGER)return c;h=f?f.name:null;var i=a.account_id;a=b("AdsMessengerReducerUtils").getWelcomeMessageDefaultMediaFormat(a);var j=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);f=b("AdsMessengerReducerUtils").getDefaultQuickReplies(f);i=b("AdsMessengerReducerUtils").setDefaultWelcomeMessage(i,c,a,f,e,j,h,g,null,!0);a=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d);return a?c.setIn(a,i):c}function a(a,c,d,e,f,g,k,m,n,o,p){__p&&__p();d=c!=null?void 0:d;a=i(a,m,n,c,o);if(e!=null&&e!==""&&(c==null||c==="")&&(d==null||d===""))a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path);else if(e!=null&&e!=="")a=h([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,b("ApiAdCreativeFields").IMAGE_HASH),c,a),a=h([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,e,b("ApiAdCreativeFields").IMAGE_URL),d,a);else if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,n,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").IMAGES),c,d);else{m=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(a,n);m&&(a=a.setIn(m,c));a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH)&&(a=h(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c,a));o=b("AdsUnifiedCreativeAPIFields").imageURL.getPath(a,n);m=b("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(a,n);m?a=a.setIn(m,f):o&&(a=a.setIn(o,d));a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL)&&(a=h(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,d,a));a=l(f,g,k,a)}a=j(p,e,a,n);return a}function j(a,c,d,e){var f=d.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);if(!b("AdsImageUtils").canCropStaticImageForPlatform(f,c))return d;if(c!=null&&c!=="")return k(a,c,d);f=b("AdsUnifiedCreativeAPIFields").imageCrops.getPath(d,e);if(!f)return d;return!a||Object.keys(a).length===0?d.deleteIn(f):d.setIn(f,a)}function k(a,c,d){return!a||Object.keys(a).length===0?g([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c,b("ApiAdCreativeFields").IMAGE_CROPS),d):h([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c,b("ApiAdCreativeFields").IMAGE_CROPS),a,d)}function l(a,c,d,e){a=h(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL,a,e);a=h(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT,c,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH,d,a);return a}function c(a){__p&&__p();var c=b("AdsObjectTypeUtils").getCreativeSpecType(a);c=b("AdsObjectStorySpecUtils").getPaths(c);var d=c.image_url;c=c.image_hash;if(!d||!c)return a;var e=a.getIn(d);c=a.getIn(c);e=e&&c?a.deleteIn(d):a;c=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(e);if(!c)return e;d=e.getIn(c);if(!d)return e;d=d.map(function(a){var c=a.getIn(b("AdsAPIChildAttachmentPaths").IMAGE_HASH),d=a.getIn(b("AdsAPIChildAttachmentPaths").PICTURE);return c&&d?a.deleteIn(b("AdsAPIChildAttachmentPaths").PICTURE):a});return e.setIn(c,d)}function d(a,c,d,e,f,g,h,i,j){__p&&__p();a=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)?a:b("AdsPlacementAssetMutationUtils").convertToImageAssetFeedWithCampaignTargeting(a,c,d);c=f?b("AdsPlacementAssetUtils").getAssetLabelIfSingleValidAssetGroup(e,f):null;if(c!=null&&c!==""){e=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),b("AdsAPIAdAssetFeedImagesFields").ADLABELS,c,b("AdsAPIAdAssetFeedImagesFields").HASH).index;(e==null||e===0)&&(e=0);a=b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,e,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS);a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,d,e,g,h);i&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,e,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(i)));return a}f=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);c=f!=null?f.size:0;e=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();a=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(a,d,c,g,h);a=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,c,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e);i&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,c,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(i)));f=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,function(a){return k});g=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(f||b("immutable").List(),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,e,j);h=g.labelsRemoved;var k=g.updatedTargetingRules;a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES,k);for(var c=h,i=Array.isArray(c),f=0,c=i?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(f>=c.length)break;e=c[f++]}else{f=c.next();if(f.done)break;e=f.value}j=e;g=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),b("AdsAPIAdAssetFeedImagesFields").ADLABELS,j,b("AdsAPIAdAssetFeedImagesFields").HASH).index;a=g!=null?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,d,b("AdsUnifiedCreativeAPIFields").imageHash,g):a}return a}f={setImage:a,setImageCrops:j,setImageThumbnail:l,removeRedundantImageURL:c,addPlacementCustomizationImage:d};e.exports=f}),null);
__d("AdsAdgroupTemplateStaticCardMutators",["AdsAdgroupChildAttachmentTypes","AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsAPIChildAttachmentPaths","AdsChildAttachmentsUtils","AdsUnifiedCreativeAPIFieldMappings","ApiCallToActionFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING,h=2;function i(a){var c,d=b("AdsAdgroupSpecUtils").getCallToActionType(a);a=(c={},c[b("AdsAPIChildAttachmentPaths").DESCRIPTION]=a.getIn(g.linkDescription),c[b("AdsAPIChildAttachmentPaths").LINK]=a.getIn(g.linkURL)||"",c[b("AdsAPIChildAttachmentPaths").NAME]=a.getIn(g.headline),c);if(d!=null){a[b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path]=b("immutable").Map((c={},c[b("ApiCallToActionFields").TYPE]=d,c))}return b("immutable").fromJS(a)}function a(a,c){c=c.setIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0);var d=a.getIn(g.childAttachments);!d?d=b("immutable").fromJS([i(a),c]):d=d.splice(h,0,b("immutable").fromJS(c));return k(a,d)}function c(a){return j(a,b("AdsAdgroupChildAttachmentTypes").PLACE)}function j(a,c){__p&&__p();var d=a.getIn(g.childAttachments);if(!d)return a;var e=d.filter(function(a){return!!a.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}).size>1;if(!e)return l(a);d=d.filter(function(d,e){e=b("AdsChildAttachmentsUtils").getChildAttachmentType(a,d);return e!==c});return k(a,d)}function d(a){return j(a,b("AdsAdgroupChildAttachmentTypes").STATIC)}function f(a){var c,d=b("AdsAdgroupSpecUtils").getCallToActionType(a);c=(c={},c[b("AdsAPIChildAttachmentPaths").LINK]=a.getIn(g.linkURL)||"",c[b("AdsAPIChildAttachmentPaths").STATIC_CARD]=!0,c);if(d!=null){var e;c[b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path]=b("immutable").Map((e={},e[b("ApiCallToActionFields").TYPE]=d,e))}d=a.getIn(g.childAttachments);!d?d=b("immutable").fromJS([c,i(a)]):d=d.splice(0,0,b("immutable").fromJS(c));return k(a,d)}function k(a,c){var d=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;return a.deleteIn(g.headline).deleteIn(g.linkDescription).deleteIn(d.FORCE_SINGLE_LINK).setIn(g.childAttachments,c)}function l(a){var c=a.getIn(g.childAttachments),d=c.findIndex(function(a){return!a.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}).toString(),e=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").NAME));c=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").DESCRIPTION));return a.setIn(g.headline,e).setIn(g.linkDescription,c).deleteIn(g.childAttachments)}f={addLeadingStaticCard:f,appendPlaceData:a,removeAllStaticCards:l,removeLeadingStaticCard:d,removePlaceData:c};e.exports=f}),null);
__d("AdsAdgroupPlaceDataMutators",["AdsAdgroupSpecUtils","AdsAdgroupTemplateStaticCardMutators","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCreativeOptimizedUtils","AdsUnifiedCreativeAPIFields","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e;if(!b("AdsAPIAdgroupRecordUtils").hasPlaceData(a,d))return a;if(b("AdsAdgroupSpecUtils").isTemplateCreative(a)&&c!==b("AdsAPIObjectives").STORE_VISITS)return b("AdsAdgroupTemplateStaticCardMutators").removePlaceData(a);c=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!c)return a;c=c.filter(function(a){return a&&!a.get(b("ApiObjectStorySpecLinkChildFields").PLACE_DATA)});a=a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d),c);var f=c.size;if(f===0||f>=b("AdsCreativeOptimizedUtils").getMinProductsNum())return a;var g=c.first(),h=g.get(b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION);e=(e={},e[b("ApiObjectStorySpecLinkChildFields").LINK]=g.get(b("ApiObjectStorySpecLinkChildFields").LINK),e);if(h){var i;e=(i={},i[b("ApiObjectStorySpecLinkChildFields").LINK]=g.get(b("ApiObjectStorySpecLinkChildFields").LINK),i[b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION]=(g={},g[b("ApiCallToActionFields").TYPE]=h&&h.get(b("ApiCallToActionFields").TYPE),g[b("ApiCallToActionFields").VALUE]=b("immutable").fromJS(h&&h.get(b("ApiCallToActionFields").VALUE)),g),i)}c=c.toJS();for(var h=f;h<b("AdsCreativeOptimizedUtils").getMinProductsNum();h++)c=c.concat(e);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d),b("immutable").fromJS(c))}c={removePlaceData:a};e.exports=c}),null);
__d("AdsXAdgroupCallToActionMutators",["AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDLOUtils","AdsMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","ApiAdObjectTypes","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","CallToActionValueFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").chain;function h(a,c,d,e){return g(function(a){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)){a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").LINK_URLS),b("AdsAPIAdAssetFeedLinkURLsFields").DEEPLINK_URL,e);return b("AdsDLOUtils").setDeeplinkURLforNonDefaultLinkURLs(a,e)}var f=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.setIn(f.concat(d),e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.setIn([b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE,d],e)})})(a)}function i(a,c,d){return g(function(a){var e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.deleteIn(e.concat(d))},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn([b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE,d])})})(a)}a={setCallToActionType:function(a,c,d){return g(function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,d),c)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(d,a,function(a){return a.setIn([b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,b("ApiCallToActionFields").TYPE],c)})})(a)},setCallToActionValueAppLink:function(a,c,d){return h(a,d,b("CallToActionValueFields").APP_LINK,c)},setCallToActionValueLeadGenFormID:function(a,c,d){return h(a,d,b("CallToActionValueFields").LEAD_GEN_FORM_ID,c)},setCallToActionValueCanvasVideoTranstionEnabled:function(a,c,d){return h(a,d,b("CallToActionValueFields").IS_CANVAS_VIDEO_TRANSITION_ENABLED,c)},deleteCallToActionValueCanvasVideoTranstionEnabled:function(a,c){return i(a,c,b("CallToActionValueFields").IS_CANVAS_VIDEO_TRANSITION_ENABLED)},setCallToActionValueLink:function(a,c,d){return h(a,d,b("CallToActionValueFields").LINK,c)},setCallToActionValueAppDestination:function(a,c,d){return h(a,c,b("CallToActionValueFields").APP_DESTINATION,d)},deleteCallToActionValueAppDestination:function(a,c){b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)&&(a=i(a,c,b("CallToActionValueFields").APP_DESTINATION));return a},setCallToActionValueWhatsAppNumber:function(a,c,d){return h(a,c,b("CallToActionValueFields").WHATSAPP_NUMBER,d)},deleteCallToActionValueWhatsAppNumber:function(a,c){b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)&&(a=i(a,c,b("CallToActionValueFields").WHATSAPP_NUMBER));return a},deleteCallToActionValueLink:function(a,c){return!b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)?a:i(a,c,b("CallToActionValueFields").LINK)},deleteCallToAction:function(a,c){__p&&__p();return g(function(a){if(b("AdsUnifiedCreativeAPIFields").callToActionType.isSupported(a,c)){var d=b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c);a=a.deleteIn(d);d=d.slice(0,-1);var e=d[d.length-1]===b("ApiAdCreativeFields").CALL_TO_ACTION;e&&(a=a.deleteIn(d))}b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c)));return a},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn([b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION])})})(a)},resetCallToActionValue:function(a,c){__p&&__p();return g(function(a){__p&&__p();var d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);a.getIn(d)||(a=a.setIn(d.concat(b("CallToActionValueFields").LINK),""));var e=a.getIn(d),f=b("AdsAPIAdgroupRecordUtils").getObjectType(a);if(f===b("ApiAdObjectTypes").VIDEO){f=a.getIn(d.concat(b("CallToActionValueFields").LINK_DESCRIPTION));var g=a.getIn(d.concat(b("CallToActionValueFields").LINK_TITLE));e=e.clear().setIn([b("CallToActionValueFields").LINK_DESCRIPTION],f).setIn([b("CallToActionValueFields").LINK_TITLE],g)}else e=e.clear();return a.setIn(d,e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){var c=[b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE];a.getIn(c)||(a=a.setIn([b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").LINK],""));var d=a.getIn(c);return a.setIn(c,d.clear())})})(a)}};e.exports=a}),null);
__d("AdsAdgroupDuplicateImageMutators",["fbt","AdsAccountStore","AdsAdgroupImageMutators","AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPIImagePaths","AdsAudienceDirectConfig","AdsCopyCopyCompletedDataActionFlux","AdsDataAtom","AdsMutators","AdsObjectiveGetter","AdsPageStore","AdsPromotedObjectTypeStore","AdsUnifiedCreativeAPIFields","ApiAdCreativePlatformCustomizationFields","React","ShutterstockImageUtils","forEachObject","getByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsAdgroupImageMutators").setImage,i=b("AdsMutators").mutateEach,j=b("AdsMutators").setIn;function a(a,c){c=c.action;if(!c.responses||!c.responses.length)return a;var d=c.responses[0];if(!d.extraData)return a;switch(c.actionType){case b("AdsCopyCopyCompletedDataActionFlux").actionType:return k(a,d);default:return a}}function k(a,c){__p&&__p();var d;b("AdsDataAtom").waitFor([b("AdsAccountStore"),b("AdsPageStore")].concat(b("AdsObjectiveGetter").getStores(),[b("AdsPromotedObjectTypeStore")]).map(function(a){return a.getDispatchToken()}));d=c==null?void 0:(d=c.extraData)==null?void 0:d.images;return d==null||d.length===0?a:d.reduce(function(a,d,e){__p&&__p();var f,j=b("getByPath")(d,b("AdsAPIImagePaths").HASH),k=d==null?void 0:(f=d.creative)==null?void 0:f.thumbnail_url,m=d==null?void 0:(f=d.creative)==null?void 0:f.thumbnail_height,n=d==null?void 0:(f=d.creative)==null?void 0:f.thumbnail_width,o;f=d.stockImageID;f?o=b("ShutterstockImageUtils").idToURL(f):o=b("getByPath")(d,b("AdsAPIImagePaths").URL);var p=b("AdsAccountStore").getSelectedAccount_LEGACY();return i(a,[c.ids[e]],function(a){var c=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)}),d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,c),f=d?b("AdsPageStore").get(d):null;a=h(p,j,o,void 0,k,m,n,a,c,f);b("forEachObject")(b("ApiAdCreativePlatformCustomizationFields"),function(b){a=h(p,void 0,void 0,b,void 0,void 0,void 0,a,c,f)});d=g._("- Image {number}",[g._param("number",e+1)]);return l(a,d)})},a)}function l(a,c){var d=a.name;d=d+" "+c;return j(b("AdsAPIAdgroupPaths").NAME,d,a)}c={reduce:a};e.exports=c}),null);
__d("AdsAdgroupInstagramMutators",["AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAudienceDirectConfig","AdsInstagramAccountActionSources","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInstagramActorIDUtils","AdsMutators","AdsObjectiveGetter","AdsObjectStorySpecUtils","AdsPromotedObjectTypeStore","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","CallToActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").deleteIn,h=b("AdsMutators").mutateEach,i=b("AdsMutators").setIn;function a(a,c){var d=c.action;switch(d.type){case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:return d.source===b("AdsInstagramAccountActionSources").PE_AUCTION?h(a,d.data.adgroupIDs,function(a){return j(d.data.instagramAccountID,a)}):a;default:return a}}function j(a,c){var d=b("AdsObjectStorySpecUtils").isUsingObjectStorySpec(c),e=b("AdsObjectiveGetter").get({adgroup:c});if(d&&b("AdsWebsiteAdUtils").isWebsiteObjective(e)&&!b("AdsInstagramActorIDUtils").getInstagramActorID(c)){e=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e,promotedObjectType:b("AdsPromotedObjectTypeStore").get(c.adset_id)});var f=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(c,e),h=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,e));e=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(c,e);f&&!h&&!e&&(c=i(f,b("CallToActionTypes").LEARN_MORE,c))}d?(c=g(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,c),c=i(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID,a,c)):c=i(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,a,c);return c}c={reduce:a};e.exports=c}),null);
__d("AdsAdgroupCallToActionMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDGetter","AdsDataAtom","AdsObjectiveGetter","AdsPromotedObjectTypeStore","AdsUEditorCallToActionMutators","AdsAdgroupEditorStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c,d){var e=b("AdsAdgroupEditorStore");e=e.getCachedCallToActionLink(c.id,a);var f=b("AdsAudienceDirectConfig").accountType,g=b("AdsObjectiveGetter").get({adgroup:c}),h=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);h=b("AdsPromotedObjectTypeStore").get(h);f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:f,objective:g,promotedObjectType:h});var i=c.campaign_id;i=b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:i});return b("AdsUEditorCallToActionMutators").setCallToAction({adgroup:c,cachedCallToActionLink:e,callToActionType:a,campaignGroupPromotedPageID:i,objective:g,pages:d,promotedObjectType:h,specPlugin:f})};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=b("AdsObjectiveGetter").get({adgroup:c}),f=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);f=b("AdsPromotedObjectTypeStore").get(f);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:e,promotedObjectType:f});return b("AdsUEditorCallToActionMutators").setCallToActionLink({link:a,adgroup:c,promotedObjectType:f,specPlugin:d})};e.exports={setCallToAction:a,setCallToActionLink:c}}),null);
__d("AdsOverlaysUtils",["fbt","AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdgroupPaths","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsOverlaysEvent","AdsOverlayTypes","CustomOverlayOptions","DynamicAdsImageOverlayTextTypes","MerchantOverlaysDegradedServiceTypedLogger","getByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={hasImageOverlaySpec:function(a){a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_OVERLAY_SPEC.path);return!!a},hasCustomOverlaySpec:function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path);a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CUSTOM_OVERLAY_SPEC.path);return!!c||!!a},hasCustomOverlaysFromSpec:function(a){var c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path);a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CUSTOM_OVERLAY_SPEC.path);return!!c||!!a},hasVideoOverlaysFromSpec:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path);return!!a&&!!a.custom_overlay_spec},getSupportedOverlayOptions:function(a){var c=[b("CustomOverlayOptions").PAY_ON_ARRIVAL,b("CustomOverlayOptions").PAY_AT_HOTEL];c=[{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_CASH_ON_DELIVERY,option:b("CustomOverlayOptions").CASH_ON_DELIVERY},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_HOME_DELIVERY,option:b("CustomOverlayOptions").HOME_DELIVERY},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_BANK_TRANSFER,option:b("CustomOverlayOptions").BANK_TRANSFER},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_BOLETO,option:b("CustomOverlayOptions").BOLETO},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_DISCOUNT_WITH_BOLETO,option:b("CustomOverlayOptions").DISCOUNT_WITH_BOLETO},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_FREE_SHIPPING,option:b("CustomOverlayOptions").FREE_SHIPPING},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_FAST_DELIVERY,option:b("CustomOverlayOptions").FAST_DELIVERY},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_PAY_ON_ARRIVAL,option:c[parseInt(a.account_id,10)%2]},{capability:b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_PAY_AT_HOTEL,option:c[1-parseInt(a.account_id,10)%2]}];c=c.reduce(function(c,d){var e=d.capability;d=d.option;b("AdsAccountUtils").hasCapability(a,e)&&c.push(d);return c},[]);return c},getCustomOverlayOptions:function(a){var c=[];c.push(b("CustomOverlayOptions").CASH_ON_DELIVERY);c.push(b("CustomOverlayOptions").HOME_DELIVERY);c.push(b("CustomOverlayOptions").BANK_TRANSFER);b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").CAN_SELECT_CUSTOM_OVERLAY_BOLETO)&&c.push(b("CustomOverlayOptions").BOLETO);c.push(b("CustomOverlayOptions").FREE_SHIPPING);c.push(b("CustomOverlayOptions").PAY_ON_ARRIVAL);c.push(b("CustomOverlayOptions").PAY_AT_HOTEL);return c},getDefaultCustomImageOverlaySpec:function(){return{template:"pill_with_text",font:"roboto_medium",position:"top_left",text_color:"text_ffffff",background_color:"background_e50900",option:"cash_on_delivery",float_with_margin:!0}},logOverlayEditEvent:function(event,a){var c;b("AdsInterfacesLogger").log({eventName:event,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").SIGNALS_UI_EVENT_DATA]=JSON.stringify(a),c)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},logUIEvent:function(event,a,c,d){var e;b("AdsInterfacesLogger").log({eventName:event,data:(e={},e[b("AdsInterfacesLoggerConfigColumns").SIGNALS_UI_EVENT_DATA]=JSON.stringify({overlayType:a}),e)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP);if(a===b("AdsOverlayTypes").CUSTOM_OVERLAY){e=new(b("MerchantOverlaysDegradedServiceTypedLogger"))();e.setAdAccountID(d?d.account_id:0).setEvent(event).setOverlaySpec((c?c:[]).toString()).log()}},logImageOverlaysRankUIEvent:function(event,a,c,d){var e;b("AdsInterfacesLogger").log({eventName:event,data:(e={},e[b("AdsInterfacesLoggerConfigColumns").SIGNALS_UI_EVENT_DATA]=JSON.stringify({customOverlayPosition:a,customOverlayOption:c,canUseDynamicRanking:d}),e)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},logImagesOverlaysDynamicRankingDurationEvent:function(event,a){var c;b("AdsInterfacesLogger").log({eventName:event,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").SIGNALS_UI_EVENT_DATA]=JSON.stringify({time:a}),c)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},logPlaceOrderError:function(a,c){var d=new(b("MerchantOverlaysDegradedServiceTypedLogger"))();d.setAdAccountID(a).setEvent(b("AdsOverlaysEvent").AD_PUBLISH_ERROR).setErrorMessage(c).log()},logExposure:function(a){if(a&&a.isDone()&&a.hasValue()){a=a.getValueEnforcing();a.maybeLogExposure()}},getOverlayTextOptionsFromTemplateTags:function(a,b){if(a.length!==b.length)return null;a=a.map(function(a,c){c=b[c].supportedOptions;for(var d=0;d<c.length;d++)if(c[d].templateTag===a)return c[d];return void 0});return a.length===0||a.includes(void 0)?null:a}};e.exports=a}),null);
__d("AdsMediaFormatMutators",["AdsAdgroupAssetFeedMutators","AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypes","AdsCanvasAdUtils","AdsDataAtom","AdsMediaFormat","AdsMutators","AdsOverlaysUtils","AdsPageLikeConversionConfig","AdsPageStore","AdsUEditorCallToActionMutators","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","ApiDynamicCreativeOptimizationAdFormat","ApiPageFields","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupAssetFeedMutators").convertFromAssetFeedSpec,h=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToAction,i=b("AdsAdgroupPostTypeMutators").convertLinkOrTemplatePostToVideoPost,j=b("AdsAdgroupPostTypeMutators").convertPhotoPostToVideoPost,k=b("AdsAdgroupPostTypeMutators").convertVideoPostToLinkOrTemplatePost,l=b("AdsAdgroupPostTypeMutators").convertVideoPostToPhotoPost,m=b("AdsMutators").deleteIn,n=b("AdsMutators").setIn,o=b("AdsUEditorCallToActionMutators").setCallToActionLinkFormat,p=b("AdsPageLikeConversionConfig").canCreateShareObject;function a(a,c,d,e,f){__p&&__p();if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(c))return q(a,c,d,e,f);b("AdsOverlaysUtils").hasCustomOverlaySpec(c)&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path));if(f===b("AdsAPIObjectives").PAGE_LIKES)return t(a,c,d);c=m(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c);switch(a){case b("AdsMediaFormat").IMAGE:return r(f,c);case b("AdsMediaFormat").VIDEO:return s(f,c,d);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function q(a,c,d,e,f){__p&&__p();switch(a){case b("AdsMediaFormat").IMAGE:if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c))return r(f,g(b("ApiAdObjectTypes").VIDEO,c,f));c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,c);b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);c=n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,b("AdsAdgroupEditorStore").getCachedAssetFeedImages(c.id),c);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE),c);case b("AdsMediaFormat").VIDEO:if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)){e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);return s(f,g(e,c,f),d)}c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,c);b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);c=n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,b("AdsAdgroupEditorStore").getCachedAssetFeedVideos(c.id),c);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO),c);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function r(a,c){var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);switch(d){case b("ApiAdObjectTypes").PHOTO:return c;case b("ApiAdObjectTypes").SHARE:var e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.OFFER_ID);return e?k(a,c):c;case b("ApiAdObjectTypes").VIDEO:e=a===b("AdsAPIObjectives").POST_ENGAGEMENT&&!b("AdsCanvasAdUtils").isCanvasDestinationEnabled(c)||b("AdsBrandAwarenessUtils").isBrandObjective(a)&&!b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(c);return e?l(a,c):k(a,c);default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}}function s(a,c,d){__p&&__p();var e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);switch(e){case b("ApiAdObjectTypes").PHOTO:c=j(a,c);break;case b("ApiAdObjectTypes").SHARE:(b("AdsBrandAwarenessUtils").isBrandObjective(a)||a===b("AdsAPIObjectives").POST_ENGAGEMENT)&&(c=h(b("AdsCallToActionTypes").TYPES.LEARN_MORE.name,c));if(a===b("AdsAPIObjectives").LOCAL_AWARENESS){d=b("AdsAssetFeedFieldUtils").firstCTAAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,d));d===b("AdsCallToActionTypes").TYPES.SAVE.name&&(c=h(b("AdsCallToActionTypes").TYPES.LEARN_MORE.name,c))}c=i(a,c);break;case b("ApiAdObjectTypes").VIDEO:break;default:b("FBLogger")("ads").mustfix("Invalid object type: %s",e);return c}c=o(c,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(c,a));return c}function t(a,c,d){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);var e;if(a===b("AdsMediaFormat").VIDEO&&c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)!==b("ApiAdObjectTypes").SHARE){c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,d,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO,c);e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.BODY);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE,e,c));var f=b("AdsAdgroupEditorStore").getCachedVideoID(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL,f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailHash(c.id);f&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,f,c));c=m(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.BODY,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.TITLE,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,c);return c}else if(a===b("AdsMediaFormat").VIDEO&&c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)===b("ApiAdObjectTypes").SHARE&&p){c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.pageID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name).setIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_OG_ID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO);f=c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.message);var g=b("AdsAdgroupEditorStore").getCachedVideoID(c.id),h=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message,f).setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.videoID,g).setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.videoThumbnailURL,h).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.BODY).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TITLE).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,c);return c}else if(a===b("AdsMediaFormat").IMAGE&&p){c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name);f=b("AdsAdgroupEditorStore").getCachedImageCrops(c.id);g=b("AdsAdgroupEditorStore").getCachedImageHash(c.id);h=b("AdsAdgroupEditorStore").getCachedTitle(c.id);var i=c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message),j=b("AdsAdgroupEditorStore").getCachedLink(c.id);if(d!=null&&j==null){var k=b("AdsPageStore").get(d);j=k[b("ApiPageFields").LINK]}c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.message,i).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.headline,h).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageHash,g).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageCrops,f).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.linkURL,j).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_OG_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.VIDEO_ID);return c}else if(a===b("AdsMediaFormat").IMAGE&&!p){c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,d,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").PAGE,c);e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.BODY,e,c));b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);k=b("AdsAdgroupEditorStore").getCachedTitle(c.id);k&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.TITLE,k,c));b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);i=b("AdsAdgroupEditorStore").getCachedImageHash(c.id);i&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,i,c));b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);h=b("AdsAdgroupEditorStore").getCachedImageCrops(c.id);h&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_CROPS,h,c));c=m(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,c);return c}else{b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}c={setMediaFormat:a};e.exports=c}),null);
__d("AdsAdgroupMutators",["AdsAccountStore","AdsAdgroupBulkEditApplyChangesDataActionFlux","AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsAdgroupEditorStore","AdsAdgroupEnablePageActorDataActionFlux","AdsAdgroupEnhancedReviewDataActionFlux","AdsAdgroupImageMutators","AdsAdgroupInstantPublishNameFieldActionFlux","AdsAdgroupReplaceInDataActionFlux","AdsAdgroupSetBrandedContentSponsorPageDataActionFlux","AdsAdgroupSetCollectionCoverMediaDataActionFlux","AdsAdgroupSetMediaFormatDataActionFlux","AdsAdgroupSetNamesDataActionFlux","AdsAdgroupSetPageDataActionFlux","AdsAdgroupSetProductSetIdDataActionFlux","AdsAdgroupSetRunStatusDataActionFlux","AdsAdgroupSetUsePageActorOverrideDataActionFlux","AdsAdgroupSpecPathPluginResolver","AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux","AdsAdgroupUpdateCollectionProductSetDetailsDataActionFlux","AdsAdgroupWebsiteMutatorsAdapter","AdsAPIAdgroupObjectStorySpecRecord","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAudienceDirectConfig","AdsAuthorizationCategoryUtils","AdsCampaignCombinedStore","AdsCampaignGroupPromotedPageIDGetter","AdsCampaignPromotedObjectSetPageIdDataActionFlux","AdsCanvasAdUtils","AdsDataAtom","AdsImageRequestManualReviewDataActionFlux","AdsMediaFormat","AdsMediaFormatMutators","AdsMutators","AdsObjectiveGetter","AdsObjectStorySpecMutators","AdsPageGetter","AdsPageIDGetter","AdsPageStore","AdsPEAdgroupLiveStatusChangeActionFlux","AdsProductSetBatchCreatedActionFlux","AdsProductSetCreationSources","AdsPromotedObjectTypeStore","AdsRegexp","AdsRunStatus","AdsSelectorUtils","AdsSponsoredMessageUtils","AdsUEditorAdgroupCanvasMutator","AdsUEditorAdgroupMutators","AdsUnifiedCreativeAPIFields","AdsVideoStore","ApiAdObjectTypes","adsPagesInAuthorizationSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").chain,h=b("AdsMutators").deleteIn,i=b("AdsMutators").mutateEach,j=b("AdsMutators").setIn,k=b("AdsObjectStorySpecMutators").getSpecTypeOption,l=b("AdsObjectStorySpecMutators").setInBySpecType,m=b("AdsRegexp").getReplacedText;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsAdgroupEnablePageActorDataActionFlux").actionType:return i(a,d.ids,function(a){return o(a)});case b("AdsAdgroupReplaceInDataActionFlux").actionType:return i(a,d.ids,function(a){return a.updateIn(d.path,function(a){return a&&m(a,d.toFind,d.replaceWith,"ig")})});case b("AdsAdgroupSetProductSetIdDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,d.productSetID,a)});case b("AdsAdgroupUpdateCollectionProductSetDetailsDataActionFlux").actionType:return i(a,d.ids,function(a){return l(k({appLinkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.RETAILER_ITEM_IDS,appLinkDataValue:d.retailerItemIDs,linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.RETAILER_ITEM_IDS,linkDataValue:d.retailerItemIDs,videoDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.RETAILER_ITEM_IDS,videoDataValue:d.retailerItemIDs,templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.RETAILER_ITEM_IDS,templateDataValue:d.retailerItemIDs},a),a).setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,d.productSetID,a)});case b("AdsProductSetBatchCreatedActionFlux").actionType:return d.productSetID&&d.source&&d.source.adgroupIDs&&d.source.spec===b("AdsProductSetCreationSources").CREATIVE?i(a,d.source.adgroupIDs,function(a){return j(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,d.productSetID,a)}):a;case b("AdsAdgroupSetMediaFormatDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsAccountStore")].concat(b("AdsObjectiveGetter").getStores(),[b("AdsPromotedObjectTypeStore")]).map(function(a){return a.getDispatchToken()}));return i(a,d.ids,function(c){var a=b("AdsAccountStore").getSelectedAccount_LEGACY(),e=b("AdsObjectiveGetter").get({adgroup:c}),f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e,promotedObjectType:b("AdsPromotedObjectTypeStore").get(c.adset_id)});return b("AdsMediaFormatMutators").setMediaFormat(d.mediaFormat,c,f,a,e)});case b("AdsAdgroupSetNamesDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").NAME,d.idToNameMap.get(a.id),a)});case b("AdsAdgroupSetPageDataActionFlux").actionType:b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsPagesInAuthorizationSelector")]));return i(a,d.ids,function(c){var e=b("AdsObjectiveGetter").get({adgroup:c});b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);var f=b("AdsPromotedObjectTypeStore").get(c.adset_id),g=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e,promotedObjectType:f}),h=!1,a=b("AdsAccountStore").getSelectedAccount_LEGACY(),i=b("AdsCampaignCombinedStore").get(c.adset_id);i.isDone()&&i.hasValue()&&(h=b("AdsSponsoredMessageUtils").isNewVersionSponsoredMessage(a,i.getValue()));c=b("AdsUEditorAdgroupMutators").setPageID(d.pageID,b("AdsPageGetter").get({pageID:d.pageID}),c,a,h,b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:c.campaign_id}),e);b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&(c=b("AdsUEditorAdgroupCanvasMutator").clearCanvasLink(c,g),c=b("AdsUEditorAdgroupCanvasMutator").clearCollectionsFields(c,g,f));c=b("AdsAuthorizationCategoryUtils").mutateAuthorizationCategory(c,d.pageID,b("adsPagesInAuthorizationSelector")());return c});case b("AdsCampaignPromotedObjectSetPageIdDataActionFlux").actionType:b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsPagesInAuthorizationSelector")]));return i(a,d.adgroupIDs,function(a){a=p(d.pageID,a);a=b("AdsAuthorizationCategoryUtils").mutateAuthorizationCategory(a,d.pageID,b("adsPagesInAuthorizationSelector")());return a});case b("AdsAdgroupSetRunStatusDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").STATUS,d.runStatus,a)});case b("AdsAdgroupSetUsePageActorOverrideDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE,d.usePageActorOverride,a)});case b("AdsAdgroupSetBrandedContentSponsorPageDataActionFlux").actionType:return i(a,d.ids,function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").brandedContentSponsorPageID.getPath(a,b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)})),d.brandedContentSponsorPageID)});case b("AdsAdgroupSetCollectionCoverMediaDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsAccountStore"),b("AdsPageStore")].concat(b("AdsObjectiveGetter").getStores(),[b("AdsPromotedObjectTypeStore")]).map(function(a){return a.getDispatchToken()}));var e=b("AdsAccountStore").getSelectedAccount_LEGACY();g(function(a){return a});if(d.imageURL)c=g(function(a){return i(a,d.ids,function(a){return b("AdsUEditorAdgroupMutators").transformTemplateVideoMediaToImageMedia(a)})},function(a){return q(a,d.ids,b("AdsMediaFormat").IMAGE)},function(a){return i(a,d.ids,function(a){var c=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)}),f=b("AdsUnifiedCreativeAPIFields").pageID.getValue(a,c);f=f?b("AdsPageStore").get(f):null;return b("AdsAdgroupImageMutators").setImage(e,d.imageHash,d.imageURL,d.platform,d.thumbnailURL,d.thumbnailHeight,d.thumbnailWidth,a,c,f)})});else if(d.videoId)if(d.canvasHasTemplateVideoElement)c=g(function(a){return i(a,d.ids,function(a){return b("AdsUEditorAdgroupMutators").templateVideoMediaTypeSelected(a)})});else{b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsVideoStore").getSelector]));var f=b("AdsVideoStore").getSelector();c=g(function(a){return i(a,d.ids,function(a){return b("AdsUEditorAdgroupMutators").transformTemplateVideoMediaToImageMedia(a)})},function(a){return q(a,d.ids,b("AdsMediaFormat").VIDEO)},function(a){return i(a,d.ids,function(a){var c=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)});return b("AdsUEditorAdgroupMutators").setVideoID(a,c,f(d.videoId))})})}else c=g(function(a){return i(a,d.ids,function(a){var c=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)}),d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);if(d===b("ApiAdObjectTypes").VIDEO)return b("AdsUEditorAdgroupMutators").setVideoID(a,c,null);else return b("AdsAdgroupImageMutators").setImage(e,null,null,null,null,null,null,a,c,null)})});return c(a);case b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupBulkEditApplyChangesDataActionFlux").actionType:c=d.ids;var h=d.changedAdgroupsMap;return i(a,c,function(a){return a.mergeDeep(h.get(a.id))});case b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType:c=d.ids;var n=d.pixelID;return i(a,c,function(a){var c=a.tracking_specs||[];c=[].concat(c,[{"action.type":["offsite_conversion"],fb_pixel:n}]);return j(b("AdsAPIAdgroupPaths").TRACKING_SPECS,b("immutable").List(c),a)});case b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").STATUS,d.runStatus,a)});case b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").NAME,d.name,a)});case b("AdsImageRequestManualReviewDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").MANUAL_REVIEW_REQUESTED,d.isRequested,a)});case b("AdsAdgroupEnhancedReviewDataActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPIAdgroupPaths").REVIEW_CONFIG.PREMIUM_REVIEW_REQUESTED,d.isEnhancedReview,a)});default:return a}}function n(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH);c?(a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,c,a),a=h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,a)):(a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL),a),a=h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,a));return a}function o(a){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);var c=b("AdsAdgroupEditorStore").getCachedObjectStorySpec(a.id);a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,new(b("AdsAPIAdgroupObjectStorySpecRecord"))(c||{}),a);c=b("AdsPageIDGetter").get({adgroup:a});c&&(a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,c,a));c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path);!c?(a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE,a),a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS,a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_CROPS),a),a=n(a),a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK,a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_URL),a),a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.BODY),a),a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.TITLE),a)):a=j(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_CROPS,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_URL,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.BODY,a);a=h(b("AdsAPIAdgroupPaths").CREATIVE.TITLE,a);return a}function p(a,c){var d=b("AdsObjectiveGetter").get({adgroup:c}),e=d===b("AdsAPIObjectives").PAGE_LIKES;if(e){e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID);a!==e&&(c=b("AdsAdgroupWebsiteMutatorsAdapter").setWebsiteURL("",c))}e=!1;var f=b("AdsCampaignCombinedStore").get(c.adset_id),g=b("AdsAccountStore").getSelectedAccount_LEGACY();f.isDone()&&f.hasValue()&&(e=b("AdsSponsoredMessageUtils").isNewVersionSponsoredMessage(g,f.getValue()));return b("AdsUEditorAdgroupMutators").setPageID(a,b("AdsPageGetter").get({pageID:a}),c,g,e,b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:c.campaign_id}),d)}function q(a,c,d){return i(a,c,function(a){var c=b("AdsAccountStore").getSelectedAccount_LEGACY(),e=b("AdsObjectiveGetter").get({adgroup:a}),f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e,promotedObjectType:b("AdsPromotedObjectTypeStore").get(a.adset_id)});return b("AdsMediaFormatMutators").setMediaFormat(d,a,f,c,e)})}c={reduce:a};e.exports=c}),null);
__d("AdsAdgroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsAdgroupCombinedStore;e.exports=a}),null);
__d("AdsCopyActionUtils",["AdObjectLevels","AdsAdgroupCombinedStore","AdsCampaignCombinedStore","AdsCopyCopyCompletedDataActionFlux","FBLogger","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();var d=a.campaignIDs;a=a.campaignGroupIDs;if(!d.count()&&!a.count())return{campaignIDs:d,campaignGroupIDs:a};var e=b("AdsAdgroupCombinedStore").get(c);if(!e.hasValue()){b("FBLogger")("ads").mustfix("Duplication Error: duplicated adgroup (id %s) isn't loaded",c);return{campaignIDs:d,campaignGroupIDs:a}}c=e.getValueEnforcing();e=c.adset_id;c=c.campaign_id;d=d;a=a;d.count()&&(d=d.add(e));a.count()&&(a=a.add(c));return{campaignIDs:d,campaignGroupIDs:a}}function h(a,c){__p&&__p();if(!a.count())return a;var d=b("AdsCampaignCombinedStore").get(c);if(!d.hasValue()){b("FBLogger")("ads").mustfix("Duplication Error: duplicated campaign (id %s) isn't loaded",c);return a}c=d.getValueEnforcing();d=c.campaign_id;c=a;c.count()&&(c=c.add(d));return c}function a(a,c,d){var e={campaignIDs:b("immutable").Set(),campaignGroupIDs:b("immutable").Set()},f=a[b("AdObjectLevels").ADGROUP],i=a[b("AdObjectLevels").CAMPAIGN],j=a[b("AdObjectLevels").CAMPAIGN_GROUP];if(b("gkx")("677956")){var k=j&&j.length;!k&&i&&i.length?e.campaignGroupIDs=i.reduce(h,b("immutable").Set(d)):!k&&f&&f.length&&(e=f.reduce(g,{campaignIDs:b("immutable").Set(c),campaignGroupIDs:b("immutable").Set(d)}))}return babelHelpers["extends"]({},a,{adgroupIDs:f,campaignIDs:i,campaignGroupIDs:j,selectedCampaignIDs:e.campaignIDs.toArray(),selectedCampaignGroupIDs:e.campaignGroupIDs.toArray(),type:b("AdsCopyCopyCompletedDataActionFlux").actionType})}e.exports={createCopyCompletedData:a}}),null);
__d("AdsDraftSyncToastCardUtils",["fbt","adsFormatErrorMessage","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="draftSync",i=g._("Unable to save unpublished changes."),j={createToastCardForDraftSyncFailure:function(a,c){var d=i;c=g._("An error prevented your unpublished changes from being saved. Please try again later. Error: {error message}",[g._param("error message",b("adsFormatErrorMessage")(c))]);return{id:"draft_sync_failure_toast_"+a,cardType:"warning",canDismiss:!0,header:d,bodyText:c,useCase:h,callsToAction:[]}},dismissAllDraftSyncToastCards:function(a){var b=a.filter(function(a){return a.useCase!==h});return b.length!==a.length?b:a},reduceErrors:function(a,c){if(!b("gkx")("677966"))return a;a=j.dismissAllDraftSyncToastCards(a);c=c.errors?c.errors:new Map();var d=[];c.forEach(function(a,b){return d.push(j.createToastCardForDraftSyncFailure(b,a))});return[].concat(a,d)}};e.exports=j}),null);
__d("AdsCampaignStoreSetters",["invariant","AdConvAttrWindows","AdObjectLevels","AdsActionTypes","AdsAdgroupSetProductSetIdDataAction","AdsAdgroupStoreUtils","AdsAPIAccountPaths","AdsAPIBillingEvents","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPICampaignRecord","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsAPITargetFields","AdsAPIToplinePaths","AdsAudienceSplittingUtils","AdsBulkValueUtils","AdsCampaignBudgetPluginResolver","AdsCampaignClearDynamicOptionsDataActionFlux","AdsCampaignClearSavedAudienceDataActionFlux","AdsCampaignCreation","AdsCampaignGroupCombinedStore","AdsCampaignMigratePricingDataActionFlux","AdsCampaignPlacementAddDataActionFlux","AdsCampaignPlacementSetFromAPISpecDataAction","AdsCampaignPromotedObjectSetCustomEventTypeDataActionFlux","AdsCampaignPromotedObjectSetPageIdDataActionFlux","AdsCampaignPromotedObjectSetPageSetIdDataActionFlux","AdsCampaignResetOptimizationGoalToReachDataAction","AdsCampaignSetAttributionWindowDaysDataActionFlux","AdsCampaignSetBidAmountDataActionFlux","AdsCampaignSetBillingEventDataActionFlux","AdsCampaignSetDeliveryDataActionFlux","AdsCampaignSetDynamicTargetingTypeDataActionFlux","AdsCampaignSetEndTimeDataActionFlux","AdsCampaignSetExcludedProductAudienceFieldsDataActionFlux","AdsCampaignSetFrequencyIntervalDataActionFlux","AdsCampaignSetImpressionsDataActionFlux","AdsCampaignSetIsAutobidDataActionFlux","AdsCampaignSetIsAveragePricePacingDataActionFlux","AdsCampaignSetLifetimeReachDataActionFlux","AdsCampaignSetOptimizationGoalDataActionFlux","AdsCampaignSetPacingTypeDataActionFlux","AdsCampaignSetPredictionIdDataActionFlux","AdsCampaignSetProductAudienceFieldsDataActionFlux","AdsCampaignSetProductSetDataActionFlux","AdsCampaignSetPromotedObjectDataActionFlux","AdsCampaignSetSavedAudienceDataActionFlux","AdsCampaignSetScheduleDataActionFlux","AdsCampaignSetStartTimeAndEndTimeDataActionFlux","AdsCampaignSetStatusDataActionFlux","AdsCampaignSetTargetingDataActionFlux","AdsCampaignUtils","AdsCFCampaignCreationMode","AdsCFCampaignGroupSelectTabDataActionFlux","AdsCFNewCampaignFBID","AdsCopyCopyCompletedDataActionFlux","AdsCopyDataManager","AdsCopySource","AdsCreateDuplicateCampaignByTargetingDataActionFlux","AdsDeliveryClarityOpenEditDialogActionFlux","AdsDeliveryPaths","AdsDeliveryTab","AdsDeliveryUtils","AdsDynamicAudienceBatchCreatedDataActionFlux","AdsDynamicAudienceDraftPresetEventDataActionFlux","AdsDynamicTargetingCategories","AdsDynamicTargetingPackagePlugins","AdsDynamicTargetingTypes","AdsEmptyValue","AdsFrequencyControlEditorUtils","AdsMeasurableLocationUtils","AdsMessengerBidAmountUtils","AdsMixedValue","AdsOptimizationUtils","AdsPECampaignLiveStatusChangeActionFlux","AdsPECampaignRawCombinedTableStore","AdsPlacementEligibilityInfoUtils","AdsPlacementTargetingFields","AdsPlacementUtils","AdsProductAudienceSpecsUtils","AdsProductSetBatchCreatedActionFlux","AdsProductSetCreationSources","AdsPromotedObjectTypes","AdsReachFrequencyAddNewTimeBasedAdRotationActionFlux","AdsReachFrequencyAdjustRotationOnAdsetChangeActionFlux","AdsReachFrequencyDeleteTimeBasedAdRotationActionFlux","AdsReachFrequencyDeliveryOptions","AdsReachFrequencyDestinationUtils","AdsReachFrequencyFlowChangeDestinationActionFlux","AdsReachFrequencyFlowChangeInstagramDestinationActionFlux","AdsReachFrequencyFlowSetPredictionIdActionFlux","AdsReachFrequencySetDeliveryMethodActionFlux","AdsReachFrequencyUpdateTimeBasedAdRotationIdBlocksActionFlux","AdsReachFrequencyUpdateTimeBasedAdRotationIntervalActionFlux","AdsSelectedAccountGetter","AdsSelectedAccountIDGetter","AdsSequencingConfirmSequenceDataActionFlux","AdsSetMessengerPromotedObjectSource","AdsToplineUtils","AdsUEditorAdgroupSetInstagramAccountDataAction","AdsUEditorAdgroupSetUseDynamicDataAction","AdsUEditorCampaignMutators","AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux","AdsUEditorHostIDs","AdsUniformValue","AdsWebsiteOptimizationUtil","DateConsts","DateTime","DayPartingUtils","FBLogger","ads-budgetImpsConverter","areEqual","getBulkByPath","getByPath","isEmpty","nullthrows","promiseDone","setByPath","whitelistObjectKeys"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsReachFrequencyDeliveryOptions").AdsReachFrequencyDeliveryOptions,i=b("ads-budgetImpsConverter").Converter,j=b("AdsProductAudienceSpecsUtils").mergeProductAudienceWithPromotedProductSetID;function a(){this.$1=null}a.prototype.$2=function(a,c,d){this.$1?this.$1(a,c,d):b("FBLogger")("ads").mustfix("called setPath but setPath callback not set")};a.prototype.handleDispatch=function(a,c){__p&&__p();var d=a.action;this.$1=c;switch(d.type){case b("AdsCampaignClearSavedAudienceDataActionFlux").actionType:this.$3(d.ids,d.defaultTargeting);break;case b("AdsCreateDuplicateCampaignByTargetingDataActionFlux").actionType:this.$4(d.campaign,d.draftID,d.audienceSplittingSpecs,d.budget);break;case b("AdsCampaignSetExcludedProductAudienceFieldsDataActionFlux").actionType:this.$5(d.ids,d.fields);break;case b("AdsCampaignSetProductAudienceFieldsDataActionFlux").actionType:this.$6(d.ids,d.fields);break;case b("AdsCampaignClearDynamicOptionsDataActionFlux").actionType:this.$7(d.campaignIDs);break;case b("AdsCampaignSetBidAmountDataActionFlux").actionType:this.$8(d.ids,d.bidAmount);break;case b("AdsCampaignSetBillingEventDataActionFlux").actionType:this.$9(d.ids,d.billingEvent);break;case b("AdsCampaignSetAttributionWindowDaysDataActionFlux").actionType:this.$10(d.ids,d.attributionWindowDays);break;case b("AdsCampaignSetIsAutobidDataActionFlux").actionType:this.$11(d.ids,d.isAutoBid,d.isAveragePricePacing);break;case b("AdsCampaignSetIsAveragePricePacingDataActionFlux").actionType:this.$12(d.ids,d.isAveragePricePacing);break;case b("AdsSequencingConfirmSequenceDataActionFlux").actionType:this.$13([d.campaignID],d.sequence);break;case b("AdsCampaignSetEndTimeDataActionFlux").actionType:this.$14(d.ids,d.endTime,b("AdsAPICampaignPaths").END_TIME);break;case b("AdsCampaignSetStartTimeAndEndTimeDataActionFlux").actionType:this.$15(d.ids,d.startTime,d.endTime);break;case b("AdsCampaignSetFrequencyIntervalDataActionFlux").actionType:this.$16(d.ids,d.days,d.maxFrequency);break;case b("AdsCampaignSetImpressionsDataActionFlux").actionType:this.$17(d.ids,d.lifetimeImpressions,d.topline,d.isCorporate,d.buyingType,d.offset);break;case b("AdsCampaignSetLifetimeReachDataActionFlux").actionType:this.$18(d.ids,d.lifetimeReach);break;case b("AdsCampaignSetDynamicTargetingTypeDataActionFlux").actionType:if(b("AdsProductAudienceSpecsUtils").getTargetingCategory(d.targetingType)!==b("AdsDynamicTargetingCategories").PROSPECTING||d.oldTargetingType&&b("AdsProductAudienceSpecsUtils").getTargetingCategory(d.oldTargetingType)===b("AdsDynamicTargetingCategories").PROSPECTING)break;d.ids.forEach(function(a){var d=this.$19(a),e=b("getByPath")(d,b("AdsAPICampaignPaths").CAMPAIGN_ID);e=b("AdsCampaignGroupCombinedStore").getCached(e).getValue();if(!e)return;var f=b("getByPath")(e,b("AdsAPICampaignGroupPaths").OBJECTIVE,b("AdsAPIObjectives").NONE);d=new(b("AdsAPICampaignRecord"))(d);b("AdsUEditorCampaignMutators").setOptimizationGoal(b("AdsSelectedAccountGetter").get({}),d,a,{buyingType:e.buying_type,objective:f},b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS,c)}.bind(this));break;case b("AdsCampaignSetOptimizationGoalDataActionFlux").actionType:d.ids.forEach(function(a){var e=new(b("AdsAPICampaignRecord"))(this.$19(a));b("AdsUEditorCampaignMutators").setOptimizationGoal(b("AdsSelectedAccountGetter").get({}),e,a,d.settings.get(a),d.optimizationGoal,c)}.bind(this));break;case b("AdsCampaignSetPacingTypeDataActionFlux").actionType:this.$20(d.ids,d.pacingType);break;case b("AdsCampaignMigratePricingDataActionFlux").actionType:this.$21(d.ids);break;case b("AdsProductSetBatchCreatedActionFlux").actionType:a=d.source;a&&!this.$22(a.campaignIDs)&&(a.spec===b("AdsProductSetCreationSources").PROMOTED_OBJECT?(b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a.campaignIDs),function(a){return b("AdsUEditorAdgroupSetUseDynamicDataAction").dispatch({hostID:b("AdsUEditorHostIDs").EDITING,adgroupIDs:a,productSetID:d.productSetID},{line:"347",module:"AdsCampaignStoreSetters.js"})}),this.$23(a.campaignIDs,d.productSetID)):a.spec===b("AdsProductSetCreationSources").PRODUCT_AUDIENCE_SPECS&&this.$6(a.campaignIDs,{product_set_id:d.productSetID}));break;case b("AdsDynamicAudienceBatchCreatedDataActionFlux").actionType:this.$24(d.ids,d.dynamicAudienceIds,d.isExcludedDynamicAudience);break;case b("AdsDynamicAudienceDraftPresetEventDataActionFlux").actionType:d.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING&&d.audiencePreset==="EMPTY_AUDIENCE"&&this.$24(d.ids,[],!0);break;case b("AdsCampaignSetProductSetDataActionFlux").actionType:this.$23(d.campaignIDs,d.productSetID);break;case b("AdsCampaignSetPromotedObjectDataActionFlux").actionType:this.$25(d.campaignIDs,d.promotedObject);break;case b("AdsCampaignPlacementAddDataActionFlux").actionType:d.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_SPONSORED_MESSAGE_IN_PE&&(this.$26(d.ids),this.$27(d.ids),this.$28(d.ids,!0));break;case b("AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux").actionType:case b("AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux").actionType:this.$29(d.campaignIDs,b("AdsWebsiteOptimizationUtil").getUnifiedPixelPromotedObject(null));break;case b("AdsCampaignPromotedObjectSetPageSetIdDataActionFlux").actionType:this.$30(d.ids,d.pageSetID);break;case b("AdsCampaignPromotedObjectSetPageIdDataActionFlux").actionType:this.$31(d.campaignIDs,d.pageID);break;case b("AdsCampaignPromotedObjectSetCustomEventTypeDataActionFlux").actionType:this.$32(d.ids,d.customEventType);break;case b("AdsCampaignSetSavedAudienceDataActionFlux").actionType:this.$33(d.ids,d.savedAudienceID,d.savedAudience);break;case b("AdsCampaignSetScheduleDataActionFlux").actionType:this.$34(d.ids,d.schedule,d.pacingType);break;case b("AdsCampaignSetDeliveryDataActionFlux").actionType:this.$35(d.ids,d.deliverySpec,d.oldBulkSpec);break;case b("AdsDeliveryClarityOpenEditDialogActionFlux").actionType:a=d.deliverySpecChanges;a!=null&&this.$35(a.ids,a.deliverySpec,a.oldBulkSpec);break;case b("AdsCampaignSetTargetingDataActionFlux").actionType:if(d.supportMixedValueMutation){this.$36(d.ids,d.targeting);break}this.$37(d.ids,d.targeting,d.remainingBulkSpec);break;case b("AdsCampaignSetStatusDataActionFlux").actionType:this.$38(d.ids,d.status);break;case b("AdsCFCampaignGroupSelectTabDataActionFlux").actionType:d.tab===b("AdsDeliveryTab").AUCTION&&this.$39(d.ids);break;case b("AdsReachFrequencyFlowSetPredictionIdActionFlux").actionType:case b("AdsCampaignSetPredictionIdDataActionFlux").actionType:this.$40(d.ids,d.predictionID);break;case b("AdsReachFrequencyFlowChangeInstagramDestinationActionFlux").actionType:this.$41(d.ids,d.instagramActorID);break;case b("AdsReachFrequencySetDeliveryMethodActionFlux").actionType:this.$42(d.ids,d.deliverySelection===h.SEQUENCING,d.originalCampaigns);d.deliverySelection===h.TIME_BASED?this.$43(d.ids,d.timeRotationIdBlocks,d.timeRotationIntervals):this.$44(d.ids);break;case b("AdsReachFrequencyUpdateTimeBasedAdRotationIdBlocksActionFlux").actionType:this.$45(d.ids,d.idBlock,d.index);break;case b("AdsReachFrequencyUpdateTimeBasedAdRotationIntervalActionFlux").actionType:this.$46(d.ids,d.interval,d.index);break;case b("AdsReachFrequencyAddNewTimeBasedAdRotationActionFlux").actionType:this.$47(d.ids,d.endDate,d.timezoneID);break;case b("AdsReachFrequencyDeleteTimeBasedAdRotationActionFlux").actionType:this.$48(d.ids,d.index);break;case b("AdsReachFrequencyAdjustRotationOnAdsetChangeActionFlux").actionType:this.$49(d.endTime,d.ids,d.startTime);break;case b("AdsReachFrequencyFlowChangeDestinationActionFlux").actionType:if(this.$22(d.ids))break;var e=d.destinationID;d.ids.forEach(function(a){var c=this.$19(a);c=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);c=b("AdsCampaignGroupCombinedStore").getCached(c).getValue();c=b("getByPath")(c,b("AdsAPICampaignGroupPaths").OBJECTIVE,b("AdsAPIObjectives").NONE);b("AdsReachFrequencyDestinationUtils").isDestinationPromotedObjectPage(c)&&this.$31([a],e)}.bind(this));break;case b("AdsCopyCopyCompletedDataActionFlux").actionType:d.responses.forEach(function(a){a.extraData&&a.extraData.audiences&&this.$50(a.fragments,a.extraData.audiences.audienceSplittingSpecs,a.extraData.audiences.budget)}.bind(this));break;case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:this.$2(b("AdsAPICampaignPaths").STATUS,d.ids,d.runStatus);break}this.$1=null};a.prototype.$19=function(a){return b("AdsPECampaignRawCombinedTableStore").get(a).getValueEnforcing()};a.prototype.$44=function(a){a.forEach(function(a){var c=this.$19(a),d=b("getByPath")(c,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);d&&d.length>0&&this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],[]);d=b("getByPath")(c,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);d&&d.length>0&&this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],[])}.bind(this))};a.prototype.$3=function(a,c){this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE.path,a,null),this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE_ID,a,null),a.forEach(function(a){var d=this.$19(a),e=this.$51(d),f=this.$52(d);d=this.$53(d);e=babelHelpers["extends"]({},c,e,f,d);this.$2(b("AdsAPICampaignPaths").TARGETING.path,[a],e)}.bind(this))};a.prototype.$4=function(a,c,d,e){var f=d.shift();this.$54(a,f,e);c||g(0,5207);f=b("nullthrows")(b("AdsSelectedAccountIDGetter").get({}));a=b("getByPath")(a,b("AdsAPICampaignPaths").ID);e={audienceSplittingSpecs:d,budget:e};e={audiences:e,count:d.length};d={ids:[a],accountID:f,draftID:c,newParentID:null,extraData:e,requestID:0};b("AdsCopyDataManager").copy([d],b("AdsCopySource").DUPLICATE_CAMPAIGN_BY_TARGETING)};a.prototype.$54=function(a,c,d){var e=b("AdsAudienceSplittingUtils").applySplittingSpec(a,c,d);c=[b("AdsAPICampaignPaths").DAILY_BUDGET,b("AdsAPICampaignPaths").LIFETIME_BUDGET,b("AdsAPICampaignPaths").NAME,b("AdsAPICampaignPaths").SAVED_AUDIENCE.path,b("AdsAPICampaignPaths").SAVED_AUDIENCE_ID,b("AdsAPICampaignPaths").TARGETING.path];c.forEach(function(c){var d=b("getByPath")(e,c);d&&this.$2(c,[a.id],d)}.bind(this))};a.prototype.$50=function(a,c,d){var e=0;a.map(function(a){if(a.ad_object_type===b("AdObjectLevels").CAMPAIGN){a=this.$19(a.ad_object_id);b("isEmpty")(a)||this.$54(a,c[e++],d)}}.bind(this))};a.prototype.$7=function(a){this.$5(a,null),this.$6(a,null),this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PRODUCT_SET_ID,a,void 0)};a.prototype.$5=function(a,c){this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS,a,c)};a.prototype.$6=function(a,c){__p&&__p();if(!c){a.forEach(function(a){this.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],null)}.bind(this));return}a.forEach(function(a){var d=this.$19(a);d=b("getByPath")(d,b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS);d&&d.length>0?d=babelHelpers["extends"]({},d[0],c):d=babelHelpers["extends"]({},b("AdsDynamicTargetingPackagePlugins").get(b("AdsDynamicTargetingTypes").VIEWED_ADDED_TO_CART_NOT_PURCHASED).defaultFields[0],c);this.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],[d])}.bind(this))};a.prototype.$55=function(a,b){this.$2(a,b,void 0)};a.prototype.$8=function(a,c){this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,a,c)};a.prototype.$9=function(a,c){this.$2(b("AdsAPICampaignPaths").BILLING_EVENT,a,c),a.forEach(function(a){var d=this.$19(a),e=b("getByPath")(d,b("AdsAPICampaignPaths").OPTIMIZATION_GOAL),f=b("getByPath")(d,b("AdsAPICampaignPaths").IS_AUTOBID),g=b("AdsCampaignGroupCombinedStore").getCached(d.campaign_id).getValue();if(!g)return;b("AdsUEditorCampaignMutators").adjustAutoBidAndBidAmount(b("AdsSelectedAccountGetter").get({}),g.buying_type,new(b("AdsAPICampaignRecord"))(d),a,g.objective,e,c,f,this.$2)}.bind(this))};a.prototype.$11=function(a,c,d,e){__p&&__p();this.$2(b("AdsAPICampaignPaths").IS_AUTOBID,a,c);if(c)this.$28(a,!1),this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,a,null),d!==void 0&&this.$2(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,a,!1);else{e=b("AdsSelectedAccountGetter").get({});var f=b("getByPath")(e,b("AdsAPIAccountPaths").CURRENCY),g=b("getByPath")(e,b("AdsAPIAccountPaths").BUSINESS_COUNTRY_CODE);a.forEach(function(c){var e=this.$19(c),h=b("getByPath")(e,b("AdsAPICampaignPaths").CAMPAIGN_ID);h=b("AdsCampaignGroupCombinedStore").getCached(h).getValue();if(!h)return;h=b("getByPath")(h,b("AdsAPICampaignGroupPaths").OBJECTIVE)||b("AdsAPIObjectives").NONE;var i=b("getByPath")(e,b("AdsAPICampaignPaths").OPTIMIZATION_GOAL),j=b("getByPath")(e,b("AdsAPICampaignPaths").BILLING_EVENT);e=new(b("AdsAPICampaignRecord"))(e);this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,[c],b("AdsOptimizationUtils").getDefaultBidAmount(h,i,j,e,f,g));d!==void 0&&this.$2(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,a,d)}.bind(this))}};a.prototype.$10=function(a,c){a.forEach(function(a){var d=this.$19(a),e=new(b("AdsAPICampaignRecord"))(d);d=b("getByPath")(d,b("AdsAPICampaignPaths").OPTIMIZATION_GOAL);this.$2(b("AdsAPICampaignPaths").ATTRIBUTION_SPEC,[a],d===b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS||d===b("AdsAPIOptimizationGoals").VALUE?b("AdsDeliveryUtils").updateClickThroughAttributionWindow(e.getIn(b("AdsAPICampaignPaths").ATTRIBUTION_SPEC),c):b("AdsDeliveryUtils").updateClickThroughAttributionWindow(e.getIn(b("AdsAPICampaignPaths").ATTRIBUTION_SPEC),b("AdConvAttrWindows").ATTR_1_DAY))}.bind(this))};a.prototype.$12=function(a,c,d){__p&&__p();this.$2(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,a,c);if(!c)return;d=b("AdsSelectedAccountGetter").get({});var e=b("getByPath")(d,b("AdsAPIAccountPaths").CURRENCY),f=b("getByPath")(d,b("AdsAPIAccountPaths").BUSINESS_COUNTRY_CODE);a.forEach(function(a){var c=this.$19(a),d=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);d=b("AdsCampaignGroupCombinedStore").getCached(d).getValue();if(!d)return;d=b("getByPath")(d,b("AdsAPICampaignGroupPaths").OBJECTIVE,b("AdsAPIObjectives").NONE);var g=b("getByPath")(c,b("AdsAPICampaignPaths").OPTIMIZATION_GOAL),h=b("getByPath")(c,b("AdsAPICampaignPaths").BILLING_EVENT,b("AdsAPIBillingEvents").NONE);c=new(b("AdsAPICampaignRecord"))(c);this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,[a],b("AdsOptimizationUtils").getDefaultBidAmount(d,g,h,c,e,f));this.$2(b("AdsAPICampaignPaths").IS_AUTOBID,[a],!1)}.bind(this));this.$28(a,!1)};a.prototype.$13=function(a,c){this.$2(b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,a,c)};a.prototype.$43=function(a,c,d){this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,a,c),this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,a,d)};a.prototype.$49=function(a,c,d){if(this.$22(c))return;c.forEach(function(c){var e=this.$19(c);e=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(!e||e.length===0)return;(a-d<=b("DateConsts").SEC_PER_DAY||e[0]!==d||e[e.length-1]>=a)&&(this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[c],[]),this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[c],[]))}.bind(this))};a.prototype.$45=function(a,c,d){a.forEach(function(a){var e=this.$19(a);e=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);if(e&&d<e.length){e=e.slice();e[d]=c;this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],e)}}.bind(this))};a.prototype.$46=function(a,c,d){a.forEach(function(a){var e=this.$19(a);e=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(e&&d<e.length){e=e.slice();e[d]=c;this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],e)}}.bind(this))};a.prototype.$47=function(a,c,d){__p&&__p();a.forEach(function(a){__p&&__p();var e=this.$19(a),f=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(f&&f.length>0){var g=f.slice();f=f[f.length-1];var h=(c-f)/b("DateConsts").SEC_PER_DAY;f=f+Math.ceil(h/2)*b("DateConsts").SEC_PER_DAY;h=new(b("DateTime"))(f,d);h.getHours()===1?f-=b("DateConsts").SEC_PER_HOUR:h.getHours()===23&&(f+=b("DateConsts").SEC_PER_HOUR);g.push(f);this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],g);h=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);f=h.slice();f.push(h[h.length-1]);this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],f)}}.bind(this))};a.prototype.$48=function(a,c){__p&&__p();a.forEach(function(a){var d=this.$19(a),e=b("getByPath")(d,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(e&&e.length>=3){var f=e.slice();d=b("getByPath")(d,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);d=d.slice();c===e.length-1?(f.splice(c,1),d.splice(c,1)):(f.splice(c+1,1),d.splice(c+1,1));this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],f);this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],d)}}.bind(this))};a.prototype.$14=function(a,c,d){if(c){var e=b("getByPath")(b("AdsSelectedAccountGetter").get({}),b("AdsAPIAccountPaths").TIMEZONE_ID);c=b("DateTime").create(c,e).toISOString();this.$2(d,a,c)}};a.prototype.$15=function(a,c,d){this.$14(a,c,b("AdsAPICampaignPaths").START_TIME),this.$14(a,d,b("AdsAPICampaignPaths").END_TIME)};a.prototype.$16=function(a,c,d){this.$2(b("AdsAPICampaignPaths").FREQUENCY_CONTROL_SPECS,a,b("AdsFrequencyControlEditorUtils").getFrequencyControlSpecs(c,d))};a.prototype.$17=function(a,c,d,e,f,g){__p&&__p();a.forEach(function(a){__p&&__p();var f=this.$19(a);if(d){var h=b("AdsToplineUtils").allowPriceOverride(d);if(!h){h=b("getByPath")(d,b("AdsAPIToplinePaths").FUNC_PRICE);h=i.convertToBudget(c,h);var j=h*g;this.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],j)}this.$2(b("AdsAPICampaignPaths").LIFETIME_IMPS,[a],c)}else if(!e){this.$2(b("AdsAPICampaignPaths").LIFETIME_IMPS,[a],c);j=b("getByPath")(f,b("AdsAPICampaignPaths").EXTERNAL_BID);j&&(h=i.convertToBudget(c,j),this.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],h))}}.bind(this))};a.prototype.$18=function(a,c){this.$2(b("AdsAPICampaignPaths").LIFETIME_REACH,a,c)};a.prototype.$20=function(a,c){this.$2(b("AdsAPICampaignPaths").PACING_TYPE,a,c)};a.prototype.$23=function(a,c){a.forEach(function(a){var d=this.$19(a),e=j(d,b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,c);d=j(d,b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS,c);this.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],e);this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS,[a],d)}.bind(this)),this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PRODUCT_SET_ID,a,c),b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a),function(a){return b("AdsAdgroupSetProductSetIdDataAction").dispatch({productSetID:c,ids:a},{line:"1339",module:"AdsCampaignStoreSetters.js"})})};a.prototype.$24=function(a,c,d){d?(this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_DYNAMIC_AUDIENCE_IDS,a,c),this.$2(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS,a,[])):(this.$2(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS,a,c),this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_DYNAMIC_AUDIENCE_IDS,a,[]))};a.prototype.$33=function(a,c,d){__p&&__p();this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE.path,a,{id:c});this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE_ID,a,c);if(d){var e=d.targeting;a.forEach(function(a){var c=this.$19(a),d=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);d=b("AdsCampaignGroupCombinedStore").getCached(d);d=d.hasValue&&b("getByPath")(d.getValueEnforcing(),b("AdsAPICampaignGroupPaths").OBJECTIVE,b("AdsAPIObjectives").NONE);var f=this.$51(c),g=this.$53(c),h={};d!==b("AdsAPIObjectives").PRODUCT_CATALOG_SALES&&(h=this.$52(c));d=babelHelpers["extends"]({},e,f,h,g);this.$2(b("AdsAPICampaignPaths").TARGETING.path,[a],d);this.$2(b("AdsAPICampaignPaths").PLACEMENT,[a],f)}.bind(this))}};a.prototype.$34=function(a,c,d){this.$20(a,d),this.$2(b("AdsAPICampaignPaths").ADSET_SCHEDULE,a,c)};a.prototype.$38=function(a,c){this.$2(b("AdsAPICampaignPaths").STATUS,a,c)};a.prototype.$35=function(a,c,d){__p&&__p();b("AdsDeliveryPaths").forEach(function(e){__p&&__p();if(e===b("AdsAPICampaignPaths").PACING_TYPE)return;var f=b("getByPath")(c,e)||b("AdsEmptyValue").instance(),g=b("getBulkByPath")(d,e)||b("AdsEmptyValue").instance(),h=f instanceof b("AdsUniformValue");if(!h)return;h=g instanceof b("AdsMixedValue");if(!h&&e!==b("AdsAPICampaignPaths").BID_AMOUNT&&b("areEqual")(g.getValue(),f.getValue()))return;h=f.getValue();h===void 0&&(h=null);this.$2(e,a,h)}.bind(this));var e=b("AdsAPICampaignPaths").PACING_TYPE,f=b("getByPath")(c,e)||b("AdsEmptyValue").instance();if(f instanceof b("AdsUniformValue")){var g=f.getValue();g===void 0&&(g=null);this.$2(e,a,g)}else if(f instanceof b("AdsMixedValue")){var h=f.getValues();a.forEach(function(a,b){this.$20([a],h[b])}.bind(this))}};a.prototype.$37=function(a,c,d){this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE.path,a,null),this.$2(b("AdsAPICampaignPaths").SAVED_AUDIENCE_ID,a,null),a.forEach(function(a){var e=this.$19(a),f=this.$51(e),g=this.$53(e),h=b("AdsBulkValueUtils").getFieldPaths(d),i=b("getByPath")(e,b("AdsAPICampaignPaths").TARGETING.path);h.forEach(function(a){var d=b("getByPath")(i,a);b("setByPath")(c,a,d)});h=babelHelpers["extends"]({},this.$56(c),f,g);this.$2(b("AdsAPICampaignPaths").TARGETING.path,[a],h);this.$57(a,e,c);this.$58(a,e,c)}.bind(this))};a.prototype.$58=function(a,c,d){__p&&__p();var e=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);e=b("AdsCampaignGroupCombinedStore").getCached(e);if(!e.hasValue())return;var f=e.getValueEnforcing(),g=b("getByPath")(f,b("AdsAPICampaignGroupPaths").OBJECTIVE);if(g===b("AdsAPIObjectives").STORE_VISITS){var h=b("getByPath")(f,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID);e=b("getByPath")(d,[b("AdsAPITargetFields").PLACE_PAGE_SET_IDS]);d=b("getByPath")(d,[b("AdsAPITargetFields").GEO_LOCATIONS]);b("promiseDone")(b("AdsMeasurableLocationUtils").isCountryAndPageEligibleForStoreVisitsOptimization(h,e,d),function(d){if(!d){d=[a];var e=b("AdsSelectedAccountGetter").get({});e=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(c,b("getByPath")(f,b("AdsAPICampaignGroupPaths").BUYING_TYPE),e.capabilities,g,void 0,void 0,h);b("AdsCampaignResetOptimizationGoalToReachDataAction").dispatch({ids:d},{line:"1596",module:"AdsCampaignStoreSetters.js"});b("AdsCampaignPlacementSetFromAPISpecDataAction").dispatch({ids:d,placementAPISpec:b("AdsPlacementUtils").refreshPlacements(e,b("AdsAPIOptimizationGoals").REACH)},{line:"1599",module:"AdsCampaignStoreSetters.js"})}})}};a.prototype.$36=function(a,c){a.forEach(function(a,d){var e={};Object.keys(c).forEach(function(a){var f=b("nullthrows")(c[a]);e[a]=f instanceof b("AdsUniformValue")?f.getValue():f.getValues()[d]});this.$37([a],e,{})}.bind(this))};a.prototype.$57=function(a,c,d){var e=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);e=b("AdsCampaignGroupCombinedStore").getCached(e).getValue();e=b("getByPath")(e,b("AdsAPICampaignGroupPaths").OBJECTIVE);if(e===b("AdsAPIObjectives").STORE_VISITS){e=b("getByPath")(c,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID);c=b("getByPath")(d,[b("AdsAPITargetFields").PLACE_PAGE_SET_IDS]);c&&c[0]&&c[0]!==e&&this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID,[a],c[0])}};a.prototype.$42=function(a,c,d){a.forEach(function(a){var e=[];if(c){var f=d?d.get(a):null;e=b("getByPath")(f,b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,[])}this.$2(b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,[a],e)}.bind(this))};a.prototype.$21=function(a){__p&&__p();a.forEach(function(a){__p&&__p();var c=this.$19(a),d=b("AdsSelectedAccountGetter").get({});c=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);c=b("AdsCampaignGroupCombinedStore").getCached(c).getValue();c=c?b("AdsCampaignCreation").getDefaultPricing(c,d):null;if(!c)return;this.$2(b("AdsAPICampaignPaths").BILLING_EVENT,[a],c.billing_event);this.$2(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,[a],c.optimization_goal);this.$2(b("AdsAPICampaignPaths").IS_AUTOBID,[a],c.is_autobid);this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,[a],c.bid_amount)}.bind(this))};a.prototype.$28=function(a,c){a.forEach(function(a){var d=this.$19(a);d=b("getByPath")(d,b("AdsAPICampaignPaths").PACING_TYPE);var e=!1;this.$20([a],b("DayPartingUtils").setPacingType(Array.isArray(d)?d.slice():[],c,e))}.bind(this))};a.prototype.$25=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path,a,c)};a.prototype.$30=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID,a,c)};a.prototype.$31=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID,a,c)};a.prototype.$32=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_EVENT_TYPE,a,c)};a.prototype.$29=function(a,c){b("AdsWebsiteOptimizationUtil").getPixelOptimizationFields().forEach(function(d){return this.$2([].concat(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path,[d]),a,c[d])}.bind(this))};a.prototype.$26=function(a){var c=b("AdsSelectedAccountGetter").get({}),d=b("getByPath")(c,b("AdsAPIAccountPaths").CURRENCY),e=b("getByPath")(c,b("AdsAPIAccountPaths").TIMEZONE_OFFSET_HOURS_UTC),f=b("AdsCampaignUtils").getDefaultStartDate(),g=new Date(f);g.setDate(f.getDate()+7);var h=b("AdsCampaignUtils").getDefaultLifetimeBudget(d,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").SPONSORED_MESSAGES}),null,null,null,null);a.forEach(function(a){this.$2(b("AdsAPICampaignPaths").DAILY_BUDGET,[a],0),this.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],h),this.$2(b("AdsAPICampaignPaths").START_TIME,[a],b("AdsCampaignUtils").getISODateTimeString(f,e)),this.$2(b("AdsAPICampaignPaths").END_TIME,[a],b("AdsCampaignUtils").getISODateTimeString(g,e))}.bind(this))};a.prototype.$27=function(a){var c=b("AdsSelectedAccountGetter").get({}),d=b("getByPath")(c,b("AdsAPIAccountPaths").CURRENCY);c=b("getByPath")(c,b("AdsAPIAccountPaths").BUSINESS_COUNTRY_CODE);this.$2(b("AdsAPICampaignPaths").IS_AUTOBID,a,!1);this.$2(b("AdsAPICampaignPaths").BILLING_EVENT,a,b("AdsAPIBillingEvents").IMPRESSIONS);this.$2(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,a,b("AdsAPIOptimizationGoals").IMPRESSIONS);this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,a,b("AdsMessengerBidAmountUtils").getDefaultBidAmount(d,c))};a.prototype.$22=function(a){return a.some(function(a){return a.startsWith(b("AdsCFNewCampaignFBID"))||Object.keys(b("AdsCFCampaignCreationMode")).some(function(c){return a.startsWith(c+"_"+b("AdsCFNewCampaignFBID"))})})};a.prototype.$40=function(a,c){if(this.$22(a))return;this.$2(b("AdsAPICampaignPaths").RF_PREDICTION_ID,a,c)};a.prototype.$56=function(a){a=babelHelpers["extends"]({},a);Object.values(b("AdsAPITargetFields")).forEach(function(c){b("isEmpty")(a[c])&&delete a[c]});return a};a.prototype.$51=function(a){a=b("whitelistObjectKeys")(b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.path),b("AdsPlacementTargetingFields"));return a};a.prototype.$53=function(a){a=b("whitelistObjectKeys")(b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.path),[b("AdsAPITargetFields").IS_WHATSAPP_DESTINATION_AD]);return a};a.prototype.$52=function(a){return b("whitelistObjectKeys")(b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.path),[b("AdsAPITargetFields").PRODUCT_AUDIENCE_SPECS,b("AdsAPITargetFields").EXCLUDED_PRODUCT_AUDIENCE_SPECS])};a.prototype.$41=function(a,c){if(this.$22(a))return;b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a),function(a){b("AdsUEditorAdgroupSetInstagramAccountDataAction").dispatch({hostID:b("AdsUEditorHostIDs").EDITING,adgroupIDs:a,instagramAccountID:c},{line:"1955",module:"AdsCampaignStoreSetters.js"})})};a.prototype.$39=function(a){if(this.$22(a))return;this.$55(b("AdsAPICampaignPaths").RF_PREDICTION_ID,a)};e.exports=a}),null);
__d("AdsBootloadedValidationStore",["AdsBootloadedStore","AdsErrorUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsBootloadedStore"));g&&g.prototype;a.prototype.getErrorSpec=function(a){return this.onLoadedStore(function(b){return b.getErrorSpec(a)},b("AdsErrorUtils").getErrorSpec([]))};a.prototype.indexErrorsByPath=function(a){return this.onLoadedStore(function(b){return b.indexErrorsByPath(a)},b("AdsErrorUtils").indexErrorsByPath([]))};a.prototype.getErrors=function(a){return this.onLoadedStore(function(b){return b.getErrors(a)},[])};a.prototype.getErrorsUnconditionally=function(a){return this.onLoadedStore(function(b){return b.getErrorsUnconditionally(a)},[])};a.prototype.getAllErrors=function(a){return this.onLoadedStore(function(b){return b.getAllErrors(a)},[])};a.prototype.getCombinedErrorsFor=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrorsFor(a)},b("immutable").Map())};a.prototype.getCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrors(a)},[])};a.prototype.getAllCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getAllCombinedErrors(a)},b("immutable").Map())};a.prototype.getAllClientErrors=function(a){return this.onLoadedStore(function(b){return b.getAllClientErrors(a)},b("immutable").Map())};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsAdgroupValidationStore").__setRef("AdsAdgroupValidationBootloadedStore"));b("requireWeak")("AdsAdgroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsAdgroupBulkStore",["AdsAdgroupCombinedStore","AdsAdgroupDerivedPaths","AdsAdgroupDerivedSchema","AdsAdgroupDerivedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupEditorStore","AdsAdgroupOriginalStore","AdsAdgroupSchema","AdsAdgroupSpecUtils","AdsAdgroupUnsupportedReasonStore","AdsAdgroupValidationBootloadedStore","AdsAssetFeedUtils","AdsBulkValueUtils","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupCombinedStore","AdsChildAttachmentSchema","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCreativeEditorTypeUtils","AdsDataAtom","AdsDestinationEditorTypeUtils","AdsEditorSelectedIDsSelector","AdsInterfacesBaseBulkStore","AdsLinkPostFormat","AdsLoadState_LEGACY","AdsPageStore","AdsPageUtils","AdsPlaceDataUtils","AdsSelectedAccountGetter","FBLogger","adsCreateStoreSelector","adsReachFrequencyAuctionEntrySelector","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("AdsInterfacesBaseBulkStore"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.getChildAttachments=b("adsCreateStoreSelector")([this],function(){return this.get("childAttachments").bulkSpec}.bind(this),e.id),c}a.prototype.getCachedPageID=function(){return this.get("cachedPageID").bulkSpec};a.prototype.getCreativeEditorTypes=function(){return this.get("creativeEditorType").bulkSpec};a.prototype.getCreativeEditorAssetFeedTypes=function(){return this.get("creativeEditorAssetFeedType").bulkSpec};a.prototype.getDestinationEditorTypes=function(){return this.get("destinationEditorType").bulkSpec};a.prototype.getLinkPostFormat=function(){return this.get("linkPostFormat").bulkSpec};a.prototype.getPlaceDataPosition=function(){return this.get("placeDataPosition").bulkSpec};a.prototype.getPageID=function(){return this.get("pageID").bulkSpec};a.prototype.__getIDs=function(){return b("AdsEditorSelectedIDsSelector")("adgroup")};a.prototype.__getBasicDataStore=function(){return b("AdsAdgroupCombinedStore")};a.prototype.__getBasicSchema=function(){return b("AdsAdgroupSchema")};a.prototype.__getCustomConfigs=function(){__p&&__p();return{cachedPageID:{getOne:function(a){return b("AdsAdgroupEditorStore").getCachedPageID(a)},aggregate:b("AdsBulkValueUtils").createAggregator()},childAttachments:{getOne:function(a){return this.$AdsAdgroupBulkStore1(a)}.bind(this),filter:function(a){return Array.isArray(a)&&a.length>0},aggregate:this.$AdsAdgroupBulkStore2.bind(this)},creativeEditorType:{getOne:function(a){return this.$AdsAdgroupBulkStore3(a)}.bind(this),filter:function(a){return!!a},aggregate:this.$AdsAdgroupBulkStore4.bind(this)},creativeEditorAssetFeedType:{getOne:function(a){return this.$AdsAdgroupBulkStore5(a)}.bind(this),filter:function(a){return!!a},aggregate:this.$AdsAdgroupBulkStore4.bind(this)},destinationEditorType:{getOne:function(a){return this.$AdsAdgroupBulkStore6(a)}.bind(this),filter:function(a){return!!a},aggregate:this.$AdsAdgroupBulkStore4.bind(this)},linkPostFormat:{getOne:function(a){return this.$AdsAdgroupBulkStore7(a)}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},placeDataPosition:{getOne:function(a){return this.$AdsAdgroupBulkStore8(a)}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},pageID:{getOne:function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").get(a).getValue();return a?b("AdsPageUtils").getPageID(a):null},aggregate:b("AdsBulkValueUtils").createAggregator()}}};a.prototype.__getCustomStores=function(){return[b("AdsAdgroupEditorStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupCombinedStore"),b("AdsCampaignCombinedStore")].concat(b("adsReachFrequencyAuctionEntrySelector").getStores(),b("AdsSelectedAccountGetter").getStores(),[b("AdsPageStore")]).filter(Boolean)};a.prototype.__getDerivedSchema=function(){return b("AdsAdgroupDerivedSchema")};a.prototype.__getDerivedStore=function(){return b("AdsAdgroupDerivedStore")};a.prototype.__getEditStatusStore=function(){return b("AdsAdgroupDraftFragmentStore")};a.prototype.__getOriginalStore=function(){return b("AdsAdgroupOriginalStore")};a.prototype.__getUnsupportedReasonStore=function(){return b("AdsAdgroupUnsupportedReasonStore")};a.prototype.__getValidationStore=function(){return b("AdsAdgroupValidationBootloadedStore")};a.prototype.$AdsAdgroupBulkStore3=function(a){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);var c=b("AdsAdgroupCombinedStore").get(a).getValue(),d=b("AdsAdgroupDerivedStore").get(a).getValue();if(!c||!d)return null;var e=c.adset_id;if(!e)return null;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsCampaignCombinedStore").getDispatchToken()]);e=b("AdsCampaignCombinedStore").get(e).getValue();var f=b("AdsSelectedAccountGetter").get({});if(!e||f.loadState!==b("AdsLoadState_LEGACY").LOADED)return null;f=b("AdsAdgroupEditorStore").getCachedPageID(a);return b("AdsCreativeEditorTypeUtils").fromAdgroupSpec(c,d,e,f)};a.prototype.$AdsAdgroupBulkStore5=function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").get(a).getValue();return b("AdsAssetFeedUtils").getAssetFeedEditorTypefromAdgroupSpec(a)};a.prototype.$AdsAdgroupBulkStore1=function(a){a=this.$AdsAdgroupBulkStore9(a);var c=a.adgroup,d=a.isLoading;a=a.objective;if(d||!a||!c)return null;d=b("AdsChildAttachmentsUtils").getChildAttachmentsPathFromSpec(c);return!d?null:b("getByPath")(c,d)};a.prototype.$AdsAdgroupBulkStore2=function(a,c){__p&&__p();if(a.length===0)return null;var d=a[0].length;if(!a.every(function(a){return a.length===d}))return null;var e=[];c=function(c){var d=b("AdsBulkValueUtils").aggregateDeep(b("AdsChildAttachmentSchema"),a.map(function(a){return a[c]}));e.push(d)};for(var f=0;f<d;f++)c(f);return e};a.prototype.$AdsAdgroupBulkStore7=function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").get(a).getValue();if(!a)return b("AdsLinkPostFormat").SINGLE;return b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)?b("AdsLinkPostFormat").COLLECTIONS:b("AdsAdgroupSpecUtils").isCarouselAd(a)?b("AdsLinkPostFormat").MULTIPLE:b("AdsLinkPostFormat").SINGLE};a.prototype.$AdsAdgroupBulkStore8=function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").getRecord(a);var c=a.getValue();return a.isLoading()||!c?-1:b("AdsPlaceDataUtils").getPlaceDataPosition(c)};a.prototype.$AdsAdgroupBulkStore9=function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);var c=b("AdsAdgroupCombinedStore").get(a).getValue();a=b("AdsAdgroupDerivedStore").get(a).getValue();return!c||!a?{isLoading:!0}:{adgroup:c,isLoading:!1,objective:b("getByPath")(a,b("AdsAdgroupDerivedPaths").OBJECTIVE)}};a.prototype.$AdsAdgroupBulkStore6=function(a){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);var c=b("AdsAdgroupCombinedStore").get(a).getValue();a=b("AdsAdgroupDerivedStore").get(a).getValue();if(!c||!a)return null;var d=c.adset_id,e=c.campaign_id;if(!d||!e)return null;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsCampaignCombinedStore").getDispatchToken()]);var f=b("AdsCampaignCombinedStore").get(d).getValue();e=b("AdsCampaignGroupCombinedStore").get(e).getValue();var g=b("AdsSelectedAccountGetter").get({});if(g.loadState!==b("AdsLoadState_LEGACY").LOADED||!f||!e)return null;var h=b("adsReachFrequencyAuctionEntrySelector")(d);h=h.isAuctionEntry;return b("AdsDestinationEditorTypeUtils").fromAdgroupSpec(c,a,f,e,g,{isNewCampaign:b("AdsCampaignDraftFragmentStore").isNew(d),isRFAuctionEntry:h})};a.prototype.$AdsAdgroupBulkStore4=function(a,c){__p&&__p();if(a.length!==c.length){b("FBLogger")("ads").mustfix("Invalid data");return b("immutable").Map()}return b("immutable").Map().withMutations(function(b){a.forEach(function(a,d){if(!a)return;var e=c[d];b.update(a,[],function(a){return a.concat(e)})})})};e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupLiveListStore",["AdObjectLevels","AdsAdgroupListBatchLoadedDataActionFlux","AdsAdgroupListBatchLoadErrorDataActionFlux","AdsAdgroupListLoadedDataActionFlux","AdsAdgroupListLoadErrorDataActionFlux","AdsAdgroupListPartialLoadDataActionFlux","AdsAdgroupLiveListDataManager","AdsAPIAdCampaignFields","AdsBaseListStore","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftUtils","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsAdgroupLiveListDataManager").AdsAdgroupLiveListDataManager;g=babelHelpers.inherits(a,b("AdsBaseListStore"));g&&g.prototype;a.prototype.getDataManager=function(){return h};a.prototype.getForCampaigns=function(a,b){var c=this.__updateLoadingFor(b);c.length>0&&h.loadForCampaigns(a,c);var d=new Map();b.forEach(function(a){d.set(a,this.getCachedFor(a))}.bind(this));return d};a.prototype.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};a.prototype.getForCampaignGroups=function(a,b){var c=this.__updateLoadingFor(b);c.length>0&&h.loadForCampaignGroups(a,b);var d=new Map();b.forEach(function(a){d.set(a,this.getCachedFor(a))}.bind(this));return d};a.prototype.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};a.prototype.getForAccount=function(a){var b=this.__updateLoadingFor([a]);b.length===1&&h.loadForAccount(a);return this.getCachedFor(a)};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;if(!b("AdsDraftUtils").isApplicationIDPowerEditor(a.adsApplicationID))return;switch(a.actionType){case b("AdsAdgroupListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,a,b("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case b("AdsAdgroupListBatchLoadErrorDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,null,b("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case b("AdsAdgroupListLoadedDataActionFlux").actionType:this.__handleDataFor(a.id,a.adgroups,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsAdgroupListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.id,a.adgroups,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsAdgroupListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.campaignID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsAdgroupLiveListStore1(a.childMap.adgroup);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsAdgroupLiveListStore2(a.publishedObjectIDs);break;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:var c=b("AdsDraftUtils").getIDsToInvalidateAfterPublish(a);this.$AdsAdgroupLiveListStore2(c);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsAdgroupLiveListStore3(a.data.publishedObjectIDs);break}};a.prototype.getSortKey=function(){return b("AdsAPIAdCampaignFields").NAME};a.prototype.compare=function(a,c){return b("naturalComparator")(a,c)};a.prototype.$AdsAdgroupLiveListStore2=function(a){if(!a)this.__invalidateEntireCache()&&this.__emitChange();else{a=a.map(function(a){return this.__invalidate(a)}.bind(this));a.some(function(a){return a})&&this.__emitChange()}};a.prototype.$AdsAdgroupLiveListStore1=function(a){a.forEach(function(a,c){this.__handleDataFor(c,a,b("AdsLoadState_LEGACY").LOADED)}.bind(this))};a.prototype.$AdsAdgroupLiveListStore3=function(a){a[b("AdObjectLevels").CAMPAIGN].forEach(function(a){return this.__invalidate(a)}.bind(this)),a[b("AdObjectLevels").CAMPAIGN_GROUP].forEach(function(a){return this.__invalidate(a)}.bind(this))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsBaseCombinedListStore",["AdsBaseListStore","AdsDataAtom","FluxDerivedStore","abstractMethod","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;a.prototype.$AdsBaseCombinedListStore1=function(a){a=g.getAll.call(this,a);var b=new Map();a.forEach(function(a,c){c=this.$AdsBaseCombinedListStore2(c);c=c.parentID;b.set(c,a)}.bind(this));return b};a.prototype.getLoadingList=function(){return b("AdsBaseListStore").getLoadingList()};a.prototype.__getAllCached=function(a){return b("abstractMethod")("__getAllCached","AdsBaseCombinedListStore")};a.prototype.__getLiveList=function(a,c,d){return b("abstractMethod")("__getLiveList","AdsBaseCombinedListStore")};a.prototype.__getAllDraftIDsForAccount=function(a){return b("abstractMethod")("__getAllDraftIDsForAccount","AdsBaseCombinedListStore")};a.prototype.__getParentIDForDraftChild=function(a,c){return b("abstractMethod")("__getParentIDForDraftChild","AdsBaseCombinedListStore")};a.prototype.__startLoadingDataFor=function(a,b,c){};a.prototype.__getFor=function(a,b,c){return this.get(this.$AdsBaseCombinedListStore3(a,b,c))};a.prototype.__getForAll=function(a,b,c){var d=c.map(function(c){return this.$AdsBaseCombinedListStore3(a,b,c)}.bind(this));this.__startLoadingDataFor(a,b,c);return this.$AdsBaseCombinedListStore1(d)};a.prototype.__computeResult=function(a,b){return b};a.prototype.__getData=function(a){__p&&__p();a=this.$AdsBaseCombinedListStore2(a);var b=a.accountID,c=a.parentType,d=a.parentID;a=this.__getAllDraftIDsForAccount(b);b=this.__getLiveList(b,c,d);a=a.filter(function(a){return this.__getParentIDForDraftChild(a,c)===d}.bind(this));if(a.size===0)return b;else{var e=b.loadState;a=a.toArray().concat(b.list);return{loadState:e,list:a}}};a.prototype.__areEqual=function(a,c){return a.loadState===c.loadState&&b("shallowArrayEqual")(a.list,c.list)};a.prototype.$AdsBaseCombinedListStore3=function(a,b,c){return[a,b,c].join(":")};a.prototype.$AdsBaseCombinedListStore2=function(a){a=a.split(":");var b=a[0],c=a[1];a=a[2];c=c;return{accountID:b,parentType:c,parentID:a}};function a(){g.constructor.call(this,b("AdsDataAtom"))}a.__moduleID=e.id;e.exports=a}),null);
__d("AdsAdgroupCombinedListStore",["invariant","AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupLiveListStore","AdsBaseCombinedListStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};c=babelHelpers.inherits(a,b("AdsBaseCombinedListStore"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.getForCampaignsSelector=b("adsCreateStoreThunkSelector")(this,function(a){var b=a[0];a=a[1];return this.getForCampaigns(b,a)}.bind(this)),this.getAdgroupIDsSelector=b("adsCreateStoreThunkSelector")(this,function(a,c){var d=[];a=h.__getForAll.call(this,a,"campaign",[c]);Array.from(a.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&d.push.apply(d,a.list)});return d}.bind(this)),this.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(this,this.getForCampaignGroups.bind(this)),this.getCampaignIDForDraftAdgroupSelector=b("adsCreateStoreThunkSelector")(this,function(a){return this.__getParentIDForDraftChild(a,"campaign")}.bind(this)),c}a.prototype.getForCampaigns=function(a,b){return h.__getForAll.call(this,a,"campaign",b)};a.prototype.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};a.prototype.getForCampaignGroups=function(a,b){return h.__getForAll.call(this,a,"campaignGroup",b)};a.prototype.getForAccount=function(a){return h.__getFor.call(this,a,"account",a)};a.prototype.__getAllDraftIDsForAccount=function(a){return b("AdsAdgroupDraftFragmentStore").getNewIDsFor(a)};a.prototype.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsAdgroupLiveListStore").getForAccount(a);case"campaign":c=d;return b("AdsCampaignDraftFragmentStore").isNew(c)?i:b("AdsAdgroupLiveListStore").getForCampaign(a,c);case"campaignGroup":c=d;return b("AdsCampaignGroupDraftFragmentStore").isNew(c)?i:b("AdsAdgroupLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};a.prototype.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaign":return a.adset_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};a.prototype.__startLoadingDataFor=function(a,c,d){__p&&__p();if(c==="campaign"){var e=d.filter(function(a){return!b("AdsCampaignDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaigns(a,e)}else if(c==="campaignGroup"){e=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaignGroups(a,e)}};a.prototype.__getStores=function(){return[b("AdsAdgroupCombinedStore"),b("AdsAdgroupDraftFragmentStore"),b("AdsAdgroupLiveListStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore")]};e.exports=new a()}),null);
__d("AdsPEUploadStoreLazy",["AdsApplicationUtils","expectationViolation","ifRequired"],(function(a,b,c,d,e,f){"use strict";var g;b("ifRequired")("AdsPEUploadStore",function(a){return g=a},function(){});e.exports=g}),null);
__d("AdsPagesManagerConfigStore",["AdsBaseDataStore","AdsLoadState_LEGACY","AdsPagesManagerConfigBatchErrorDataActionFlux","AdsPagesManagerConfigBatchLoadedDataActionFlux","AdsPagesManagerConfigDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsPagesManagerConfigDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsPagesManagerConfigBatchErrorDataActionFlux").actionType,b("AdsPagesManagerConfigBatchLoadedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsPagesManagerConfigBatchLoadedDataActionFlux").actionType:this.__handleData(a.responses,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPagesManagerConfigBatchErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPageMessagingStatusStore",["AdsDataAtom","AdsLoadState_LEGACY","AdsPageMessagingStatusMessageEnabledStatusDataAction","AdsPageMessagingStatusMessageEnabledStatusDataActionFlux","AdsPagesManagerConfigStore","FluxStore","LoadObject","messagePageCTAUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$AdsPageMessagingStatusStoreClass1=new Map()}a.prototype.get=function(a,c){if(c.loadState===b("AdsLoadState_LEGACY").LOADING)return b("LoadObject").loading();var d=this.$AdsPageMessagingStatusStoreClass1.get(a)||b("LoadObject").empty();d.isEmpty()&&c.loadState===b("AdsLoadState_LEGACY").LOADED&&(this.$AdsPageMessagingStatusStoreClass2(a,c.page_access_token),this.$AdsPageMessagingStatusStoreClass1.set(a,b("LoadObject").loading()));return d};a.prototype.__onDispatch=function(a){a=a.action;switch(a.actionType){case b("AdsPageMessagingStatusMessageEnabledStatusDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsPagesManagerConfigStore").getDispatchToken()]);var c=a.pageID,d=b("AdsPagesManagerConfigStore").get(c);d=this.get(c,d);this.$AdsPageMessagingStatusStoreClass1.set(c,d.setValue(a.canReceiveMessage).done());this.__emitChange();break}};a.prototype.$AdsPageMessagingStatusStoreClass2=function(a,c){b("promiseDone")(b("messagePageCTAUtils").isMessagingEnabled(a,c),function(c){b("AdsPageMessagingStatusMessageEnabledStatusDataAction").dispatch({pageID:a,canReceiveMessage:c},{line:"69",module:"AdsPageMessagingStatusStore.js"})},function(){b("AdsPageMessagingStatusMessageEnabledStatusDataAction").dispatch({pageID:a,canReceiveMessage:!1},{line:"75",module:"AdsPageMessagingStatusStore.js"})})};a.__moduleID=e.id;d=new a(b("AdsDataAtom"));e.exports=d}),null);
__d("AdsAdgroupDerivedStore",["AdsAccountStore","AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupSlowStore","AdsAPIAdgroupFields","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsCampaignGroupCombinedStore","AdsDataAtom","AdsDeliveryGrowthQEUtils","AdsDeliveryUtils","AdsLoadObjectUtils","AdsLoadState_LEGACY","AdsObjectTypes","AdsPageMessagingStatusStore","AdsPEUploadStoreLazy","AdsPromotedObjectTypeStore","FluxDerivedStore","adsDeliveryColumnTurnOnPixelOnAdgroupQESelector","getByPath","immutable","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;a.prototype.__computeResult=function(a,c){__p&&__p();var d=c.account;a=c.adgroupLoadObject;var e=c.campaignGroupLoadObject,f=c.isNewAdgroup,g=c.slowAdgroup;return b("AdsLoadObjectUtils").all([a,e]).map(function(a){var c=a[0];a=a[1];var e=a.objective;a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID);var h=b("AdsPromotedObjectTypeStore").get(c.adset_id),i=g&&g[b("AdsAPIAdgroupFields").OPTIMAL_DELIVERY_GROWTH_OPPORTUNITIES],j=g&&g[b("AdsAPIAdgroupFields").EFFECTIVE_STATUS];return{activityStatus:this.$AdsAdgroupDerivedStore1(g,d,f,j),id:c.id,l3PromotedPageID:a,objective:e,optimalDeliveryGrowthOpportunities:i,promotedObjectType:h}}.bind(this))};a.prototype.__getData=function(a){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);var c=b("AdsAdgroupCombinedStore").get(a),d=c.map(function(a){return b("AdsCampaignGroupCombinedStore").get(a[b("AdsAPICampaignPaths").CAMPAIGN_ID])}),e=b("AdsAccountStore").getSelectedAccount_LEGACY(),f=b("AdsAdgroupDraftFragmentStore").isNew(a);a=!b("AdsAdgroupDraftFragmentStore").get(a).isLoading()&&!f?b("AdsAdgroupSlowStore").get(a):null;var g=b("immutable").Set(),h=b("immutable").Set();b("AdsPEUploadStoreLazy")&&(g=b("AdsPEUploadStoreLazy").getPublishingIDs(),h=b("AdsPEUploadStoreLazy").getLockedIDs());return{account:e,adgroupLoadObject:c,campaignGroupLoadObject:d,isNewAdgroup:f,lockedIDs:h,publishingIDs:g,slowAdgroup:a}};a.prototype.__getStores=function(){var a=[b("AdsAccountStore"),b("AdsAdgroupDraftFragmentStore"),b("AdsCampaignGroupCombinedStore"),b("AdsPageMessagingStatusStore"),b("AdsPromotedObjectTypeStore"),b("AdsAdgroupSlowStore"),b("AdsAdgroupCombinedStore")].concat(b("adsDeliveryColumnTurnOnPixelOnAdgroupQESelector").getStores());b("AdsPEUploadStoreLazy")&&a.push(b("AdsPEUploadStoreLazy"));return a.filter(Boolean)};a.prototype.__areEqual=function(a,c){return b("shallowEqual")(a,c)};a.prototype.$AdsAdgroupDerivedStore1=function(a,c,d,e){d=d?b("AdsDeliveryUtils").DRAFT_DELIVERY_INFO:a&&a.delivery_info;if(!d||!c||c.loadState!==b("AdsLoadState_LEGACY").LOADED)return null;var f=a&&a.recommendations,g=b("AdsDeliveryGrowthQEUtils").getInTurnOnPixelOnAdgroupTestGroup(b("adsDeliveryColumnTurnOnPixelOnAdgroupQESelector")(),!1)&&a&&a[b("AdsAPIAdgroupFields").OPTIMAL_DELIVERY_GROWTH_OPPORTUNITIES]?a[b("AdsAPIAdgroupFields").OPTIMAL_DELIVERY_GROWTH_OPPORTUNITIES]:null;return b("AdsDeliveryUtils").getStatusInfo(c.account_id,d,c.timezone_id,b("AdsObjectTypes").ADGROUP,f,a&&a.id,g,void 0,void 0,void 0,e)};function a(){g.constructor.call(this,b("AdsDataAtom"))}a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsAdgroupLiveStore",["AdsAdObjectLiveStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectLiveStores").AdsAdgroupLiveStore;e.exports=a}),null);
__d("AdsDraftFragmentStoreStateUtils",["AdDraftFragmentActions","AdsDraftFragmentRecord","AdsDraftUtils","AdsLoadState_LEGACY","AdsNewIDs","AdsSelectedAccountIDGetter","LoadObject","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){this.$1=a}g.prototype.value=function(){return this.$1};g.prototype.mutate=function(a){this.$1=a;return this};g.prototype.immutableUpdate=function(a){return a!==this.$1?new g(a):this};function h(){return{dirtyIDs:b("immutable").Map(),draftID:null,draftHasError:!1,fragmentAPItoLocalObjectIDMap:null,fragmentsInDraftByAccount:b("immutable").Map(),hasChangesToApply:!1,isLoading:!1,loadState:b("AdsLoadState_LEGACY").NOT_LOADED,newIDs:b("immutable").Map(),fragments:new g(b("immutable").Map()),lastSyncTime:new g(0)}}var i=b("immutable").Record(babelHelpers["extends"]({},h(),{objectType:null,liveStore:null,adsApplicationID:null}));function a(a,b,c){return i(babelHelpers["extends"]({},h(),{objectType:a,liveStore:b,adsApplicationID:c}))}var j=b("immutable").Map();function k(a){return!a||a.values.size===0}function l(a,c){if(a.draftHasError)return b("LoadObject").empty().setError(null).setValue(new(b("AdsDraftFragmentRecord"))({objectID:c,objectType:a.objectType}));var d=a.fragments.value().get(c);if(a.isLoading){d||(d=b("LoadObject").loading().setValue(new(b("AdsDraftFragmentRecord"))({objectID:c,objectType:a.objectType})),a.fragments.mutate(a.fragments.value().set(c,d)));return d}(!d||d.isLoading())&&(d=b("LoadObject").empty().setValue(new(b("AdsDraftFragmentRecord"))({accountID:b("AdsSelectedAccountIDGetter").get({}),action:b("AdDraftFragmentActions").MODIFY,fragmentID:""+b("AdsNewIDs").newNegativeID(),objectID:c,objectType:a.objectType})),a.fragments.mutate(a.fragments.value().set(c,d)));return d}function m(a,c){return b("nullthrows")(l(a,c).value)}function c(a){return a.draftID}function d(a){return a.objectType}function f(a){return a.liveStore}function n(a,c){return b("immutable").Map(c.map(function(b){return[b,l(a,b)]}))}function o(a,b){return m(a,b).parentAdObjectID}function p(a,b){a=a.fragments.value().get(b);return!!a&&!k(a.value)}function q(a,b){return m(a,b).getChangedFields()}function r(a){var b=a.fragments.value();return a.dirtyIDs.keySeq().map(function(a){return b.get(a).value}).filter(Boolean).toSet()}function s(a,b){return r(a).filter(function(a){return a.accountID===b})}function t(a,c){return a.newIDs.get(c,b("immutable").OrderedSet())}function u(a,b){return a.fragmentsInDraftByAccount.has(b)?a.fragmentsInDraftByAccount.get(b):j}function v(a){return a.hasChangesToApply}function w(a,b){return a.dirtyIDs.has(b)}function x(a,c){return m(a,c).action===b("AdDraftFragmentActions").ADD}function y(a,c){return b("AdsDraftUtils").isDeleted(m(a,c))}function z(a){return a.isLoading}function A(a){return a.loadState}function B(a,b){return m(a,b).timeCreated}function C(a,b){return a.immutableUpdate(a.value().withMutations(b))}e.exports={create:a,fragmentsMapWithMutations:C,isFragmentEmpty:k,get:l,getRaw:m,getDraftID:c,getObjectType:d,getLiveStore:f,getAll:n,getParentID:o,hasDraft:p,getChangedFields:q,getDirty:r,getDirtyFor:s,getNewIDsFor:t,getFragmentsInDraftFor:u,hasChangesToApply:v,isDirty:w,isNew:x,isDeleted:y,isLoading:z,loadState:A,getTimeCreated:B}}),null);
__d("AdsAdgroupDraftFragmentStore",["AdObjectLevels","AdsAdgroupDraftFragmentReducer","AdsAdgroupDraftFragmentsDataProvider","AdsAdgroupLiveStore","AdsApplicationIDs","AdsBaseDraftFragmentStore","gkx","AdsEditingAdgroupDataReducerUtils","AdsEditingDraftFragmentsLegacyFluxReduce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;d=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;f=b("AdsBaseDraftFragmentStore").AdsBaseInternalStateDraftFragmentStore;b("AdsEditingAdgroupDataReducerUtils");b("AdsEditingDraftFragmentsLegacyFluxReduce");f=babelHelpers.inherits(a,f);g=f&&f.prototype;function a(){g.constructor.call(this,b("AdObjectLevels").ADGROUP,b("AdsAdgroupLiveStore"),b("AdsApplicationIDs").ADS_POWER_EDITOR)}a.prototype.__onDispatch=function(a){this.__setState(b("AdsAdgroupDraftFragmentReducer")(this.__getState(),a))};a.__moduleID=e.id;f=babelHelpers.inherits(c,d);h=f&&f.prototype;function c(){h.constructor.call(this,b("AdsAdgroupDraftFragmentsDataProvider").toFluxStore())}b("gkx")("677962")?e.exports=new c():e.exports=new a()}),null);
__d("AdsBaseSlowStore",["AdsApplicationUtils","AdsBaseDataStore","AdsCachedLoadState_LEGACY","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftUtils","AdsErrorRefreshAllErrorsDataActionFlux","AdsLiveUpdateUtils","AdsLoadState_LEGACY","AdsRealtimeDataUpdatedDataActionFlux","partitionArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("AdsBaseDataStore"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$AdsBaseSlowStore1=a.dataManager,this.$AdsBaseSlowStore2=a.draftFragmentStore,this.$AdsBaseSlowStore3=a.fieldName,this.$AdsBaseSlowStore4=a.fieldName+"s",this.$AdsBaseSlowStore5=a.loadedAction,this.$AdsBaseSlowStore6=a.loadErrorAction}a.prototype.getDataManager=function(){return this.$AdsBaseSlowStore1};a.prototype.getAll=function(a){a=b("partitionArray")(a,function(a){return!b("AdsApplicationUtils").isPersistingAdObjects()||this.$AdsBaseSlowStore2.get(a).isLoading()||this.$AdsBaseSlowStore2.isNew(a)}.bind(this));var c=a[0];a=a[1];var d=g.getAll.call(this,a);c.forEach(function(a){return d.set(a,b("AdsCachedLoadState_LEGACY").NOT_LOADED)});return d};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case this.$AdsBaseSlowStore5:this.__handleData(a[this.$AdsBaseSlowStore4],b("AdsLoadState_LEGACY").LOADED);break;case this.$AdsBaseSlowStore6:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break;case b("AdsRealtimeDataUpdatedDataActionFlux").actionType:this.$AdsBaseSlowStore7(a.objects[this.$AdsBaseSlowStore3]);break;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:this.$AdsBaseSlowStore8(a);break}};a.prototype.$AdsBaseSlowStore8=function(a){this.__invalidateAll(b("AdsDraftUtils").getIDsToInvalidateAfterPublish(a)),this.__emitChange()};a.prototype.$AdsBaseSlowStore7=function(a){var c=Array.from(a.keys());c=this.getAllCached(c);c=b("AdsLiveUpdateUtils").mergeUpdatedObjects(c,a);c.size>0&&this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};e.exports=a}),null);
__d("AdsAdgroupSlowStore",["AdsAdgroupDraftFragmentStore","AdsAdgroupSlowBatchLoadedActionFlux","AdsAdgroupSlowBatchLoadErrorDataActionFlux","AdsBaseSlowStore","AdsSlowAdgroupDataManager"],(function(a,b,c,d,e,f){"use strict";a=new(b("AdsBaseSlowStore"))({dataManager:b("AdsSlowAdgroupDataManager"),draftFragmentStore:b("AdsAdgroupDraftFragmentStore"),fieldName:"adgroup",loadedAction:b("AdsAdgroupSlowBatchLoadedActionFlux").actionType,loadErrorAction:b("AdsAdgroupSlowBatchLoadErrorDataActionFlux").actionType});e.exports=a}),null);
__d("AdsAdgroupUnsupportedReasonStore",["AdsAccountStore","AdsAdgroupCombinedStore","AdsAPIAdgroupRecordUtils","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupCombinedStore","AdsDataAtom","AdsEditorUnsupportedReasonUtils","AdsLoadState_LEGACY","FluxDerivedStore","LoadObject","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;a.prototype.__computeResult=function(a,c){a=c.account;var d=c.adgroupLoadObject,e=c.campaignLoadObject;c=c.campaignGroupLoadObject;d=d.getValue();e=e.getValue();c=c.getValue();return a.loadState===b("AdsLoadState_LEGACY").LOADED&&d&&e&&c?b("AdsEditorUnsupportedReasonUtils").forAdgroup(d,e,c,a,{isNewCampaign:b("AdsCampaignDraftFragmentStore").isNew(e.id)}):null};a.prototype.__getData=function(a){__p&&__p();var c=b("AdsAccountStore").getSelectedAccount_LEGACY();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").getRecord(a);var d=a.getValue();d=d?b("AdsAPIAdgroupRecordUtils").getParentIDs(d):{campaignGroupID:null,campaignID:null};var e=d.campaignGroupID;d=d.campaignID;d=d!=null&&d!==""?b("AdsCampaignCombinedStore").getRecord(d):b("LoadObject").loading();e=e!=null&&e!==""?b("AdsCampaignGroupCombinedStore").getRecord(e):b("LoadObject").loading();return{account:c,adgroupLoadObject:a,campaignLoadObject:d,campaignGroupLoadObject:e}};a.prototype.__getStores=function(){return[b("AdsAccountStore"),b("AdsAdgroupCombinedStore"),b("AdsCampaignGroupCombinedStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignCombinedStore")].filter(Boolean)};a.prototype.__areEqual=function(a,b){return a.account===b.account&&a.adgroupLoadObject===b.adgroupLoadObject&&a.campaignLoadObject===b.campaignLoadObject&&a.campaignGroupLoadObject===b.campaignGroupLoadObject};function a(){g.constructor.call(this,b("AdsDataAtom")),this.getSelector=b("adsCreateStoreThunkSelector")(this,this.get.bind(this))}a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsBaseDraftFragmentStore",["AdsDataAtom","AdsDraftFragmentStoreStateMutators","AdsDraftFragmentStoreStateReducers","AdsDraftFragmentStoreStateUtils","FluxStore","abstractMethod","adsCreateStoreSelector","adsCreateStoreThunkSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;f=babelHelpers.inherits(a,b("FluxStore"));g=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.getHasDraftSelector=b("adsCreateStoreThunkSelector")(this,this.hasDraft.bind(this)),this.getNewIDsForSelector=b("adsCreateStoreSelector")([this],this.getNewIDsFor.bind(this),e.id),this.getIsDirtySelector=b("adsCreateStoreThunkSelector")(this,this.isDirty.bind(this)),this.getIsNewSelector=b("adsCreateStoreThunkSelector")(this,this.isNew.bind(this)),this.getIsDeletedSelector=b("adsCreateStoreThunkSelector")(this,this.isDeleted.bind(this)),c}a.prototype.__getState=function(){return b("abstractMethod")(e.id,"__getState")};a.prototype.getDraftID=function(){return b("AdsDraftFragmentStoreStateUtils").getDraftID(this.__getState())};a.prototype.getObjectType=function(){return b("AdsDraftFragmentStoreStateUtils").getObjectType(this.__getState())};a.prototype.getLiveStore=function(){return b("AdsDraftFragmentStoreStateUtils").getLiveStore(this.__getState())};a.prototype.get=function(a){return b("AdsDraftFragmentStoreStateUtils").get(this.__getState(),a)};a.prototype.getRaw=function(a){return b("AdsDraftFragmentStoreStateUtils").getRaw(this.__getState(),a)};a.prototype.getAll=function(a){return b("AdsDraftFragmentStoreStateUtils").getAll(this.__getState(),a)};a.prototype.getParentID=function(a){return b("AdsDraftFragmentStoreStateUtils").getParentID(this.__getState(),a)};a.prototype.hasDraft=function(a){return b("AdsDraftFragmentStoreStateUtils").hasDraft(this.__getState(),a)};a.prototype.getChangedFields=function(a){return b("AdsDraftFragmentStoreStateUtils").getChangedFields(this.__getState(),a)};a.prototype.getDirty=function(){return b("AdsDraftFragmentStoreStateUtils").getDirty(this.__getState())};a.prototype.getDirtyFor=function(a,c){return b("AdsDraftFragmentStoreStateUtils").getDirtyFor(this.__getState(),a)};a.prototype.getNewIDsFor=function(a){return b("AdsDraftFragmentStoreStateUtils").getNewIDsFor(this.__getState(),a)};a.prototype.getFragmentsInDraftFor=function(a){return b("AdsDraftFragmentStoreStateUtils").getFragmentsInDraftFor(this.__getState(),a)};a.prototype.hasChangesToApply=function(){return b("AdsDraftFragmentStoreStateUtils").hasChangesToApply(this.__getState())};a.prototype.isDirty=function(a){return b("AdsDraftFragmentStoreStateUtils").isDirty(this.__getState(),a)};a.prototype.isNew=function(a){return b("AdsDraftFragmentStoreStateUtils").isNew(this.__getState(),a)};a.prototype.isDeleted=function(a){return b("AdsDraftFragmentStoreStateUtils").isDeleted(this.__getState(),a)};a.prototype.isLoading=function(){return b("AdsDraftFragmentStoreStateUtils").isLoading(this.__getState())};a.prototype.loadState=function(){return b("AdsDraftFragmentStoreStateUtils").loadState(this.__getState())};a.prototype.getTimeCreated=function(a){return b("AdsDraftFragmentStoreStateUtils").getTimeCreated(this.__getState(),a)};a.__moduleID=e.id;f=babelHelpers.inherits(c,a);h=f&&f.prototype;function c(a,c,d){h.constructor.call(this,b("AdsDataAtom")),this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateUtils").create(a,c,d)}c.prototype.reduce=function(a,c){return b("AdsDraftFragmentStoreStateReducers").draftFragmentStateReducer(a,c)};c.prototype.__getState=function(){return this.$AdsBaseInternalStateDraftFragmentStore1};c.prototype.__setState=function(a){var b=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=a;b!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};c.prototype.__onDispatch=function(a){var b=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=this.reduce(this.$AdsBaseInternalStateDraftFragmentStore1,a);b!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};c.prototype.__applyChanges=function(a,c){var d=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").applyChanges(d,a,c);d!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};c.prototype.__reinitializeDraft=function(){var a=this.$AdsBaseInternalStateDraftFragmentStore1,c=b("AdsDraftFragmentStoreStateUtils").create(b("AdsDraftFragmentStoreStateUtils").getObjectType(a),b("AdsDraftFragmentStoreStateUtils").getLiveStore(a),a.adsApplicationID);this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateReducers").initDraft(c);a!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};c.prototype.__updateFragmentAPItoLocalObjectIDMap=function(a,c){var d=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").updateFragmentAPItoLocalObjectIDMap(d,a,c);d!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};c.prototype.__setHasChangesToApply=function(a){var c=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").setHasChangesToApply(c,a);c!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};f=babelHelpers.inherits(d,a);i=f&&f.prototype;function d(a){i.constructor.call(this,b("AdsDataAtom")),this.$AdsBaseExternalStateDraftFragmentStore2=null,this.$AdsBaseExternalStateDraftFragmentStore1=a}d.prototype.__getState=function(){return b("nullthrows")(this.$AdsBaseExternalStateDraftFragmentStore1.getState())};d.prototype.__onDispatch=function(a){b("AdsDataAtom").waitFor([this.$AdsBaseExternalStateDraftFragmentStore1.getDispatchToken()]);if(this.$AdsBaseExternalStateDraftFragmentStore1.hasChanged()){a=this.__getState();var c=this.$AdsBaseExternalStateDraftFragmentStore2!==a;this.$AdsBaseExternalStateDraftFragmentStore2=a;c&&this.__emitChange()}};e.exports={AdsBaseInternalStateDraftFragmentStore:c,AdsBaseExternalStateDraftFragmentStore:d}}),null);
__d("AdsCampaignLiveListStore",["AdObjectLevels","AdsAPIAdCampaignGroupFields","AdsBaseListStore","AdsCampaignListBatchLoadedActionFlux","AdsCampaignListBatchLoadErrorActionFlux","AdsCampaignLiveListDataManager","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftSetCurrentDraftSuccessDataActionFlux","AdsDraftUtils","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsBaseListStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsCampaignLiveListDataManager")};a.prototype.getForCampaignGroups=function(a,c){var d=this.__updateLoadingFor(c);d.length>0&&b("AdsCampaignLiveListDataManager").loadForCampaignGroups(a,d);var e=new Map();c.forEach(function(a){e.set(a,this.getCachedFor(a))}.bind(this));return e};a.prototype.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};a.prototype.getForAccount=function(a){var c=this.__updateLoadingFor([a]);c.length===1&&b("AdsCampaignLiveListDataManager").loadForAccount(a);return this.getCachedFor(a)};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;if(!b("AdsDraftUtils").isApplicationIDPowerEditor(a.adsApplicationID))return;switch(a.actionType){case b("AdsCampaignListBatchLoadedActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,a,b("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case b("AdsCampaignListBatchLoadErrorActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,null,b("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsCampaignLiveListStore1(a.childMap.campaign);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsCampaignLiveListStore2(a);break;case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType:this.$AdsCampaignLiveListStore3();break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:this.$AdsCampaignLiveListStore4(a.fragments);break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsCampaignLiveListStore5(a.fragments);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsCampaignLiveListStore6(a.data.publishedObjectIDs);break}};a.prototype.getSortKey=function(){return b("AdsAPIAdCampaignGroupFields").NAME};a.prototype.compare=function(a,c){return b("naturalComparator")(a,c)};a.prototype.$AdsCampaignLiveListStore4=function(a){};a.prototype.$AdsCampaignLiveListStore5=function(a){this.__invalidateEntireCache()&&this.__emitChange()};a.prototype.$AdsCampaignLiveListStore1=function(a){a.forEach(function(a,c){this.__handleDataFor(c,a,b("AdsLoadState_LEGACY").LOADED)}.bind(this))};a.prototype.$AdsCampaignLiveListStore2=function(a){a=b("AdsDraftUtils").getIDsToInvalidateAfterPublish(a);a=a.map(function(a){return this.__invalidate(a)}.bind(this));a.some(function(a){return a})&&this.__emitChange()};a.prototype.$AdsCampaignLiveListStore3=function(){this.__invalidateEntireCache()&&this.__emitChange()};a.prototype.$AdsCampaignLiveListStore6=function(a){a[b("AdObjectLevels").CAMPAIGN_GROUP].forEach(function(a){return this.__invalidate(a)}.bind(this))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsCampaignCombinedListStore",["invariant","AdsBaseCombinedListStore","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsCampaignLiveListStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};c=babelHelpers.inherits(a,b("AdsBaseCombinedListStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(this,function(a){var b=a[0];a=a[1];return this.getForCampaignGroups(b,a)}.bind(this)),this.getCampaignIDsSelector=b("adsCreateStoreThunkSelector")(this,function(a,b){return this.getCampaignIDs(a,[b])}.bind(this)),this.getCampaignGroupIDForDraftCampaignSelector=b("adsCreateStoreThunkSelector")(this,function(a){return this.__getParentIDForDraftChild(a,"campaignGroup")}.bind(this)),c}a.prototype.getForCampaignGroups=function(a,b){return h.__getForAll.call(this,a,"campaignGroup",b)};a.prototype.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};a.prototype.getCampaignIDs=function(a,c){var d=[];a=h.__getForAll.call(this,a,"campaignGroup",c);Array.from(a.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&d.push.apply(d,a.list)});return d};a.prototype.getForAccount=function(a){return h.__getFor.call(this,a,"account",a)};a.prototype.__getAllDraftIDsForAccount=function(a){return b("AdsCampaignDraftFragmentStore").getNewIDsFor(a)};a.prototype.__getStores=function(){return[b("AdsCampaignCombinedStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore"),b("AdsCampaignLiveListStore")]};a.prototype.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsCampaignLiveListStore").getForAccount(a);case"campaignGroup":c=d;if(b("AdsCampaignGroupDraftFragmentStore").isNew(c))return i;else return b("AdsCampaignLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};a.prototype.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsCampaignCombinedStore").getDispatchToken()]);a=b("AdsCampaignCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};a.prototype.__startLoadingDataFor=function(a,c,d){if(c==="campaignGroup"){c=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsCampaignLiveListStore").getForCampaignGroups(a,c)}};e.exports=new a()}),null);
__d("AdsCampaignLiveStore",["AdsAdObjectLiveStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectLiveStores").AdsCampaignLiveStore;e.exports=a}),null);
__d("AdsCampaignDraftFragmentStore",["AdObjectLevels","AdsApplicationIDs","AdsBaseDraftFragmentStore","AdsCampaignDraftFragmentReducer","AdsCampaignDraftFragmentsDataProvider","AdsCampaignLiveStore","gkx","AdsEditingCampaignDataReducerUtils","AdsEditingDraftFragmentsLegacyFluxReduce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;d=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;f=b("AdsBaseDraftFragmentStore").AdsBaseInternalStateDraftFragmentStore;b("AdsEditingCampaignDataReducerUtils");b("AdsEditingDraftFragmentsLegacyFluxReduce");f=babelHelpers.inherits(a,f);g=f&&f.prototype;function a(){g.constructor.call(this,b("AdObjectLevels").CAMPAIGN,b("AdsCampaignLiveStore"),b("AdsApplicationIDs").ADS_POWER_EDITOR)}a.prototype.__onDispatch=function(a){this.__setState(b("AdsCampaignDraftFragmentReducer")(this.__getState(),a))};a.__moduleID=e.id;f=babelHelpers.inherits(c,d);h=f&&f.prototype;function c(){h.constructor.call(this,b("AdsCampaignDraftFragmentsDataProvider").toFluxStore())}b("gkx")("677962")?e.exports=new c():e.exports=new a()}),null);
__d("AdsCampaignGroupLiveStore",["AdsAdObjectLiveStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectLiveStores").AdsCampaignGroupLiveStore;e.exports=a}),null);
__d("AdsCampaignGroupDraftFragmentStore",["AdObjectLevels","AdsApplicationIDs","AdsBaseDraftFragmentStore","AdsCampaignGroupDraftFragmentReducer","AdsCampaignGroupDraftFragmentsDataProvider","AdsCampaignGroupLiveStore","gkx","AdsEditingDraftFragmentsLegacyFluxReduce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;d=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;f=b("AdsBaseDraftFragmentStore").AdsBaseInternalStateDraftFragmentStore;b("AdsEditingDraftFragmentsLegacyFluxReduce");f=babelHelpers.inherits(a,f);g=f&&f.prototype;function a(){g.constructor.call(this,b("AdObjectLevels").CAMPAIGN_GROUP,b("AdsCampaignGroupLiveStore"),b("AdsApplicationIDs").ADS_POWER_EDITOR)}a.prototype.__onDispatch=function(a){this.__setState(b("AdsCampaignGroupDraftFragmentReducer")(this.__getState(),a))};a.__moduleID=e.id;f=babelHelpers.inherits(c,d);h=f&&f.prototype;function c(){h.constructor.call(this,b("AdsCampaignGroupDraftFragmentsDataProvider").toFluxStore())}b("gkx")("677962")?e.exports=new c():e.exports=new a()}),null);
__d("AdsDraftFragmentStore",["AdsBaseDataStore","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchCreateErrorDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftFragmentBatchLoadedDataActionFlux","AdsDraftDraftFragmentBatchLoadErrorDataActionFlux","AdsDraftDraftFragmentBatchUpdatedDataActionFlux","AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux","AdsDraftDraftFragmentValidatedDataActionFlux","AdsDraftFragmentDataManager","AdsLoadState_LEGACY","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsDraftFragmentDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreateErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchUpdatedDataActionFlux").actionType,b("AdsDraftDraftFragmentValidatedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentStore1(a.ids);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsDraftFragmentStore2(a.draftID,a.fragmentIDs);break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchLoadedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchUpdatedDataActionFlux").actionType:this.__handleData(a.fragments,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentValidatedDataActionFlux").actionType:var c=new Map();a.fragments.forEach(function(a,b){var d=this.getCached(b);c.set(b,babelHelpers["extends"]({},d,{active_errors:a.active_errors,validation_status:a.validation_status}))}.bind(this));this.__handleData(c,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentBatchCreateErrorDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchLoadErrorDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentStore3(a.fragments);break}};a.prototype.$AdsDraftFragmentStore3=function(a){a.forEach(function(a){return this.__invalidate(a.id)}.bind(this)),this.__emitChange()};a.prototype.$AdsDraftFragmentStore1=function(a){this.__clearCache()};a.prototype.$AdsDraftFragmentStore2=function(a,b){if(!b||!b.length)this.__clearCache(),this.__emitChange();else{a=this.__invalidateAll(b);a&&this.__emitChange()}};function a(){g.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsDraftPublishStore",["AdDraftPublishStatuses","AdsAPIAdDraftFields","AdsAPIAdDraftPublishStatusFields","AdsDataAtom","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsDraftDraftPublishInProgressDataActionFlux","AdsDraftPublishDataManager","AdsDraftRealtimePublishFinalizeDataActionFlux","AdsDraftRealtimePublishStalledDataActionFlux","AdsDraftUtils","AdsPEPublishStartedActionFlux","AdsPERemoveFakePublishIDActionFlux","FluxReduceStore","LoadObject","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({active:b("LoadObject").empty(),activePublishIDs:b("immutable").Set(),requestMetadata:b("immutable").Map()}));g&&g.prototype;function i(){g.apply(this,arguments)}c=babelHelpers.inherits(a,b("FluxReduceStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=h.constructor).call.apply(a,[this].concat(f)),this.getActivePublish=b("adsCreateStoreSelector")([this],function(){return this.getState().active}.bind(this),e.id),c}a.prototype.getInitialState=function(){return new i()};a.prototype.__getActionTypes=function(){return[b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsPEPublishStartedActionFlux").actionType,b("AdsPERemoveFakePublishIDActionFlux").actionType,b("AdsDraftDraftPublishInProgressDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftRealtimePublishFinalizeDataActionFlux").actionType,b("AdsDraftRealtimePublishStalledDataActionFlux").actionType]};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;if(!b("AdsDraftUtils").isApplicationIDPowerEditor(c.adsApplicationID))return a;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return a.active.isLoading()?a.merge({activePublishIDs:a.activePublishIDs.add(c.fakePublishID)}):a.merge({active:b("LoadObject").loading(),activePublishIDs:a.activePublishIDs.add(c.fakePublishID)});case b("AdsPEPublishStartedActionFlux").actionType:return c.asyncRequestSetID?a.merge({activePublishIDs:a.activePublishIDs.remove(c.fakePublishID).add(c.asyncRequestSetID.toString()),requestMetadata:a.requestMetadata.set(c.asyncRequestSetID,{object_creation_source:c.object_creation_source,immediate:c.immediate})}):a;case b("AdsPERemoveFakePublishIDActionFlux").actionType:return a.merge({activePublishIDs:a.activePublishIDs.remove(c.fakePublishID)});case b("AdsDraftDraftPublishInProgressDataActionFlux").actionType:return a.set("active",b("LoadObject").loading().setValue(c.response));case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:var d=a.activePublishIDs;c.response.async_request_set_id&&(d=a.activePublishIDs.remove(c.response.async_request_set_id.toString()));return a.merge({active:d.isEmpty()?b("LoadObject").withValue(c.response):b("LoadObject").loading().setValue(c.response),activePublishIDs:d});case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return a.merge({active:b("LoadObject").withError(c.error)});case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:return this.$AdsDraftPublishStore1(a,c.draft);case b("AdsDraftRealtimePublishFinalizeDataActionFlux").actionType:a.active.isLoading()&&b("AdsDraftPublishDataManager").handlePublishCompleted(c.draftID,!1,c.ancestorIDs);return a;case b("AdsDraftRealtimePublishStalledDataActionFlux").actionType:b("AdsDraftPublishDataManager").fetchAndDispatchPublishStatus(c.draftID,!0,c.ancestorIDs);return a;default:return a}};a.prototype.$AdsDraftPublishStore1=function(a,c){c=c[b("AdsAPIAdDraftFields").PUBLISH_STATUS]||{};switch(c[b("AdsAPIAdDraftPublishStatusFields").STATUS]){case b("AdDraftPublishStatuses").FAILED:case b("AdDraftPublishStatuses").SUCCEEDED:return a.set("active",b("LoadObject").withValue(c));case b("AdDraftPublishStatuses").IN_PROGRESS:return a.set("active",b("LoadObject").loading().setValue(c))}return a};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsInstantPublishUIStore_DEPRECATED",["AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsAdgroupInstantPublishNameFieldActionFlux","AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux","AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishBidFieldActionFlux","AdsCampaignInstantPublishBudgetFieldActionFlux","AdsCampaignInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishScheduleFieldActionFlux","AdsDataAtom","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsDraftUtils","AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux","AdsPEAdgroupLiveStatusChangeActionFlux","AdsPEBatchInstantPublishActionFlux","AdsPECampaignGroupLiveStatusChangeActionFlux","AdsPECampaignLiveStatusChangeActionFlux","AdsPEInstantDeleteActionFlux","AdsSplitTestCancelSplitTestsDataActionFlux","FluxReduceStore","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({instantPublishRequestedItemIDs:b("immutable").Set(),publishingInstantPublishRequestedItemIDs:b("immutable").Set()}));g&&g.prototype;function i(){g.apply(this,arguments)}c=babelHelpers.inherits(a,b("FluxReduceStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=h.constructor).call.apply(a,[this].concat(f)),this.getInstantPublishRequestedItemIDs=b("adsCreateStoreSelector")([this],function(){return this.getState().instantPublishRequestedItemIDs}.bind(this),e.id),this.getPublishingInstantPublishRequestedItemIDs=b("adsCreateStoreSelector")([this],function(){return this.getState().publishingInstantPublishRequestedItemIDs}.bind(this),e.id),c}a.prototype.getInitialState=function(){return new i()};a.prototype.__getActionTypes=function(){return[b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsCampaignGroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishNameFieldActionFlux").actionType,b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishBudgetFieldActionFlux").actionType,b("AdsCampaignInstantPublishBidFieldActionFlux").actionType,b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType,b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType,b("AdsPECampaignLiveStatusChangeActionFlux").actionType,b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType,b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType,b("AdsPEInstantDeleteActionFlux").actionType,b("AdsPEBatchInstantPublishActionFlux").actionType,b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType,b("AdsSplitTestCancelSplitTestsDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType]};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED1(a,c.selection);case b("AdsCampaignGroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishNameFieldActionFlux").actionType:case b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBudgetFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBidFieldActionFlux").actionType:case b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType:case b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType:case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:case b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType:case b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.ids);case b("AdsPEInstantDeleteActionFlux").actionType:case b("AdsPEBatchInstantPublishActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs.concat(c.campaignIDs).concat(c.adgroupIDs));case b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs.concat(c.campaignIDs));case b("AdsSplitTestCancelSplitTestsDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs);case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED3(a,c.response);default:return a}};a.prototype.$AdsInstantPublishUIStore_DEPRECATED2=function(a,b){return a.merge({instantPublishRequestedItemIDs:a.instantPublishRequestedItemIDs.concat(b)})};a.prototype.$AdsInstantPublishUIStore_DEPRECATED1=function(a,c){c=c?c.flatten().toSet():b("immutable").Set();c=c.intersect(a.instantPublishRequestedItemIDs).concat(a.publishingInstantPublishRequestedItemIDs);var d=a.instantPublishRequestedItemIDs.subtract(c);return a.merge({instantPublishRequestedItemIDs:d,publishingInstantPublishRequestedItemIDs:c})};a.prototype.$AdsInstantPublishUIStore_DEPRECATED3=function(a,c){if(!c)return a;c=b("AdsDraftUtils").getAdObjectIDsFromPublishResponse(c);return a.set("publishingInstantPublishRequestedItemIDs",a.publishingInstantPublishRequestedItemIDs.subtract(c))};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsDraftPublishUIStore",["AdAsyncRequestStatus","AdsAccountStore","AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsAdgroupInstantPublishNameFieldActionFlux","AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux","AdsAPIAdDraftFragmentPublishStatusFields","AdsAPIAdDraftPublishStatusFields","AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishBidFieldActionFlux","AdsCampaignInstantPublishBudgetFieldActionFlux","AdsCampaignInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishScheduleFieldActionFlux","AdsDataAtom","AdsDraftAppendPublishErrorDataActionFlux","AdsDraftAppendPublishSuccessDataActionFlux","AdsDraftClearRecentlyPublishedDataAction","AdsDraftClearRecentlyPublishedDataActionFlux","AdsDraftDraftHidePublishDetailsDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsDraftDraftPublishInitProgressDataAction","AdsDraftDraftPublishInitProgressDataActionFlux","AdsDraftDraftPublishInProgressDataActionFlux","AdsDraftDraftShowPublishDetailsDataActionFlux","AdsDraftPublishStore","AdsDraftUtils","AdsInstantPublishUIStore_DEPRECATED","AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux","AdsPEAdgroupLiveStatusChangeActionFlux","AdsPEBatchInstantPublishActionFlux","AdsPECampaignGroupLiveStatusChangeActionFlux","AdsPECampaignLiveStatusChangeActionFlux","AdsPEInstantDeleteActionFlux","AdsSplitTestCancelSplitTestsDataActionFlux","FluxReduceStore","fakeProgress","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=.75,j=3e4;g=babelHelpers.inherits(k,b("immutable").Record({fakeProgressToken:null,hasActiveProgress:!1,initProgress:0,isPublishInitializing:!1,isReceiptShown:!1,priorPublishedCount:0,progress:0,publishedCount:0,publishingCount:0,publishingAccount:null,publishingDraftID:null,publishingObjectIDs:b("immutable").Set(),recentlyPublishedIDs:b("immutable").Set(),recentlyPublishedIDsByLevel:b("immutable").Map({ad:b("immutable").List(),ad_set:b("immutable").List(),campaign:b("immutable").List()}),recentlyPublishedTimer:null,totalCount:0,keepCachedTotalCount:!1}));g&&g.prototype;function k(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new k()};a.prototype.__getActionTypes=function(){return[b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsDraftDraftPublishInitProgressDataActionFlux").actionType,b("AdsDraftDraftPublishInProgressDataActionFlux").actionType,b("AdsDraftAppendPublishErrorDataActionFlux").actionType,b("AdsDraftAppendPublishSuccessDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType,b("AdsDraftDraftShowPublishDetailsDataActionFlux").actionType,b("AdsDraftDraftHidePublishDetailsDataActionFlux").actionType,b("AdsDraftClearRecentlyPublishedDataActionFlux").actionType,b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignGroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishNameFieldActionFlux").actionType,b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishBudgetFieldActionFlux").actionType,b("AdsCampaignInstantPublishBidFieldActionFlux").actionType,b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType,b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType,b("AdsPECampaignLiveStatusChangeActionFlux").actionType,b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType,b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType,b("AdsPEInstantDeleteActionFlux").actionType,b("AdsPEBatchInstantPublishActionFlux").actionType,b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType,b("AdsSplitTestCancelSplitTestsDataActionFlux").actionType]};a.prototype.__getDependencyStores=function(){return[b("AdsDraftPublishStore"),b("AdsInstantPublishUIStore_DEPRECATED")]};a.prototype.getProgress=function(){return this.getState().progress*100};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return c.isCurrentlyPublishing?this.$AdsDraftPublishUIStore1(a,c.selection):this.$AdsDraftPublishUIStore2(a,c.selection,c.draftID);case b("AdsDraftDraftPublishInitProgressDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(a.set("initProgress",c.progress));case b("AdsDraftDraftPublishInProgressDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(this.$AdsDraftPublishUIStore4(a,c.response));case b("AdsDraftAppendPublishErrorDataActionFlux").actionType:case b("AdsDraftAppendPublishSuccessDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(this.$AdsDraftPublishUIStore5(a,c.count));case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return this.$AdsDraftPublishUIStore6(a,c.willCloseDraft,c.response);case b("AdsDraftDraftShowPublishDetailsDataActionFlux").actionType:return a.set("isReceiptShown",!0);case b("AdsDraftDraftHidePublishDetailsDataActionFlux").actionType:return a.set("isReceiptShown",!1);case b("AdsDraftClearRecentlyPublishedDataActionFlux").actionType:return a.merge({recentlyPublishedIDs:b("immutable").Set(),recentlyPublishedIDsByLevel:b("immutable").Map({ad:b("immutable").List(),ad_set:b("immutable").List(),campaign:b("immutable").List()})});case b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishNameFieldActionFlux").actionType:case b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBudgetFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBidFieldActionFlux").actionType:case b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType:case b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType:case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:case b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType:case b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType:return this.$AdsDraftPublishUIStore7(a,c.ids);case b("AdsPEInstantDeleteActionFlux").actionType:case b("AdsPEBatchInstantPublishActionFlux").actionType:return this.$AdsDraftPublishUIStore7(a,c.campaignGroupIDs.concat(c.campaignIDs).concat(c.adgroupIDs));case b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType:return this.$AdsDraftPublishUIStore7(a,c.campaignGroupIDs.concat(c.campaignIDs));case b("AdsSplitTestCancelSplitTestsDataActionFlux").actionType:return this.$AdsDraftPublishUIStore7(a,c.campaignGroupIDs);default:return a}};a.prototype.$AdsDraftPublishUIStore7=function(a,b){b=b.length;var c=0,d=0;a.hasActiveProgress&&(b+=a.totalCount,c=a.publishedCount,d=a.progress);return this.$AdsDraftPublishUIStore8(a).merge({hasActiveProgress:!0,keepCachedTotalCount:!0,publishedCount:c,publishingCount:this.$AdsDraftPublishUIStore9(c,b),progress:d,totalCount:b})};a.prototype.$AdsDraftPublishUIStore2=function(a,c,d){__p&&__p();var e=c?c.flatten().toSet():b("immutable").Set();c=c?c.reduce(function(a,b){return a+b.size},0):0;var f=0,g=0,h=c,i=!1,j=0;a=this.$AdsDraftPublishUIStore8(a);if(a.hasActiveProgress){b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var k=b("AdsInstantPublishUIStore_DEPRECATED").getPublishingInstantPublishRequestedItemIDs();f=a.progress;h=a.totalCount+c-k.size;g=1;j=a.publishedCount;i=!0;a=this.$AdsDraftPublishUIStore10(a)}return a.merge({hasActiveProgress:!0,publishingDraftID:d,initProgress:g,isPublishInitializing:!0,publishedCount:j,publishingCount:this.$AdsDraftPublishUIStore9(j,h),publishingObjectIDs:e,progress:f,totalCount:h,keepCachedTotalCount:i}).set("publishingAccount",b("AdsAccountStore").getSelectedAccount_LEGACY())};a.prototype.$AdsDraftPublishUIStore1=function(a,c){var d=a.totalCount,e=c?c.flatten().toSet():b("immutable").Set();b("immutable").Set();b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var f=b("AdsInstantPublishUIStore_DEPRECATED").getPublishingInstantPublishRequestedItemIDs();f=f.intersect(e);return a.merge({hasActiveProgress:!0,publishingObjectIDs:e,totalCount:c?c.reduce(function(a,b){return a+b.size},d-f.size):d-f.size,keepCachedTotalCount:!0})};a.prototype.$AdsDraftPublishUIStore4=function(a,c){__p&&__p();var d;if(!c)return a;var e=c[b("AdsAPIAdDraftPublishStatusFields").TOTAL_COUNT];d=((d=c)!=null?(d=d[b("AdsAPIAdDraftPublishStatusFields").FRAGMENT_STATUSES])!=null?d.data:d:d)||[];d=d.filter(function(a){return a[b("AdsAPIAdDraftFragmentPublishStatusFields").STATUS]===b("AdAsyncRequestStatus").SUCCESS});var f=d.map(function(a){return a[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_ID]});d=b("immutable").fromJS(d.reduce(function(a,c){a[c[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_TYPE]].push(c[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_ID]);return a},{ad:[],ad_set:[],campaign:[],ad_account:[],topline:[],unique_adcreative:[]}));var g=a.keepCachedTotalCount&&a.totalCount>e;c=b("AdsDraftUtils").getFinishedFragmentCount(c);var h=g?a.totalCount:e;b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var i=b("AdsInstantPublishUIStore_DEPRECATED").getInstantPublishRequestedItemIDs();c+=a.priorPublishedCount;h=g?a.totalCount:e+i.size;return this.$AdsDraftPublishUIStore10(a).merge({initProgress:1,isPublishInitializing:!1,keepCachedTotalCount:g,publishedCount:c,publishingCount:this.$AdsDraftPublishUIStore9(c,h),publishingObjectIDs:a.publishingObjectIDs.subtract(f),recentlyPublishedIDs:a.recentlyPublishedIDs.union(f),recentlyPublishedIDsByLevel:a.recentlyPublishedIDsByLevel.mergeWith(function(a,c){return b("immutable").Set(a.concat(c)).toList()},d),totalCount:h})};a.prototype.$AdsDraftPublishUIStore5=function(a,b){return b?this.$AdsDraftPublishUIStore4(a,b):a};a.prototype.$AdsDraftPublishUIStore3=function(a){return a.set("progress",(a.initProgress+a.publishedCount)/(a.totalCount+1))};a.prototype.$AdsDraftPublishUIStore6=function(a,c,d){__p&&__p();a.recentlyPublishedTimer&&clearTimeout(a.recentlyPublishedTimer);var e=null;c&&(e=setTimeout(this.$AdsDraftPublishUIStore11,j));c=!1;var f;b("immutable").Set();var g=1,h=1,i=!1,k=null,l=a.totalCount,m=0,n=!1;b("AdsDataAtom").waitFor(this.getDependencyDispatchTokens());c=b("AdsDraftPublishStore").getActivePublish().isLoading();f=b("AdsInstantPublishUIStore_DEPRECATED").getInstantPublishRequestedItemIDs();c=c||!f.isEmpty();i=c;g=c?a.progress:1;h=c?a.progress:1;k=c?a.publishingDraftID:null;f=d&&d.success_count?d.success_count:0;m=c?a.priorPublishedCount+f:0;l=a.priorPublishedCount+f;n=c;return this.$AdsDraftPublishUIStore10(a).merge({hasActiveProgress:n,initProgress:g,isPublishInitializing:!1,keepCachedTotalCount:i,priorPublishedCount:m,progress:h,publishedCount:l,publishingCount:this.$AdsDraftPublishUIStore9(l,a.totalCount),publishingAccount:null,publishingDraftID:k,publishingObjectIDs:b("immutable").Set(),recentlyPublishedTimer:e})};a.prototype.$AdsDraftPublishUIStore10=function(a){if(a.fakeProgressToken){a.fakeProgressToken.stop();return a.set("fakeProgressToken",null)}return a};a.prototype.$AdsDraftPublishUIStore8=function(a){if(a.fakeProgressToken!==null)return a;var c=b("fakeProgress")(i,function(a){return b("AdsDraftDraftPublishInitProgressDataAction").dispatch({progress:a},{line:"565",module:"AdsDraftPublishUIStore.js"})});return a.set("fakeProgressToken",c)};a.prototype.$AdsDraftPublishUIStore9=function(a,b){a=a+1;return a>b?b:a};a.prototype.$AdsDraftPublishUIStore11=function(){b("AdsDraftClearRecentlyPublishedDataAction").dispatch({},{line:"578",module:"AdsDraftPublishUIStore.js"})};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsConnectionStatusStore",["fbt","AdsConnectionStatusActionTypes","AdsConnectionStatusDataManager","AdsConnectionStatusGraphRetryScheduledAction","AdsConnectionStatusGraphSuccessAction","AdsConnectionStatusNetworkConnectedAction","AdsConnectionStatusNetworkDisconnectedAction","AdsDataAtom","ApiClient","DateConsts","FluxStore","Network","SubscriptionsHandler","adsCreateStoreThunkSelector","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=8;c=30;var j=b("debounce")(b("AdsConnectionStatusDataManager").check,c*b("DateConsts").MS_PER_SEC);d=babelHelpers.inherits(a,b("FluxStore"));h=d&&d.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.getGraphErrorSelector=b("adsCreateStoreThunkSelector")(this,this.getGraphError.bind(this)),this.getMessageSelector=b("adsCreateStoreThunkSelector")(this,this.getMessage.bind(this)),this.$AdsConnectionStatusStore4=!0,this.$AdsConnectionStatusStore5=!0,this.$AdsConnectionStatusStore7()}a.prototype.__getActionTypes=function(){return[b("AdsConnectionStatusActionTypes").GRAPH_ERROR,b("AdsConnectionStatusActionTypes").GRAPH_RETRY_SCHEDULED,b("AdsConnectionStatusActionTypes").GRAPH_SUCCESS,b("AdsConnectionStatusActionTypes").NETWORK_CONNECTED,b("AdsConnectionStatusActionTypes").NETWORK_DISCONNECTED]};a.prototype.$AdsConnectionStatusStore7=function(){this.$AdsConnectionStatusStore6=new(b("SubscriptionsHandler"))(),this.$AdsConnectionStatusStore6.addSubscriptions(b("Network").addListener("online",this.$AdsConnectionStatusStore8),b("Network").addListener("offline",this.$AdsConnectionStatusStore9)),b("ApiClient").subscribe("request.complete",this.$AdsConnectionStatusStore10.bind(this))};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsConnectionStatusActionTypes").GRAPH_ERROR:this.$AdsConnectionStatusStore11(a.error);break;case b("AdsConnectionStatusActionTypes").GRAPH_RETRY_SCHEDULED:this.$AdsConnectionStatusStore2=a.delay;this.__emitChange();break;case b("AdsConnectionStatusActionTypes").GRAPH_SUCCESS:this.$AdsConnectionStatusStore12();break;case b("AdsConnectionStatusActionTypes").NETWORK_CONNECTED:this.$AdsConnectionStatusStore13();break;case b("AdsConnectionStatusActionTypes").NETWORK_DISCONNECTED:this.$AdsConnectionStatusStore14();break}};a.prototype.isConnected=function(){return this.$AdsConnectionStatusStore5&&this.$AdsConnectionStatusStore4};a.prototype.isGraphAccessible=function(){return this.$AdsConnectionStatusStore4};a.prototype.isNetworkConnected=function(){return this.$AdsConnectionStatusStore5};a.prototype.getGraphError=function(){return this.$AdsConnectionStatusStore1};a.prototype.getGraphRetryDelay=function(){return this.$AdsConnectionStatusStore2};a.prototype.getMessage=function(){if(!this.$AdsConnectionStatusStore5)return g._("Please check your internet connection");return!this.$AdsConnectionStatusStore4?this.$AdsConnectionStatusStore2?g._({"*":{"second":"Your connection was lost. Reconnecting in {count} second","seconds":"Your connection was lost. Reconnecting in {count} seconds"}},[g._param("count",this.$AdsConnectionStatusStore2,[0]),g._enum(this.$AdsConnectionStatusStore2===1?"second":"seconds",{second:"second",seconds:"seconds"})]):g._("Your internet connection was lost. Trying to reconnect..."):void 0};a.prototype.$AdsConnectionStatusStore14=function(){this.$AdsConnectionStatusStore5=!1,this.$AdsConnectionStatusStore4=!1,this.__emitChange()};a.prototype.$AdsConnectionStatusStore13=function(){this.$AdsConnectionStatusStore5=!0,b("AdsConnectionStatusDataManager").check(),this.__emitChange()};a.prototype.$AdsConnectionStatusStore12=function(){this.$AdsConnectionStatusStore4=!0,this.$AdsConnectionStatusStore15(),this.__emitChange()};a.prototype.$AdsConnectionStatusStore11=function(a){this.$AdsConnectionStatusStore4=!1,this.$AdsConnectionStatusStore1=a,this.$AdsConnectionStatusStore2=i,this.$AdsConnectionStatusStore3||(this.$AdsConnectionStatusStore3=window.setInterval(this.$AdsConnectionStatusStore16.bind(this),b("DateConsts").MS_PER_SEC))};a.prototype.$AdsConnectionStatusStore16=function(){var a=(this.$AdsConnectionStatusStore2||0)-1;a>0?b("AdsConnectionStatusGraphRetryScheduledAction").dispatch({delay:a},{line:"277",module:"AdsConnectionStatusStore.js"}):(this.$AdsConnectionStatusStore15(),b("AdsConnectionStatusGraphRetryScheduledAction").dispatch({delay:null},{line:"282",module:"AdsConnectionStatusStore.js"}),b("AdsConnectionStatusDataManager").check())};a.prototype.$AdsConnectionStatusStore15=function(){this.$AdsConnectionStatusStore3&&(window.clearInterval(this.$AdsConnectionStatusStore3),this.$AdsConnectionStatusStore3=null),j.reset()};a.prototype.$AdsConnectionStatusStore10=function(a,c,d,e){a=!!(d&&d.execution_options&&d.execution_options.includes("validate_only"));!e||!a&&(e.error||e.error_msg)?j():this.$AdsConnectionStatusStore4||b("AdsConnectionStatusGraphSuccessAction").dispatch({},{line:"327",module:"AdsConnectionStatusStore.js"})};a.prototype.$AdsConnectionStatusStore8=function(){b("AdsConnectionStatusNetworkConnectedAction").dispatch({},{line:"332",module:"AdsConnectionStatusStore.js"})};a.prototype.$AdsConnectionStatusStore9=function(){b("AdsConnectionStatusNetworkDisconnectedAction").dispatch({},{line:"336",module:"AdsConnectionStatusStore.js"})};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsDraftSelectionStore",["invariant","AdsApplicationIDs","AdsAppVisibilityFocusDataActionFlux","AdsConnectionStatusGraphSuccessActionFlux","AdsConnectionStatusStore","AdsDataAtom","AdsDraftDataManager","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftClosedDataActionFlux","AdsDraftDraftCreateCurrentDraftDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftCurrentDraftLoadErrorDataActionFlux","AdsDraftDraftDeleteBatchDataActionFlux","AdsDraftDraftSetCurrentDraftDataActionFlux","AdsDraftDraftSetCurrentDraftErrorDataActionFlux","AdsDraftDraftSetCurrentDraftSuccessDataActionFlux","AdsDraftLoginAsDraftsLoadedDataActionFlux","AdsDraftPublishStore","AdsDraftTypes","AdsDraftUtils","DateConsts","FluxStore","LoadObject","adsCreateStoreThunkSelector","expectationViolation","immutable","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.$AdsDraftSelectionStore2=b("immutable").Map(),this.$AdsDraftSelectionStore3=b("immutable").Set(),this.getCachedSelector=b("adsCreateStoreThunkSelector")(this,this.getCached.bind(this)),this.$AdsDraftSelectionStore1=new Map(),this.$AdsDraftSelectionStore4=0}a.prototype.__getActionTypes=function(){return[b("AdsDraftDraftDeleteBatchDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftClosedDataActionFlux").actionType,b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadErrorDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftErrorDataActionFlux").actionType,b("AdsConnectionStatusGraphSuccessActionFlux").actionType,b("AdsAppVisibilityFocusDataActionFlux").actionType,b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType]};a.prototype.getOrCreateFor=function(a,c){var d=this.$AdsDraftSelectionStore1.get(a)||new Map();d=d.get(c);d||(d=b("LoadObject").loading(),this.$AdsDraftSelectionStore5(a,c,d),b("AdsDraftUtils").isUsingLoginAs()?b("AdsDraftDataManager").getCurrentDraftIncludingLoginAs(a):b("AdsDraftDataManager").createCurrentDraft({accountID:a,useActiveDraftIfExists:!0,type:b("AdsDraftTypes").ACTIVE,adsApplicationID:c}));return d};a.prototype.getCached=function(a){a=this.$AdsDraftSelectionStore1.get(a)||new Map();return a.get(b("AdsApplicationIDs").ADS_POWER_EDITOR)||b("LoadObject").empty()};a.prototype.getOrThrow=function(a){var b=this.getCached(a);!b.isLoading()&&b.value||g(0,2050,a);return b.value};a.prototype.getAvailableDrafts=function(a){return this.$AdsDraftSelectionStore2.get(a)||b("LoadObject").loading()};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsDraftDraftDeleteBatchDataActionFlux").actionType:case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:this.$AdsDraftSelectionStore6(a.ids);break;case b("AdsDraftDraftClosedDataActionFlux").actionType:this.$AdsDraftSelectionStore7(a.draftID,a.keepDraftID,a.adsApplicationID);break;case b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType:this.$AdsDraftSelectionStore8(a.accountID,a.name,a.draftType,a.adsApplicationID);break;case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:b("AdsDraftUtils").shouldDeleteExpiredDraft(a.adsApplicationID,a.draft,a.wasRefreshed)?this.$AdsDraftSelectionStore9(a.accountID,a.adsApplicationID,a.draftID):this.$AdsDraftSelectionStore10(a.accountID,a.draftID,a.adsApplicationID);break;case b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType:this.$AdsDraftSelectionStore10(a.accountID,a.draftID,a.adsApplicationID);break;case b("AdsDraftDraftSetCurrentDraftDataActionFlux").actionType:this.$AdsDraftSelectionStore11(a.accountID,a.draftID,a.adsApplicationID);break;case b("AdsDraftDraftCurrentDraftLoadErrorDataActionFlux").actionType:case b("AdsDraftDraftSetCurrentDraftErrorDataActionFlux").actionType:this.$AdsDraftSelectionStore12(a.accountID,a.error,a.adsApplicationID);break;case b("AdsConnectionStatusGraphSuccessActionFlux").actionType:this.$AdsDraftSelectionStore13();break;case b("AdsAppVisibilityFocusDataActionFlux").actionType:b("performanceNow")()-this.$AdsDraftSelectionStore4>b("DateConsts").MS_PER_HOUR/2&&this.$AdsDraftSelectionStore13();break;case b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType:this.$AdsDraftSelectionStore14(a.accountID,a.drafts);break}};a.prototype.$AdsDraftSelectionStore5=function(a,b,c){var d=this.$AdsDraftSelectionStore1.get(a)||new Map();d.set(b,c);this.$AdsDraftSelectionStore1.set(a,d)};a.prototype.$AdsDraftSelectionStore8=function(a,c,d,e){d===void 0&&(d=b("AdsDraftTypes").ACTIVE);var f=b("LoadObject").loading();this.$AdsDraftSelectionStore5(a,e,f);b("AdsDraftDataManager").createCurrentDraft({accountID:a,name:c,useActiveDraftIfExists:!1,type:d,adsApplicationID:e});this.__emitChange()};a.prototype.$AdsDraftSelectionStore11=function(a,c,d){var e=b("LoadObject").loading().setValue(c);this.$AdsDraftSelectionStore5(a,d,e);b("AdsDraftDataManager").setCurrentDraft(a,c,d);this.__emitChange()};a.prototype.$AdsDraftSelectionStore12=function(a,c,d){c=b("LoadObject").empty().setError(c);this.$AdsDraftSelectionStore5(a,d,c);this.__emitChange()};a.prototype.$AdsDraftSelectionStore10=function(a,c,d){c=b("LoadObject").withValue(c);this.$AdsDraftSelectionStore5(a,d,c);this.__emitChange()};a.prototype.$AdsDraftSelectionStore9=function(a,c,d){var e=b("LoadObject").withValue(d);this.$AdsDraftSelectionStore5(a,c,e);b("AdsDraftDataManager")["delete"](d);this.__emitChange()};a.prototype.$AdsDraftSelectionStore6=function(a){__p&&__p();this.$AdsDraftSelectionStore3=this.$AdsDraftSelectionStore3.union(a);var b=new Set(a);this.$AdsDraftSelectionStore1.forEach(function(a){a.forEach(function(c,d){c.value&&b.has(c.value)&&a["delete"](d)})});this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.map(function(a){return a.map(function(a){return a.filter(function(a){return!b.has(a.id)})})});this.__emitChange()};a.prototype.$AdsDraftSelectionStore7=function(a,c,d){__p&&__p();if(!c){var e;this.$AdsDraftSelectionStore1.forEach(function(b,c){b.forEach(function(b){b.value===a&&(e=c)})});if(!e){b("expectationViolation")("Draft %s was closed, but this draft does not correspond to any active draft!",a);return}if(b("AdsDraftUtils").isUsingLoginAs()){c=this.$AdsDraftSelectionStore1.get(e)||new Map();c["delete"](d);this.$AdsDraftSelectionStore1.set(e,c)}else{c=b("AdsDraftUtils").EMPTY_DRAFT_LOADOBJECT;this.$AdsDraftSelectionStore5(e,d,c);b("AdsDraftDataManager").createCurrentDraft({accountID:e,useActiveDraftIfExists:!1,adsApplicationID:d})}}};a.prototype.$AdsDraftSelectionStore13=function(){if(!b("AdsConnectionStatusStore").isConnected())return;if(b("AdsDraftPublishStore").getActivePublish().isLoading())return;this.$AdsDraftSelectionStore4=b("performanceNow")();this.$AdsDraftSelectionStore1.forEach(function(a,c){a.forEach(function(a,d){b("AdsDraftDataManager").refresh(c,a.getValue(),b("AdsDraftTypes").ACTIVE,d)})})};a.prototype.$AdsDraftSelectionStore14=function(a,c){c=c.filter(function(a){return!this.$AdsDraftSelectionStore3.contains(a.id)}.bind(this));this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.set(a,b("LoadObject").withValue(c));this.__emitChange()};a.prototype.__setCurentDraftIDs=function(a,c,d){d=b("LoadObject").withValue(d);this.$AdsDraftSelectionStore5(a,c,d)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsInterfacesBaseBulkStore",["AdsBaseBulkStore","AdsBulkValueUtils","AdsEditorSelectedIDsSelector","AdsErrorUtils","abstractMethod","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("AdsBaseBulkStore"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.getBulkSpec=b("adsCreateStoreSelector")([this],function(){return this.get("currentAPISpec").bulkSpec}.bind(this),e.id),this.getChangedBulkSpec=b("adsCreateStoreSelector")([this],function(){return this.get("changedAPISpec").bulkSpec}.bind(this),e.id),this.getDerivedBulkSpec=b("adsCreateStoreSelector")([this],function(){return this.get("derivedSpec").bulkSpec}.bind(this),e.id),this.getDerivedRawSpecs=b("adsCreateStoreSelector")([this],function(){return this.get("derivedSpec").filteredValues}.bind(this),e.id),this.getSelectedIDs=b("adsCreateStoreSelector")([this],function(){return this.get("selectedIDs").bulkSpec}.bind(this),e.id),this.getSelectedIDsArray=b("adsCreateStoreSelector")([this],function(){return this.get("selectedIDs").filteredValues}.bind(this),e.id),this.getValidationErrors=b("adsCreateStoreSelector")([this],function(){return this.get("validationErrors").bulkSpec}.bind(this),e.id),this.getValidationErrorSpec=b("adsCreateStoreSelector")([this],function(){return this.get("validationErrorSpec").bulkSpec}.bind(this),e.id),c}a.prototype.anyLoading=function(){return b("AdsBulkValueUtils").getUniformValue_DEPRECATED(this.get("isLoading").bulkSpec,!0)};a.prototype.getAnyDirty=function(){return b("AdsBulkValueUtils").getUniformValue_DEPRECATED(this.get("isDirty").bulkSpec,!0)};a.prototype.getChangedIDs=function(){return this.get("changedIDs").bulkSpec};a.prototype.getCount=function(){return this.getRawSpecs().length};a.prototype.getIsNew=function(){return this.get("isNew").bulkSpec};a.prototype.getLoadErrors=function(){return this.get("loadError").filteredValues};a.prototype.getMap=function(){return this.get("currentAPISpecMap").bulkSpec};a.prototype.getOriginalBulkSpec=function(){return this.get("originalAPISpec").bulkSpec};a.prototype.getRawSpecs=function(){return this.get("currentAPISpec").filteredValues};a.prototype.getUnsupportedReasons=function(){return this.get("unsupportedReasons").bulkSpec};a.prototype.$AdsInterfacesBaseBulkStore1=function(){__p&&__p();return{changedIDs:{getOne:function(a){return this.__getEditStatusStore().hasDraft(a)?a:null}.bind(this),filter:function(a){return a},aggregate:function(a){return b("immutable").OrderedSet(a)}},changedAPISpec:{getOne:function(a){return this.__getEditStatusStore().hasDraft(a)?this.__getBasicDataStore().get(a).getValue():null}.bind(this),filter:function(a){return!!a},aggregate:b("AdsBulkValueUtils").createDeepAggregator(this.__getBasicSchema())},currentAPISpec:{getOne:function(a){return this.__getBasicDataStore().get(a).getValue()}.bind(this),filter:function(a){return!!a},aggregate:b("AdsBulkValueUtils").createDeepAggregator(this.__getBasicSchema())},currentAPISpecMap:{getOne:function(a){return this.__getBasicDataStore().get(a).getValue()}.bind(this),filter:function(a){return!!a},aggregate:function(a){return b("immutable").Map(a.map(function(a){return[a.id,a]}))}},derivedSpec:{getOne:function(a){return this.__getDerivedStore().get(a).getValue()}.bind(this),filter:function(a){return!!a},aggregate:b("AdsBulkValueUtils").createDeepAggregator(this.__getDerivedSchema())},isDirty:{getOne:function(a){return this.__getEditStatusStore().isDirty(a)}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},isLoading:{getOne:function(a){a=this.__getBasicDataStore().get(a);return!a.isDone()||!a.hasValue()}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},isNew:{getOne:function(a){return this.__getEditStatusStore().isNew(a)}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},loadError:{getOne:function(a){return this.__getBasicDataStore().get(a).getError()}.bind(this),filter:function(a){return!!a},aggregate:b("AdsBulkValueUtils").createAggregator()},originalAPISpec:{getOne:function(a){return this.__getOriginalStore().get(a).getValue()}.bind(this),filter:function(a){return a!=null},aggregate:b("AdsBulkValueUtils").createDeepAggregator(this.__getBasicSchema())},selectedIDs:{getOne:function(a){return a},aggregate:function(a){return b("immutable").OrderedSet(a)}},unsupportedReasons:{getOne:function(a){return this.__getUnsupportedReasonStore().get(a)}.bind(this),aggregate:b("AdsBulkValueUtils").createAggregator()},validationErrors:{getOne:function(a){return this.__getValidationStore().getCombinedErrors(a)}.bind(this),aggregate:function(a){return Array.prototype.concat.apply([],a)}},validationErrorSpec:{getOne:function(a){return this.__getValidationStore().getCombinedErrors(a)}.bind(this),aggregate:function(a){a=Array.prototype.concat.apply([],a);return b("AdsErrorUtils").getErrorSpec(a)}}}};a.prototype.$AdsInterfacesBaseBulkStore2=function(){return[].concat(b("AdsEditorSelectedIDsSelector").getStores(),[this.__getBasicDataStore(),this.__getDerivedStore(),this.__getEditStatusStore(),this.__getOriginalStore(),this.__getUnsupportedReasonStore(),this.__getValidationStore()]).filter(Boolean)};a.prototype.__getConfigs=function(){return babelHelpers["extends"]({},this.$AdsInterfacesBaseBulkStore1(),this.__getCustomConfigs())};a.prototype.__getStores=function(){return[].concat(this.$AdsInterfacesBaseBulkStore2(),this.__getCustomStores())};a.prototype.__getBasicDataStore=function(){return b("abstractMethod")(this.constructor.name,"__getBasicDataStore")};a.prototype.__getBasicSchema=function(){return b("abstractMethod")(this.constructor.name,"__getBasicSchema")};a.prototype.__getCustomConfigs=function(){return{}};a.prototype.__getCustomStores=function(){return[]};a.prototype.__getDerivedSchema=function(){return b("abstractMethod")(this.constructor.name,"__getDerivedSchema")};a.prototype.__getDerivedStore=function(){return b("abstractMethod")(this.constructor.name,"__getDerivedStore")};a.prototype.__getEditStatusStore=function(){return b("abstractMethod")(this.constructor.name,"__getEditStatusStore")};a.prototype.__getOriginalStore=function(){return b("abstractMethod")(this.constructor.name,"__getOriginalStore")};a.prototype.__getUnsupportedReasonStore=function(){return b("abstractMethod")(this.constructor.name,"__getUnsupportedReasonStore")};a.prototype.__getValidationStore=function(){return b("abstractMethod")(this.constructor.name,"__getValidationStore")};e.exports=a}),null);
__d("AdsUserSettingsBaseStore",["AdsUserSettingsCreatedDataActionFlux","AdsUserSettingsDataManager","FluxLoadObjectStore","adsCreateStoreThunkSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.getSelector=b("adsCreateStoreThunkSelector")(this,this.get.bind(this)),c}a.prototype.__getActionTypes=function(){return h?[b("AdsUserSettingsCreatedDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsUserSettingsCreatedDataActionFlux").actionType:return this.$AdsUserSettingsBaseStore1(a,c.userSettingsID);default:return a}};a.prototype.__load=function(a){b("AdsUserSettingsDataManager").load(a)};a.prototype.$AdsUserSettingsBaseStore1=function(a,b){this.__userSettingsID=b;return a};a.prototype.__handleUpdate=function(a,b,c){return this.__handleOne(a,b,c)};a.__moduleID=e.id;e.exports=a}),null);
__d("AdsUserSettingsStore",["AdsAdgroupSetLinkPostFormatDataActionFlux","AdsAPIUserSettingsFields","AdsAutoNamingTemplateRenameCampaignGroupsDataActionFlux","AdsDataAtom","AdsDefaultCreationMode","AdsMgmtCollapseTreeTableNodeActionFlux","AdsMgmtExpandTreeTableNodeActionFlux","AdsPageSelectorBookmarkDataActionFlux","AdsPageSelectorChangeDataActionFlux","AdsPageSelectorRemoveDataActionFlux","AdsPageSelectorStore","AdsPECreateStartCreateFlowActionFlux","AdsPECreateStartQuickCreateActionFlux","AdsPESetUserPreferenceForPublishMessageOnEditorCloseActionFlux","AdsUEditorAdgroupSetTemplateNameActionFlux","AdsUEditorCampaignSetTemplateNameActionFlux","AdsUserBatchLoadedDataActionFlux","AdsUserSettingsBaseStore","AdsUserSettingsDataManager","AdsUserSettingsUpdateDataActionFlux","CurrentUser","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsUserSettingsBaseStore"));h=g&&g.prototype;a.prototype.__getActionTypes=function(){var a;return i?[].concat((a=h.__getActionTypes.call(this))!=null?a:[],[b("AdsAdgroupSetLinkPostFormatDataActionFlux").actionType,b("AdsAutoNamingTemplateRenameCampaignGroupsDataActionFlux").actionType,b("AdsMgmtCollapseTreeTableNodeActionFlux").actionType,b("AdsMgmtExpandTreeTableNodeActionFlux").actionType,b("AdsPageSelectorBookmarkDataActionFlux").actionType,b("AdsPageSelectorChangeDataActionFlux").actionType,b("AdsPageSelectorRemoveDataActionFlux").actionType,b("AdsPECreateStartCreateFlowActionFlux").actionType,b("AdsPECreateStartQuickCreateActionFlux").actionType,b("AdsPESetUserPreferenceForPublishMessageOnEditorCloseActionFlux").actionType,b("AdsUEditorAdgroupSetTemplateNameActionFlux").actionType,b("AdsUEditorCampaignSetTemplateNameActionFlux").actionType,b("AdsUserBatchLoadedDataActionFlux").actionType,b("AdsUserSettingsUpdateDataActionFlux").actionType]):null};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsUserBatchLoadedDataActionFlux").actionType:return this.$AdsUserSettingsStore1(a,d.responses);case b("AdsUserSettingsUpdateDataActionFlux").actionType:return this.__handleUpdate(a,d.userSettingsID,d.settings);case b("AdsPECreateStartQuickCreateActionFlux").actionType:return this.$AdsUserSettingsStore2(a,b("AdsDefaultCreationMode").QUICK_CREATION);case b("AdsPECreateStartCreateFlowActionFlux").actionType:return this.$AdsUserSettingsStore2(a,b("AdsDefaultCreationMode").GUIDED_CREATION);case b("AdsAdgroupSetLinkPostFormatDataActionFlux").actionType:return this.$AdsUserSettingsStore3(a,d.linkPostFormat);case b("AdsPageSelectorChangeDataActionFlux").actionType:case b("AdsPageSelectorRemoveDataActionFlux").actionType:case b("AdsPageSelectorBookmarkDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsPageSelectorStore").getDispatchToken()]);return this.$AdsUserSettingsStore4(a);case b("AdsUEditorAdgroupSetTemplateNameActionFlux").actionType:return this.$AdsUserSettingsStore5(a,d.template);case b("AdsUEditorCampaignSetTemplateNameActionFlux").actionType:return this.$AdsUserSettingsStore6(a,d.template);case b("AdsAutoNamingTemplateRenameCampaignGroupsDataActionFlux").actionType:return this.$AdsUserSettingsStore7(a,d.template);case b("AdsPESetUserPreferenceForPublishMessageOnEditorCloseActionFlux").actionType:return this.$AdsUserSettingsStore8(a,d.selected);case b("AdsMgmtCollapseTreeTableNodeActionFlux").actionType:case b("AdsMgmtExpandTreeTableNodeActionFlux").actionType:return this.getShouldAutoExpandTreeTableSetting()?this.$AdsUserSettingsStore9(a,!1):a;default:return h.reduce.call(this,a,c)}};a.prototype.$AdsUserSettingsStore1=function(a,c){var d=b("CurrentUser").getAccountID();c=c.get(d);c=c.ads_user_settings;if(c){this.__userSettingsID=c.id;this.__load(c.id);return a}return this.$AdsUserSettingsStore10(a,d)};a.prototype.$AdsUserSettingsStore10=function(a,c){b("AdsUserSettingsDataManager").createUserSettings(c);return a};a.prototype.$AdsUserSettingsStore8=function(a,c){if(!this.__userSettingsID)return a;b("AdsUserSettingsDataManager").setUserPreferenceForPublishMessageOnEditorClose(this.__userSettingsID,c);return a.setIn([this.__userSettingsID,"value",b("AdsAPIUserSettingsFields").SHOULD_NOT_SHOW_PUBLISH_MESSAGE_ON_EDITOR_CLOSE],c)};a.prototype.$AdsUserSettingsStore9=function(a,c){if(!this.__userSettingsID)return a;b("AdsUserSettingsDataManager").setShouldAutoExpandTreeTable(this.__userSettingsID,c);return a.setIn([this.__userSettingsID,"value",b("AdsAPIUserSettingsFields").SHOULD_NOT_AUTO_EXPAND_TREE_TABLE],!c)};a.prototype.$AdsUserSettingsStore2=function(a,c){if(!this.__userSettingsID)return a;var d=a.get(this.__userSettingsID);if(d&&d.hasValue()&&d.getValueEnforcing().get(b("AdsAPIUserSettingsFields").DEFAULT_CREATION_MODE)===c)return a;if(!this.__userSettingsID)return a;b("AdsUserSettingsDataManager").setDefaultCreationMode(this.__userSettingsID,c);return a};a.prototype.$AdsUserSettingsStore5=function(a,c){this.__userSettingsID&&c&&b("AdsUserSettingsDataManager").setAdgroupNameTemplate(this.__userSettingsID,c);return a};a.prototype.$AdsUserSettingsStore6=function(a,c){this.__userSettingsID&&c&&b("AdsUserSettingsDataManager").setCampaignNameTemplate(this.__userSettingsID,c);return a};a.prototype.$AdsUserSettingsStore7=function(a,c){this.__userSettingsID&&c&&b("AdsUserSettingsDataManager").setCampaignGroupNameTemplate(this.__userSettingsID,c);return a};a.prototype.$AdsUserSettingsStore3=function(a,c){this.__userSettingsID&&b("AdsUserSettingsDataManager").setLastUsedPostFormat(this.__userSettingsID,c);return a};a.prototype.$AdsUserSettingsStore11=function(a,c,d,e){this.__userSettingsID&&b("AdsUserSettingsDataManager").setPagesInfo(this.__userSettingsID,a,c,d,e)};a.prototype.$AdsUserSettingsStore4=function(a){this.$AdsUserSettingsStore11(b("AdsPageSelectorStore").getSelectedPageID(),b("AdsPageSelectorStore").getSelectedSectionType(),b("AdsPageSelectorStore").getBookmarkedPageIDs(),b("AdsPageSelectorStore").getUnownedPageIDs());return a};a.prototype.isLoaded=function(){if(this.__userSettingsID==null)return!1;var a=this.get(this.__userSettingsID);return a&&!a.isLoading()};a.prototype.getDefaultCreationMode=function(){if(this.__userSettingsID==null)return null;var a=this.get(this.__userSettingsID);return!a||!a.hasValue()?null:a.getValueEnforcing().get(b("AdsAPIUserSettingsFields").DEFAULT_CREATION_MODE)};a.prototype.getUserPreferenceForOnLeaveEditorDialog=function(){if(this.__userSettingsID==null)return!1;var a=!1,c=this.get(this.__userSettingsID);if(c){c=c.getValue();c&&(a=!c.get(b("AdsAPIUserSettingsFields").SHOULD_NOT_SHOW_PUBLISH_MESSAGE_ON_EDITOR_CLOSE))}return a};a.prototype.getShouldAutoExpandTreeTableSetting=function(){if(this.__userSettingsID==null)return!1;var a=!1,c=this.get(this.__userSettingsID);if(c){c=c.getValue();c&&(a=!c.get(b("AdsAPIUserSettingsFields").SHOULD_NOT_AUTO_EXPAND_TREE_TABLE))}return a};function a(){g.apply(this,arguments)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsBaseLiveOriginalStore",["AdsDataAtom","FluxDerivedStore","LoadObject","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LoadObject").withValue({});c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;a.prototype.__getDraftStore=function(){return b("abstractMethod")("AdsBaseLiveOriginalStore","__getDraftStore")};a.prototype.__getLiveStore=function(){return b("abstractMethod")(this.constructor.name,"__getLiveStore")};a.prototype.__getData=function(a){if(this.__getDraftStore().get(a).isLoading())return b("LoadObject").loading();return this.__getDraftStore().isNew(a)?h:this.__getLiveStore().get(a)};a.prototype.__computeResult=function(a,b){return b};a.prototype.__getStores=function(){return[this.__getLiveStore(),this.__getDraftStore()]};a.prototype.__areEqual=function(a,b){return a===b};function a(){g.constructor.call(this,b("AdsDataAtom"))}a.__moduleID=e.id;e.exports=a}),null);
__d("AdsAdgroupOriginalStore",["AdsAdgroupDraftFragmentStore","AdsAdgroupLiveStore","AdsBaseLiveOriginalStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsBaseLiveOriginalStore"));g&&g.prototype;a.prototype.__getDraftStore=function(){return b("AdsAdgroupDraftFragmentStore")};a.prototype.__getLiveStore=function(){return b("AdsAdgroupLiveStore")};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsTypeaheadStoreUtils",["AdsAccountStore","AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAPICampaignPaths","AdsDataAtom","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=null;return a.filter(function(a){if(!b("getByPath")(a,b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE_OPTIMIZATION)||b("getByPath")(a,b("AdsAPICampaignPaths").ASSET_FEED_ID))return!0;a=b("getByPath")(a,b("AdsAPICampaignPaths").ID);c===null&&(c=g());return!c.has(a)})}function g(){b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken(),b("AdsAdgroupCombinedStore").getDispatchToken(),b("AdsAdgroupDraftFragmentStore").getDispatchToken()]);var a=b("AdsAccountStore").getSelectedAccountIDX();a=b("AdsAdgroupDraftFragmentStore").getNewIDsFor(a);a=b("AdsAdgroupCombinedStore").getAll(a.toArray());return a.filter(function(a){return a.hasValue()}).map(function(a){return a.getValueEnforcing().adset_id}).toSet()}function c(a){return/^[0-9]+$/.test(a)}e.exports={filterCampaignResults:a,onlyContainsDigits:c}}),null);
__d("AdsAdgroupDynamicMutators",["AdsAdgroupLinkPostFormatMutators","AdsAdgroupTemplateStaticCardMutators","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCallToActionUtils","AdsCampaignClearDynamicOptionsDataActionFlux","AdsCarouselStyleType","AdsMutators","AdsObjectiveGetter","AdsTemplateDataDefaultsStoreUtils","AdsUnifiedCreativeAPIFieldMappings","ApiObjectStorySpecLinkFields","CallToActionTypes","CallToActionValueFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupTemplateStaticCardMutators").addLeadingStaticCard,h=b("AdsMutators").chain,i=b("AdsMutators").mutateEach,j=b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING,k=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING;function a(a,c){c=c.action;switch(c.type){case b("AdsCampaignClearDynamicOptionsDataActionFlux").actionType:return i(a,c.adgroupIDs,function(a){return o(a)});default:return a}}function l(a,c,d,e,f){return h(function(a){return a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,d).setIn(k.linkURL,a.getIn(j.linkURL)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path)},m,function(a){return n(a,c,f,e)})(a)}function m(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_HEIGHT).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.THUMBNAIL_WIDTH)}function n(a,c,d,e){c=c===b("AdsAPIObjectives").LEAD_GENERATION?b("CallToActionTypes").SIGN_UP:b("CallToActionTypes").SHOP_NOW;return a.setIn(k.callToActionType,c).setIn(k.multiShareEndCard,!(d&&d.getValue())).setIn(k.headline,b("AdsTemplateDataDefaultsStoreUtils").getDefault(b("ApiObjectStorySpecLinkFields").NAME,e)).setIn(k.linkDescription,b("AdsTemplateDataDefaultsStoreUtils").getDefault(b("ApiObjectStorySpecLinkFields").DESCRIPTION,e)).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,b("AdsCarouselStyleType").OTHERS)}function c(a,b,c,d,e){return g(l(a,b,c,d,e))}function o(a){var c,d=b("AdsAPIAdgroupRecordUtils").isCarouselAd(a),e=b("AdsObjectiveGetter").get({adgroup:a});a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID).setIn(j.linkURL,a.getIn(k.linkURL)).setIn(j.callToActionType,e?b("AdsCallToActionUtils").getDefaultCallToActionType(e):null).setIn(j.callToActionValue.concat(b("CallToActionValueFields").LINK),(c=a.creative)==null?void 0:c.link_url).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,b("AdsCarouselStyleType").STATIC_CAROUSEL);return d?b("AdsAdgroupLinkPostFormatMutators").changeToMultipleLinkPostFormat(e,a,!1):a}d={addDefaultTemplateDataFields:n,reduce:a,removeThumbnail:m,transformAdgroupFromLinkToTemplateData:l,transformAdgroupFromLinkToTemplateDataWithStaticCard:c};e.exports=d}),null);
__d("AdsDynamicTargetingCategoryUIStore",["AdsDataAtom","AdsDynamicTargetingCategoryUiSetTargetingCategoryDataActionFlux","FluxReduceStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom"))}a.prototype.getInitialState=function(){return b("immutable").Map()};a.prototype.__getActionTypes=function(){return h?[b("AdsDynamicTargetingCategoryUiSetTargetingCategoryDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){var d=c.action;switch(d.type){case b("AdsDynamicTargetingCategoryUiSetTargetingCategoryDataActionFlux").actionType:return a.withMutations(function(a){return d.ids.forEach(function(b){return a.set(b,d.category)})})}return a};a.prototype.getTargetingCategory=function(a){return this.getState().get(a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsPortraitCustomizationsUtils",["AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdgroupPaths","AdsPlacementAPISpecReaderUtils"],(function(a,b,c,d,e,f){"use strict";a={isPortraitCustomizationsEnabled:function(a,c,d){return b("AdsAccountUtils").hasCapability(c,b("AdsAccountCapabilities").CAN_CREATE_INSTAGRAM_STORY_BACKGROUND_COLOR_CUSTOMIZATION)&&b("AdsPlacementAPISpecReaderUtils").isActiveStoryPosition(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a))&&!d},hasPortraitCustomizationsSpec:function(a){return!!a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.SPECIFICATIONS)}};e.exports=a}),null);
__d("AdsBusinessInstagramAccountStore",["AdsBaseDataStore","AdsBusinessInstagramAccountDataManager","AdsInstagramAccountBusinessBatchLoadedDataActionFlux","AdsInstagramAccountBusinessBatchLoadErrorDataActionFlux","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsLoadState_LEGACY","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsBusinessInstagramAccountDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsInstagramAccountBusinessBatchLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsInstagramAccountBusinessBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountBusinessBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPageInstagramAccountStore",["AdsBaseDataStore","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountPageBatchLoadErrorDataActionFlux","AdsInstagramAccountPageClearAccountsDataActionFlux","AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux","AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux","AdsInstagramAccountPageLinkAccountDataActionFlux","AdsInstagramAccountPageUnlinkAccountDataActionFlux","AdsLoadState_LEGACY","AdsPageInstagramAccountDataManager","InstagramAuthenticationErrorMessages","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("AdsBaseDataStore"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$AdsPageInstagramAccountStore1={},this.$AdsPageInstagramAccountStore2={},this.$AdsPageInstagramAccountStore3={}}a.prototype.getDataManager=function(){return b("AdsPageInstagramAccountDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType,b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType,b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType:this.__invalidate(a.data.pageID);break;case b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType:if(this.$AdsPageInstagramAccountStore1[a.data.pageID]===b("AdsLoadState_LEGACY").LOADING)return;this.$AdsPageInstagramAccountStore1[a.data.pageID]=b("AdsLoadState_LEGACY").LOADING;this.__emitChange();b("AdsPageInstagramAccountDataManager").createAndUsePageBackedAccount(a.data.campaignID,a.data.adgroupIDs,a.data.pageID,a.data.accessToken,a.source,a.hostID);break;case b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore4(a.data.pageID);break;case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:this.$AdsPageInstagramAccountStore5(a.data);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break;case b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore6(a.data.pageID,a.data.username,a.data.password);break;case b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore7(a.data.pageID,a.data.instagramAccountID);break;case b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType:case b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore8(a.data.pageID);break;case b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore9(a.data.pageID,a.data.instagramAccountID,a.data.errorMessages,a.data.errorCode);break;case b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore10(a.data.pageID,a.data.error,a.data.success);break}};a.prototype.getPageBackedAccountCreateState=function(a){return this.$AdsPageInstagramAccountStore1[a]?this.$AdsPageInstagramAccountStore1[a]:b("AdsLoadState_LEGACY").LOADED};a.prototype.getPageLinkOrUnlinkAccountErrors=function(a){return this.$AdsPageInstagramAccountStore2[a]?this.$AdsPageInstagramAccountStore2[a]:[]};a.prototype.getPageLinkOrUnlinkState=function(a){return this.$AdsPageInstagramAccountStore3[a]?this.$AdsPageInstagramAccountStore3[a]:b("AdsLoadState_LEGACY").LOADED};a.prototype.$AdsPageInstagramAccountStore5=function(a){a.instagramAccountIDCallback&&a.instagramAccountIDCallback(a.instagramAccountID),this.$AdsPageInstagramAccountStore1[a.pageID]=b("AdsLoadState_LEGACY").LOADED,this.__invalidate(a.pageID)};a.prototype.$AdsPageInstagramAccountStore4=function(a){this.$AdsPageInstagramAccountStore1[a]=b("AdsLoadState_LEGACY").ERROR,this.__emitChange()};a.prototype.$AdsPageInstagramAccountStore6=function(a,c,d){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").linkInstagramAccount(a,c,d),this.__emitChange()};a.prototype.$AdsPageInstagramAccountStore7=function(a,c){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").unlinkInstagramAccount(a,c),this.__emitChange()};a.prototype.$AdsPageInstagramAccountStore9=function(a,c,d,e){__p&&__p();this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(!c){c=d||[];e&&c.push(b("InstagramAuthenticationErrorMessages").getMessage(e));c.length===0&&c.push(b("InstagramAuthenticationErrorMessages").getMessage());this.$AdsPageInstagramAccountStore2[a]=c;this.__emitChange();return}this.__invalidate(a);this.__emitChange()};a.prototype.$AdsPageInstagramAccountStore10=function(a,c,d){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(c||!d){this.$AdsPageInstagramAccountStore2[a]=[b("InstagramAuthenticationErrorMessages").getMessage(c)];this.__emitChange();return}this.__invalidate(a);this.__emitChange()};a.prototype.$AdsPageInstagramAccountStore8=function(a){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;var c=b("InstagramAuthenticationErrorMessages").getMessage();this.$AdsPageInstagramAccountStore2[a]=[c];this.__emitChange()};e.exports=new a()}),null);
__d("AdsProductSetAssetEligibilityStore",["AdsDataAtom","AdsProductSetAssetEligibilityDataManager","AdsProductSetAssetEligibilityLoadedActionFlux","AdsProductSetAssetEligibilityLoadErrorActionFlux","FluxLoadObjectStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return h?[b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType,b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType]:null};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType:var d=this.$AdsProductSetAssetEligibilityStore1(c.data);return this.__handleOne(a,c.productSetID,d);case b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType:return this.__handleOne(a,c.productSetID,c.error);default:return a}};a.prototype.$AdsProductSetAssetEligibilityStore1=function(a){return b("immutable").Map(a.map(function(a){return[a.key,a]}))};a.prototype.__load=function(a){b("AdsProductSetAssetEligibilityDataManager").loadProductSetAssetEligibilityData(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupLinkPostFormatMutators",["AdsAccountCapabilities","AdsAccountStore","AdsAccountUtils","AdsAdgroupAssetFeedMutators","AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupCreativePluginResolver","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAdgroupSetLinkPostFormatDataActionFlux","AdsAdgroupSetProductCatalogDataActionFlux","AdsAdgroupSpecPathPluginResolver","AdsAdgroupSpecUtils","AdsAdgroupTemplateStaticCardMutators","AdsAdgroupWebsiteMutatorsAdapter","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIAdgroupTemplateDataRecord","AdsAPICampaignPaths","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsBulkValueUtils","AdsCallToActionTypes","AdsCallToActionUtils","AdsCampaignCombinedStore","AdsCampaignGroupPromotedPageIDGetter","AdsCanvasCollectionsConstants","AdsCanvasCollectionsUtils","AdsCanvasConstants","AdsCarouselStyleType","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsDataAtom","AdsEditingAdgroupEditorContext","AdsLinkPostFormat","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsMobileAppObjectivesUtils","AdsMultiProductMutators","AdsMutators","AdsObjectiveGetter","AdsObjectStorySpecMutators","AdsOfferState","AdsPageGetter","AdsPageIDGetter","AdsPortraitCustomizationsUtils","AdsPromotedObjectTypes","AdsPromotedObjectTypeStore","AdsSelectorUtils","AdsUEditorAdgroupCreativeFormat","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignInstagramSelectors","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","AdsXAdgroupCallToActionMutators","ApiAdObjectTypes","ApiDynamicCreativeOptimizationAdFormat","ApiObjectStorySpecFormatOption","CallToActionAppDestination","CallToActionValueFields","CatalogVertical","FBLogger","adsShouldDefaultToSingleVideoSelector","forEachObject","immutable","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupAssetFeedMutators").convertFromAssetFeedSpec,h=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToActionLink,i=b("AdsAdgroupPostTypeMutators").convertLinkOrTemplatePostToVideoPost,j=b("AdsAdgroupPostTypeMutators").convertLinkPostToTemplatePost,k=b("AdsAdgroupPostTypeMutators").convertPhotoPostToLinkPost,l=b("AdsAdgroupPostTypeMutators").convertTemplatePostToLinkPost,m=b("AdsAdgroupPostTypeMutators").convertVideoPostToLinkOrTemplatePost,n=b("AdsAdgroupTemplateStaticCardMutators").removeAllStaticCards,o=b("AdsAdgroupWebsiteMutatorsAdapter").setWebsiteURL,p=b("AdsMultiProductMutators").setInChild,q=b("AdsMutators").deleteIn,r=b("AdsMutators").mutateEach,s=b("AdsMutators").setIn,t=b("AdsObjectStorySpecMutators").getSpecTypeOption,u=b("AdsObjectStorySpecMutators").removeFirstSpecFromPaths,v=b("AdsObjectStorySpecMutators").setInBySpecType;function w(a){a=a.campaign_id;return b("AdsCampaignGroupPromotedPageIDGetter").get({campaignGroupID:a})}function a(a,c){var d=c.action;switch(d.type){case b("AdsAdgroupSetLinkPostFormatDataActionFlux").actionType:return r(a,d.ids,function(a){return x(d.linkPostFormat,a,d.vertical)});case b("AdsAdgroupSetProductCatalogDataActionFlux").actionType:return r(a,d.ids,function(a){return B(a,d.vertical)});default:return a}}function x(a,c,d){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken(),b("AdsAdgroupEditorStore").getDispatchToken()].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsShouldDefaultToSingleVideoSelector")]),[b("AdsCampaignCombinedStore").getDispatchToken()]));var e=b("AdsObjectiveGetter").get({adgroup:c}),f=b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(c);if(f){f=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c);f||(c=g(b("AdsAPIAdgroupRecordUtils").getObjectType(c),c,e))}f=a===b("AdsLinkPostFormat").MULTIPLE||a===b("AdsLinkPostFormat").SINGLE;f||(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path));f=b("AdsPortraitCustomizationsUtils").hasPortraitCustomizationsSpec(c)&&a!==b("AdsLinkPostFormat").SINGLE;f&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PORTRAIT_CUSTOMIZATIONS.path));switch(a){case b("AdsLinkPostFormat").MULTIPLE:return y(e,c,!0);case b("AdsLinkPostFormat").SINGLE:return A(e,c);case b("AdsLinkPostFormat").COLLECTIONS:return C(e,c,d);default:b("FBLogger")("ads").mustfix("Invalid link post fromat: %s",a);return c}}function y(a,c,d){__p&&__p();if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)){c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(b("ApiDynamicCreativeOptimizationAdFormat").CAROUSEL_IMAGE)).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return c}var e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);switch(e){case b("ApiAdObjectTypes").PHOTO:c=k(a,c);break;case b("ApiAdObjectTypes").VIDEO:c=m(a,c);break}e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.OFFER_ID);e&&(c=m(a,c));e=w(c);var f=b("AdsAdgroupSpecUtils").getCallToActionType(c),g=c.adset_id;g=b("AdsPromotedObjectTypeStore").get(g);g=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:c}),promotedObjectType:g});g=g.getUnifiedCreativeAPIFieldMapping(c);var i=c.getIn(g.linkURL);g=b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK;b("isAdsCanvasLink")(i)&&a!==b("AdsAPIObjectives").LEAD_GENERATION&&(c=c.setIn(g,I(c)));var l=b("AdsAdgroupSpecUtils").getEventID(c),n=b("AdsAdgroupSpecUtils").getAppDestination(c),o=b("AdsAdgroupSpecUtils").getWhatsAppNumber(c),p=b("AdsAdgroupSpecUtils").getHeadline(c),r=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID);r||(r=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID));r&&a===b("AdsAPIObjectives").LEAD_GENERATION&&(c=c.setIn(g,i));c=z(c);g=c.id;d=d?b("AdsAdgroupEditorStore").getCachedChildAttachments(g):null;var t=b("AdsAdgroupEditorStore").getCachedCarouselStyle(g)||b("AdsCarouselStyleType").STATIC_CAROUSEL,u=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;c=c.setIn(u,t);u=b("immutable").fromJS(d);t=b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(u==null?void 0:u.toJS());u&&u.size>0?d=u:d=b("AdsChildAttachmentsUtils").getDefaultChildAttachments();d=d.map(function(d){var e=d.getIn(b("AdsAPIChildAttachmentPaths").LINK)||i;b("isAdsCanvasLink")(e)&&a!==b("AdsAPIObjectives").LEAD_GENERATION&&(e=I(c));e?d=d.setIn(b("AdsAPIChildAttachmentPaths").LINK,e):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").LINK);e=d.getIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK);n===b("CallToActionAppDestination").MESSENGER&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").NAME,p||b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()));!f?d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path):(d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,f,d),e&&(d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK,e,d)),r&&(d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID,r,d),a===b("AdsAPIObjectives").LEAD_GENERATION&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,i,d).setIn(b("AdsAPIChildAttachmentPaths").LINK,i))),l&&(d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.EVENT_ID,l,d)),n?d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION,n,d):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION),o?d=s(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER,o,d):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER));return d});c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path)&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CAPTION,b("AdsAdgroupEditorStore").getCachedDisplayURL(c.id)));c=H(c);u=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&!b("AdsLocalUtils").isLocalObjective(a))c=c.deleteIn(u.FORCE_SINGLE_LINK).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,b("ApiObjectStorySpecFormatOption").CAROUSEL_IMAGES_MULTI_ITEMS);else{var v=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(c);b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&(c=c.deleteIn(u.FORCE_SINGLE_LINK));v&&(c=c.setIn(v,d))}e=b("AdsAdgroupSpecUtils").getCallToActionValue(c);e&&(c=h(e,c));if(t){u=b("AdsAdgroupEditorStore").getCachedProductSetID(g);c=j(c).setIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID,u)}c=E(c);c=G(c);c=F(c);c=q(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c);return c}function z(a){__p&&__p();var c=a.creative&&b("AdsCollectionsAdUtils").isCollectionsAd(a.creative.toJS());if(!c)return a;c=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);c=b("AdsPromotedObjectTypeStore").get(c);var d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:b("AdsObjectiveGetter").get({adgroup:a}),promotedObjectType:c}),e=d.getUnifiedCreativeAPIFieldMapping(a);a=a.deleteIn(e.collectionThumbnails).deleteIn(e.retailerItemIDs).deleteIn(e.postClickItemDescription).deleteIn(e.postClickItemHeadline);var f=a.getIn(e.linkURL);b("isAdsCanvasLink")(f)&&(a=a.setIn(e.linkURL,I(a)));if(c===b("AdsPromotedObjectTypes").PRODUCT_SET){f=b("AdsAPIAdgroupRecordUtils").getObjectType(a);f===b("ApiAdObjectTypes").VIDEO&&(a=d.convertVideoToImageSpec(a,new(b("AdsAPIAdgroupTemplateDataRecord"))()));a=j(a)}else a=a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return a}function A(a,c){__p&&__p();if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)){var d=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").getSelectedAccount_LEGACY(),b("AdsAccountCapabilities").CAN_USE_DCO_UI_MIXED_FORMAT);d=d?b("ApiDynamicCreativeOptimizationAdFormat").AUTOMATIC_FORMAT:b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE;c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(d))}d=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;b("AdsAPIAdgroupRecordUtils").isStaticAndDynamicCarouselAd(c)&&(c=n(c));c=z(c);c=H(c);if(b("AdsAPIAdgroupRecordUtils").isCarouselAd(c)){c=s(d,b("AdsCarouselStyleType").NOT_CAROUSEL,c);return D(a,c)}return c}function B(a,c){a=v(t({linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_DESCRIPTION,linkDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(c),videoDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_DESCRIPTION,videoDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(c),templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_DESCRIPTION,templateDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(c)},a),a);a=v(t({linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_HEADLINE,linkDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(c),videoDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_HEADLINE,videoDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(c),templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.POST_CLICK_CONFIGURATION.POST_CLICK_ITEM_HEADLINE,templateDataValue:b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(c)},a),a);return a}function C(a,c,d){__p&&__p();var e=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);e=b("AdsPromotedObjectTypeStore").get(e);var f=b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,g=b("AdsCanvasConstants").EMPTY_CANVAS_LINK,h=b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS,i=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,j=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").getSelectedAccount_LEGACY(),b("AdsAccountCapabilities").HAS_RETAIL_OR_COMMERCE_CATALOG);b("AdsAPIAdgroupRecordUtils").isStaticAndDynamicCarouselAd(c)&&(c=n(c));var m=b("AdsAudienceDirectConfig").accountType,o=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:m,objective:a,promotedObjectType:e}),p=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);p===b("ApiAdObjectTypes").PHOTO&&(c=k(a,c));c=b("AdsXAdgroupCallToActionMutators").deleteCallToActionValueAppDestination(c,o);p=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,o);p!==b("AdsCallToActionTypes").TYPES.LEARN_MORE.name&&(c=b("AdsXAdgroupCallToActionMutators").setCallToActionType(c,b("AdsCallToActionTypes").TYPES.LEARN_MORE.name,o));b("AdsAPIAdgroupRecordUtils").isCarouselAd(c)&&(c=s(i,b("AdsCarouselStyleType").NOT_CAROUSEL,c),c=D(a,c));if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS){p=o.getUnifiedCreativeAPIFieldMapping(c);c=l(c.deleteIn(p.headline).deleteIn(p.linkDescription).deleteIn(p.message))}if(j&&!b("AdsCanvasCollectionsUtils").isCanvasCollectionOnlyObjective(a)){c=c.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPath(c,o),f).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPath(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(d)).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPath(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(d));i=!!b("AdsAPIAdgroupRecordUtils").getOfferID(c,o);p=b("AdsAdgroupCreativePluginResolver").resolve({accountType:m,objective:a,promotedObjectType:e,offerStateType:i?b("AdsOfferState").HAS_OFFER:b("AdsOfferState").NO_OFFER,catalogVertical:b("CatalogVertical").NONE});j=c.adset_id;f=b("AdsCampaignCombinedStore").getRecord(j).getValueEnforcing();d=p.getSupportedCanvasCheckboxMediaFormats({adgroup:c,account:b("AdsAccountStore").getSelectedAccount_LEGACY(),campaign:f},!1).has(b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS);m=d?g:I(c);c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPath(c,o),m)}else c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPath(c,o),g).setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPath(c,o),h);return c}function D(a,c){__p&&__p();var d=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);d=b("AdsPromotedObjectTypeStore").get(d);if(d!==b("AdsPromotedObjectTypes").PRODUCT_SET&&b("AdsWebsiteAdUtils").isWebsiteObjective(a)&&b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)){d=b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING;var e=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING;return c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID).setIn(d.linkURL,c.getIn(e.linkURL)).setIn(d.callToActionType,a?b("AdsCallToActionUtils").getDefaultCallToActionType(a):null).setIn(d.callToActionValue.concat(b("CallToActionValueFields").LINK),c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_URL))}c=u([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_OPTIMIZED,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_OPTIMIZED],c);c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CAPTION);e=b("AdsAdgroupEditorStore").getCachedPlatformCustomizations(c.id)||{};b("forEachObject")(e,function(a,d){b("forEachObject")(a,function(a,e){c=s([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,d,e),a,c)})});c=u([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS],c);if(c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path)){d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);e=b("adsShouldDefaultToSingleVideoSelector")(d);e?c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION,b("ApiObjectStorySpecFormatOption").SINGLE_VIDEO):c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,!0).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORMAT_OPTION);c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CATEGORIZATION_CRITERIA)}d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK);b("isAdsCanvasLink")(d)&&a!==b("AdsAPIObjectives").LEAD_GENERATION&&(c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK,I(c)));e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);b("AdsAdgroupSpecUtils").isVideoObjectType(a,e)&&(c=i(a,c));return c}function E(a){__p&&__p();var c=b("AdsPageIDGetter").get({adgroup:a});c=b("AdsPageGetter").get({pageID:c});c=c.website;if(!c)return a;var d=b("AdsObjectiveGetter").get({adgroup:a}),e=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);e=b("AdsPromotedObjectTypeStore").get(e);if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(d,e))return a;d=b("AdsChildAttachmentsUtils").getInChild(0,b("AdsAPIChildAttachmentPaths").LINK,a);b("AdsChildAttachmentsUtils").hasChildAttachments(a)&&!d&&(a=p(0,b("AdsAPIChildAttachmentPaths").LINK,c,a));e=b("AdsAdgroupSpecUtils").getLink(a);e||(a=o(c,a));return a}function F(a){__p&&__p();var c=b("AdsObjectiveGetter").get({adgroup:a}),d=b("AdsAdgroupSpecUtils").getAppDestination(a);if(c===b("AdsAPIObjectives").LEAD_GENERATION||d===b("CallToActionAppDestination").MESSENGER){a=v(t({appLinkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_END_CARD,appLinkDataValue:!1,linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_END_CARD,linkDataValue:!1,templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_END_CARD,templateDataValue:!1},a),a);return a}if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(c))return a;d=b("AdsAdgroupSpecUtils").getMultiShareEndCard(a);if(d==null){d=b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));c=!b("AdsLocalUtils").isLocalObjective(c)&&!d;a=v(t({appLinkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_END_CARD,appLinkDataValue:c,linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_END_CARD,linkDataValue:c,templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_END_CARD,templateDataValue:c},a),a)}return a}function G(a){__p&&__p();var c=b("AdsObjectiveGetter").get({adgroup:a});if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(c)&&!b("AdsAdgroupSpecUtils").isAppLinkDataEligible(c))return a;var d=w(a);if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(c,d,a))return a;if(b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(c,d))return a;c=b("AdsAdgroupSpecUtils").getMultiShareOptimized(a,c,d);if(c==null){d=!b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));a=v(t({appLinkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_OPTIMIZED,appLinkDataValue:d,linkDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_OPTIMIZED,linkDataValue:d,templateDataPath:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_OPTIMIZED,templateDataValue:d},a),a)}return a}function H(a){a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path)&&(a=a.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CUSTOMIZATION_RULES_SPEC,b("AdsAdgroupEditorStore").getCachedCustomizationRulesSpec(a.id)));return a}function I(a){var c=a.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsPromotedObjectTypeStore").getDispatchToken()]);c=b("AdsPromotedObjectTypeStore").get(c);a=b("AdsObjectiveGetter").get({adgroup:a});a=b("AdsMobileAppObjectivesUtils").isMobileAppObjective(a,c);if(!a)return"";c=b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL)(b("AdsEditingAdgroupEditorContext"));return b("AdsBulkValueUtils").getUniformValue_DEPRECATED(c,"")}c={reduce:a,changeToMultipleLinkPostFormat:y,setLinkPostFormat_UNPURE:x};e.exports=c}),null);
__d("AdsDraftLoadToastCardUtils",["fbt","adsFormatErrorMessage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="draftLoad",i=g._("Unable to load unpublished changes.");a={createToastCardForDraftLoadFailure:function(a,c){var d=i;c=g._("An error prevented your unpublished changes from being loaded. Please reload the page and try again. Error: {error message}",[g._param("error message",b("adsFormatErrorMessage")(c))]);return{id:"draft_load_failure_toast_"+a,cardType:"warning",canDismiss:!0,header:d,bodyText:c,useCase:h,callsToAction:[]}},dismissAllDraftLoadToastCards:function(a){var b=a.filter(function(a){return a.useCase!==h});return b.length!==a.length?b:a},addDraftLoadToastCards:function(a,b){return[].concat(a,b)}};e.exports=a}),null);
__d("AdsDraftFragmentListStore",["AdsAPIAdDraftFragmentFields","AdsBaseListStore","AdsCopyCopyCompletedDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftFragmentListBatchLoadedDataActionFlux","AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux","AdsDraftDraftFragmentListLoadedDataActionFlux","AdsDraftDraftFragmentListLoadErrorDataActionFlux","AdsDraftDraftFragmentListPartialLoadDataActionFlux","AdsDraftFragmentListDataManager","AdsLoadState_LEGACY","FBLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseListStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsDraftFragmentListDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsCopyCopyCompletedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentListBatchLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentListLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentListLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:a.ids.forEach(function(a){return this.__invalidate(a)}.bind(this));break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsDraftFragmentListStore1(a.draftID,a.fragmentIDs);break;case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:b("AdsDraftFragmentListDataManager").loadFor(a.draftID,a.adsApplicationID);break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:a.fragments.forEach(function(a){this.__handleDataFor(a[b("AdsAPIAdDraftFragmentFields").AD_DRAFT_ID],[a])}.bind(this));break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentListStore2(a.fragments);break;case b("AdsDraftDraftFragmentListLoadedDataActionFlux").actionType:this.__invalidate(a.draftID);this.__handleDataFor(a.draftID,a.fragments,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(c,a){this.__invalidate(a),this.__handleDataFor(a,c.data,b("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case b("AdsDraftDraftFragmentListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.draftID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux").actionType:a.errors.forEach(function(c,a){this.__handleDataFor(a,null,b("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.draftID,a.fragments,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsCopyCopyCompletedDataActionFlux").actionType:if(a.responses.length){var c=a.responses[0].draftID,d=a.responses.every(function(a){return a.draftID===c});d||b("FBLogger")("ads").warn("Encountered an unexpected draft ID!");this.__handleDataFor(c,a.fragments)}break}};a.prototype.$AdsDraftFragmentListStore2=function(a){a.forEach(function(a){this.__invalidateChild(a.ad_draft_id,a.id)}.bind(this)),this.__emitChange()};a.prototype.$AdsDraftFragmentListStore1=function(a,b){b&&b.length?b.forEach(function(b){return this.__invalidateChild(a,b)}.bind(this)):(this.__invalidate(a),this.__emitChange())};function a(){g.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsDraftFragmentStoreStateMutators",["invariant","AdDraftFragmentActions","AdsAccountStore","AdsAPIDraftFragmentPaths","AdsDraftFragmentListStore","AdsDraftFragmentRecord","AdsDraftFragmentStore","AdsDraftFragmentStoreStateUtils","AdsDraftSelectionStore","AdsDraftUtils","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsMutatorUtils","AdsRunStatus","FBLogger","LoadObject","getByPath","immutable","partitionArray"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d,e){__p&&__p();for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;var i=h.path;h=h.newValue;h&&h.toJS&&(h=h.toJS());var j=void 0;if(a.action!==b("AdDraftFragmentActions").ADD){var k=d.getCached(a.objectID);if(k.hasValue()){k=k.getValueEnforcing();j=k[i[0]]}}a=a.setPath(i,j,h)}return e?a.set("validate",!1):a.set("validate",!0)}function i(a,c,d){return l(a,Array.from(c.keys()),function(e,f){return h(e,c.get(f),b("AdsDraftFragmentStoreStateUtils").getLiveStore(a),d)})}function a(a,c,d){return l(a,[c],function(c){return h(c,d,b("AdsDraftFragmentStoreStateUtils").getLiveStore(a))})}function j(a,c,d,e){__p&&__p();return l(a,d,function(d){var f;if(d.action!==b("AdDraftFragmentActions").ADD){var g=b("AdsDraftFragmentStoreStateUtils").getLiveStore(a).getCached(d.objectID);if(g.hasValue()){g=g.getValueEnforcing();f=g[c[0]]}}return d.setPath(c,f,e)})}function k(a,c,d){var e=a;e=l(e,c,function(a,c){return b("AdsDraftFragmentStoreStateUtils").isNew(e,c)?a:a.set("values",b("immutable").Map())});e=j(e,d,c,b("AdsRunStatus").ARCHIVED);e=p(e);return e}function c(a,c,d){var e=a;a=b("partitionArray")(c,function(a){return b("AdsDraftFragmentStoreStateUtils").isNew(e,a)});c=a[0];a=a[1];e=k(e,c,d);e=l(e,a,function(a){return a.set("values",b("immutable").Map())});return e}function l(a,c,d){__p&&__p();if(c.length===0)return a;var e=a,f=[],h=b("AdsDraftFragmentStoreStateUtils").fragmentsMapWithMutations(e.fragments,function(a){c.forEach(function(c){var h=b("AdsDraftFragmentStoreStateUtils").get(e,c);h.hasOperation()&&g(0,4520,c,h.getOperation());var i=h.map(function(a){return d(a,c)});b("immutable").is(h,i)||(a.set(c,i),f.push(c))})});if(f.length>0){var i=Date.now(),j=e.dirtyIDs.withMutations(function(a){f.forEach(function(b){return a.set(b,i)})});e=e.merge({fragments:h,dirtyIDs:j})}e.fragments!==a.fragments&&(e=p(e));return e}function d(a){__p&&__p();var c=a,d=b("AdsAccountStore").getSelectedAccountID();if(!d)return c;d=b("AdsDraftSelectionStore").getOrCreateFor(d,a.adsApplicationID);if(d===b("AdsDraftUtils").EMPTY_DRAFT_LOADOBJECT){c=n(c,[]);return c}a=d.hasError();a!==c.draftHasError&&(c=c.set("draftHasError",a));if(d.isLoading()||d.hasError()||!d.value)return c.isLoading?c:c.set("isLoading",!0).set("loadState",b("AdsLoadState_LEGACY").LOADING);a=b("AdsDraftFragmentListStore").getFor(d.value);c=c.set("draftID",d.value);if(a.loadState!==b("AdsLoadState_LEGACY").LOADED)if(c.isLoading)return c;else return c.set("isLoading",!0).set("loadState",b("AdsLoadState_LEGACY").LOADING);c=n(c,a.list);return c}function f(a,c){a=a;var d=a.dirtyIDs,e=b("AdsDraftFragmentStoreStateUtils").fragmentsMapWithMutations(a.fragments,function(a){a.forEach(function(b,e){if(!b||!b.value||c.indexOf(b.value.fragmentID)<0)return;a["delete"](e);d=d.remove(e)})});(a.fragments!==e||a.dirtyIDs!==d)&&(a=a.merge({dirtyIDs:d,fragments:e}),a=p(a));return a}function m(a,c){__p&&__p();a=a;var d=a.dirtyIDs,e=b("AdsDraftFragmentStoreStateUtils").fragmentsMapWithMutations(a.fragments,function(a){a.forEach(function(e,f){if(!e||!e.value||c.indexOf(e.value.fragmentID)<0)return;e=b("AdsDraftFragmentStore").get(e.value.fragmentID);e=b("AdsDraftFragmentRecord").fromAPI(e);d=d.remove(f);a.set(e.objectID,b("LoadObject").empty().setValue(e))})});(a.fragments!==e||a.dirtyIDs!==d)&&(a=a.merge({dirtyIDs:d,fragments:e}),a=p(a));return a}function n(a,c){__p&&__p();var d=a;a=b("AdsDraftFragmentStore").getAll(c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(a))return d.set("isLoading",!0).set("loadState",b("AdsLoadState_LEGACY").LOADING);c=Array.from(a.values());var e=c.filter(function(a){var c=b("getByPath")(a,b("AdsAPIDraftFragmentPaths").AD_OBJECT_TYPE);a=b("getByPath")(a,b("AdsAPIDraftFragmentPaths").AD_DRAFT_ID);return c===b("AdsDraftFragmentStoreStateUtils").getObjectType(d)&&a===b("AdsDraftFragmentStoreStateUtils").getDraftID(d)}),f=d.dirtyIDs;a=b("AdsDraftFragmentStoreStateUtils").fragmentsMapWithMutations(d.fragments,function(a){f=f.withMutations(function(c){e.forEach(function(e){e=b("AdsDraftFragmentRecord").fromAPI(e);var f=e.objectID;d.fragmentAPItoLocalObjectIDMap&&d.fragmentAPItoLocalObjectIDMap.has(f)&&(f=d.fragmentAPItoLocalObjectIDMap.get(f));var g=b("AdsDraftFragmentStoreStateUtils").getRaw(d,f),h=c.get(f);h&&(h<d.lastSyncTime.value()?c.remove(f):(e=e.set("values",g.values),b("FBLogger")("ads").info("Draft fragment for %s %s was modified after the sync completed. This is okay if you are editing the object right now, but if you get this repeatedly, something is probably broken.",d.objectType,f)));a.set(f,b("LoadObject").withValue(e))})})});(d.fragments!==a||d.dirtyIDs!==f||d.isLoading!==!1)&&(d=d.merge({dirtyIDs:f,isLoading:!1,loadState:b("AdsLoadState_LEGACY").LOADED,fragments:a}),d=p(d));return d}function o(a,b){a.hasChangesToApply!==b&&(a=a.set("hasChangesToApply",b));return a}function p(a){__p&&__p();var c=a.fragments.value().filter(function(c){return c.value&&c.value.action===b("AdDraftFragmentActions").ADD&&!(c.value.objectID&&b("AdsDraftFragmentStoreStateUtils").isDeleted(a,c.value.objectID))}).toSet().sort(function(a,b){a=a.getValueEnforcing();b=b.getValueEnforcing();return a.timeCreated===b.timeCreated?a.fragmentID<b.fragmentID?1:-1:a.timeCreated-b.timeCreated}).groupBy(function(a){return a.getValueEnforcing().accountID}).map(function(a){return a.map(function(a){return a.getValueEnforcing().objectID})}),d=a.fragments.value().filter(function(a){return!b("AdsDraftFragmentStoreStateUtils").isFragmentEmpty(a.value)}).groupBy(function(a){return a.getValueEnforcing().accountID});return c!==a.newIDs||d!==a.fragmentsInDraftByAccount?a.merge({newIDs:c,fragmentsInDraftByAccount:d}):a}function q(a,c,d){__p&&__p();var e=a.fragmentAPItoLocalObjectIDMap||b("immutable").Map();c.forEach(function(b){if(b.ad_object_type!==d||e.has(b.ad_object_id))return;a.fragments.value().forEach(function(a){if(!a.isDone()||!a.hasValue())return;a=a.getValueEnforcing();a.fragmentID===b.tempID&&(e=e.set(b.ad_object_id,a.objectID))})});return a.set("fragmentAPItoLocalObjectIDMap",e)}function r(a,c,d){var e=new Map();b("AdsMutatorUtils").applyChanges(c,d,function(a,b){e.set(a,b)});return i(a,e)}e.exports={applyBulkChanges:i,applyChanges:a,applyChangesFromAdObjectsMutation:r,setPath:j,delete_:k,revert:c,mutateFragments:l,initDraft:d,deleteFragments:f,revertFragments:m,updateFragments:n,setHasChangesToApply:o,updateComputedValues:p,updateFragmentAPItoLocalObjectIDMap:q}}),null);
__d("AdsAdgroupStoreUtils",["Promise","AdsAdgroupCombinedListStore","AdsAdgroupCombinedStore","AdsSelectedAccountIDGetter","AdsStoreUtils","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={loadAdgroupsInCampaigns:function(a){var c=b("AdsSelectedAccountIDGetter").get({});if(c==null||c==="")return b("Promise").resolve(new Map());var d=[];return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsAdgroupCombinedListStore"),function(){return b("AdsAdgroupCombinedListStore").getForCampaigns(c,a)}).then(function(a){d=b("AdsStoreUtils").flattenLists(a);return b("promiseStoreGet").all(b("AdsAdgroupCombinedStore"),function(){return b("AdsAdgroupCombinedStore").getAll(d)})})},loadAdgroupIDsInCampaigns:function(a){return g.loadAdgroupsInCampaigns(a).then(function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b})},loadAdgroupIDsInCampaignGroups:function(a){var c=b("AdsSelectedAccountIDGetter").get({});return c==null||c===""?b("Promise").resolve([]):b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsAdgroupCombinedListStore"),function(){return b("AdsAdgroupCombinedListStore").getForCampaignGroups(c,a)}).then(function(a){return b("AdsStoreUtils").flattenLists(a)})}};e.exports=g}),null);
__d("AdsCampaignStoreUtils",["Promise","AdsCampaignCombinedListStore","AdsCampaignCombinedStore","AdsSelectedAccountIDGetter","AdsStoreUtils","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={loadCampaignsInCampaignGroups:function(a){return g.loadCampaignIDsInCampaignGroups(a).then(function(a){return b("promiseStoreGet").all(b("AdsCampaignCombinedStore"),function(){return b("AdsCampaignCombinedStore").getAll(a)})})},loadCampaignIDsInCampaignGroups:function(a){var c=b("AdsSelectedAccountIDGetter").get({});return c==null||c===""?b("Promise").resolve([]):b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsCampaignCombinedListStore"),function(){return b("AdsCampaignCombinedListStore").getForCampaignGroups(c,a)}).then(function(a){return b("AdsStoreUtils").flattenLists(a)})}};e.exports=g}),null);
__d("AdsAdgroupDraftFragmentHelpers",["AdsAdgroupImageMutators","AdsAdgroupLiveStore","AdsAPIAdgroupPaths","AdsMutators","AdsObjectStorySpecUtils","AdsRunStatus","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach,h=b("AdsMutators").setIn;function i(a,b){var c=b.id;if(!a.has(c)||!a.get(c).hasValue())return!1;a=a.get(c).getValue();if(!a)return!1;c=a.creative;a=b.creative;return c===a?!1:!0}a={_removeObjectStoryID:function(a){if(b("gkx")("677964"))return a;var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID);return!c?a:h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,null,a)},_removeInstagramStoryID:function(a,c){var d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID);return!b("gkx")("677965")||d||c?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID):a},setViewTagsDefaultValueIfEmpty:function(a,c){__p&&__p();return g(c,c.keys(),function(c){__p&&__p();var d=c.id;if(!a.has(d)||!a.get(d).hasValue())return c;var e=a.get(d).getValue().view_tags,f=c.view_tags;if(e===f)return c;if(f==null){e=b("AdsAdgroupLiveStore").getCached(d).getValue();var g;e&&(g=e.view_tags);f=Array.isArray(g)?[]:null;c=h(b("AdsAPIAdgroupPaths").VIEW_TAGS,f,c)}return c})},removeRedundantImageURL:function(a,c){return a===c?c:g(c,c.keys(),function(c){return i(a,c)?b("AdsAdgroupImageMutators").removeRedundantImageURL(c):c})},removeRedundantObjectStorySpecFields:function(a,c){__p&&__p();return g(c,c.keys(),function(c){__p&&__p();if(!i(a,c))return c;var d=b("AdsObjectStorySpecUtils").hasPageID(c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path));c=this._removeInstagramStoryID(c,d);if(!d)return c;d=c.id;d=b("AdsAdgroupLiveStore").getCached(d).getValue();if(c.status===b("AdsRunStatus").ARCHIVED&&d&&d.status===b("AdsRunStatus").ARCHIVED)return c;c=this._removeObjectStoryID(c);return c}.bind(this))},removeRedundantAssetFeedSpecFields:function(a,c){return g(c,c.keys(),function(c){if(!i(a,c))return c;var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID);return d?h(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID,null,c):c})},removeStaleCreativeID:function(a,c){return g(c,c.keys(),function(c){if(!i(a,c))return c;var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.CREATIVE_ID);return d?c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CREATIVE_ID):c})}};e.exports=a}),null);
__d("AdsPayloadUtils",["AdsIterativeSplitTestStoreUtils","firstx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsIterativeSplitTestStoreUtils").getAllCampaignIDsFromPayload,h=b("AdsIterativeSplitTestStoreUtils").shouldCreateIterativeSplitTest;function i(a){__p&&__p();if(!a)return[];if(a.id!=null)return[a.id];if(a.key!=null)return[a.key];if(Array.isArray(a.ids)&&a.ids.length>0)return a.ids;if(Array.isArray(a.keys)&&a.keys.length>0)return a.keys;a=a.action;if(!a)return[];if(a.id!=null)return[a.id];if(a.key!=null)return[a.key];if(Array.isArray(a.ids)&&a.ids.length>0)return a.ids;return Array.isArray(a.keys)&&a.keys.length>0?a.keys:null}a={getAdgroupIDsFromPayload_DO_NOT_USE:function(a){__p&&__p();var b=i(a);if(b)return b;b=a.action;if(b){if(Array.isArray(b.adgroupIDs)&&b.adgroupIDs.length>0)return b.adgroupIDs;if(b.data&&Array.isArray(b.data.adgroupIDs)&&b.data.adgroupIDs.length>0)return b.data.adgroupIDs;if(b.responses&&Array.isArray(b.responses)&&b.responses.length>0){var c=[];b.responses.forEach(function(a){return c=c.concat(a.ids)});return c}}return[]},getCampaignIDsFromPayload_DO_NOT_USE:function(a){__p&&__p();var b=i(a);if(b)return b;b=a.action;if(b){if(Array.isArray(b.campaignIDs)&&b.campaignIDs.length>0)return b.campaignIDs;if(b.data&&Array.isArray(b.data.campaignIDs)&&b.data.campaignIDs.length>0)return b.data.campaignIDs;if(Array.isArray(b.responses)&&h(b.responses)){a=g(b.responses,b.fragments);b=a.originalCampaignID;a=a.cloneCampaignIDs;return[b].concat(a)}}return[]},getCampaignGroupIDsFromPayload_DO_NOT_USE:function(a){__p&&__p();var c=i(a);if(c)return c;c=a.action;if(c){if(Array.isArray(c.campaignGroupIDs)&&c.campaignGroupIDs.length>0)return c.campaignGroupIDs;if(c.data&&Array.isArray(c.data.campaignGroupIDs)&&c.data.campaignGroupIDs.length>0)return c.data.campaignGroupIDs;if(Array.isArray(c.responses)&&h(c.responses)){a=b("firstx")(c.responses).extraData;a=(c=a)!=null?(c=c.iterativeSplitTestCreationData)!=null?c.campaignGroupID:c:c;return a?[a]:[]}}return[]}};e.exports=a}),null);
__d("adsIsCampaignGroupBudgetsBetaEnabledSelector",["AdsAccountCapabilities","AdsAccountStore","AdsAccountUtils","AdsDeliveryTradeoffsQESelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDeliveryTradeoffsQESelectors").canShowL3BudgetSelector;c=b("adsCreateSelector")([a,b("AdsAccountStore").getSelectedAccount_LEGACY],function(a,c){return b("AdsAccountUtils").hasCapability(c,b("AdsAccountCapabilities").HAS_USED_L3_BUDGET)||a},{name:e.id+".adsIsCampaignGroupBudgetsBetaEnabledSelector"});e.exports=c}),null);
__d("AdsCampaignAppMutators",["AdsAPICampaignPaths","AdsCampaignClearAppDataActionFlux","AdsMutators","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.action;switch(c.type){case b("AdsCampaignClearAppDataActionFlux").actionType:return b("AdsMutators").mutateEach(a,c.campaignIDs,function(a){return a.deleteIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.APPLICATION_ID).deleteIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL).deleteIn(b("AdsAPICampaignPaths").TARGETING.USER_OS).deleteIn(b("AdsAPICampaignPaths").TARGETING.USER_DEVICE).deleteIn(b("AdsAPICampaignPaths").TARGETING.APP_INSTALL_STATE).deleteIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_EVENT_TYPE)});default:return a}}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignIterativeSplitTestMutators",["AdsAPIAdCampaignFields","AdsAPICampaignPaths","AdsCampaignUtils","AdsCopyCopyCompletedDataActionFlux","AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux","AdsIterativeSplitTestSetBudgetsDataActionFlux","AdsIterativeSplitTestSetEndTimeDataActionFlux","AdsIterativeSplitTestStoreUtils","AdsMutators","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsIterativeSplitTestStoreUtils").getIterativeSplitTestCreationPayload,h=b("AdsMutators").mutateEach,i=b("AdsMutators").setIn;b("immutable").Map;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsIterativeSplitTestSetBudgetsDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return k(a,d.budgets.get(a.id))});case b("AdsIterativeSplitTestSetEndTimeDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return i(b("AdsAPICampaignPaths").END_TIME,d.endTime,a)});case b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return j(a,d.newBudgetsByCampaignID.get(a.id),d.newStatusByCampaignID.get(a.id))});case b("AdsCopyCopyCompletedDataActionFlux").actionType:var e=g(d.responses,d.fragments);if(e){c=e.bulkChangesByCampaignID.keys();return h(a,c,function(a){return a.set(b("AdsAPIAdCampaignFields").ITERATIVE_SPLIT_TEST_CONFIG_ID,e.iterativeSplitTestConfigSpec.id)})}return a;default:return a}}function j(a,c,d){c&&(a=k(a,c));d&&(a=i(b("AdsAPICampaignPaths").STATUS,d,a));return a}function k(a,c){var d=b("AdsCampaignUtils").isLifetimeBudget(a);return a.merge((a={},a[b("AdsAPIAdCampaignFields").LIFETIME_BUDGET]=d?c:0,a[b("AdsAPIAdCampaignFields").DAILY_BUDGET]=d?0:c,a))}e.exports={reduce:a}}),null);
__d("AdsCampaignMutatorUtils",["AdsAPIAccountPaths","AdsAPIBidStrategies","AdsAPIBillingEvents","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignBudgetPluginResolver","AdsCampaignUtils","AdsPromotedObjectTypes","AdsSelectedAccountGetter","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){return c!==b("AdsAPIObjectives").MESSAGES?d:d.withMutations(function(a){a.setIn(b("AdsAPICampaignPaths").IS_AUTOBID,!0),a.setIn(b("AdsAPICampaignPaths").BILLING_EVENT,b("AdsAPIBillingEvents").IMPRESSIONS),a.setIn(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,b("AdsAPIOptimizationGoals").REPLIES),b("AdsCampaignUtils").isCampaignGroupBudget(a)||a.setIn(b("AdsAPICampaignPaths").BID_STRATEGY,b("AdsAPIBidStrategies").LOWEST_COST_WITHOUT_CAP),a.deleteIn(b("AdsAPICampaignPaths").BID_AMOUNT)})}function c(a,c){return c.deleteIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID)}function d(a){var c=b("AdsSelectedAccountGetter").get({});c=b("getByPath")(c,b("AdsAPIAccountPaths").BUSINESS_COUNTRY_CODE);return!c||b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.COUNTRIES)?a:a.setIn(b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.COUNTRIES,[c])}function f(a){var c=b("AdsSelectedAccountGetter").get({}),d=b("getByPath")(c,b("AdsAPIAccountPaths").CURRENCY);c=b("getByPath")(c,b("AdsAPIAccountPaths").TIMEZONE_OFFSET_HOURS_UTC);var e=b("AdsCampaignUtils").getDefaultStartDate();a=a.setIn(b("AdsAPICampaignPaths").START_TIME,b("AdsCampaignUtils").getISODateTimeString(e,c)).deleteIn(b("AdsAPICampaignPaths").END_TIME);if(b("AdsCampaignUtils").isCampaignGroupBudget(a))return a;e=b("AdsCampaignUtils").getDefaultDailyBudget(d,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}),null,null,!1);return a.setIn(b("AdsAPICampaignPaths").DAILY_BUDGET,e).setIn(b("AdsAPICampaignPaths").LIFETIME_BUDGET,0)}e.exports={setOptimizationForMessengerPromotedObject:a,removePromotedObjectPageID:c,setCountryForMessengerPromotedObject:d,setDefaultBudgetForMessengerPromotedObject:f}}),null);
__d("AdsDynamicAudienceIDsCacheStore",["AdsAPICampaignPaths","AdsCampaignCombinedStore","AdsDataAtom","AdsDynamicTargetingCategories","AdsUEditorCampaignSetDynamicTargetingCategoryActionFlux","AdsUEditorHostIDs","AdsUEditorUtils","FluxReduceStore","getByPath","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom"))}a.prototype.getInitialState=function(){return b("immutable").Map()};a.prototype.__getActionTypes=function(){return h?[b("AdsUEditorCampaignSetDynamicTargetingCategoryActionFlux").actionType]:null};a.prototype.reduce=function(a,c){var d=c.action;switch(d.type){case b("AdsUEditorCampaignSetDynamicTargetingCategoryActionFlux").actionType:return!b("AdsUEditorUtils").shouldHostHandleAction(d,b("AdsUEditorHostIDs").CREATION)&&d.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING?a.withMutations(function(a){return d.ids.forEach(function(c){var d=b("AdsCampaignCombinedStore").get(c).getValue();a.set(c,b("getByPath")(d,b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS))})}):a}return a};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsCampaignMutators",["AdCampaignDestination","AdsAPIAccountPaths","AdsAPIBidStrategies","AdsAPICampaignPaths","AdsAPIOptimizationGoals","AdsBulkEditUtils","AdsCampaignBudgetMutationUtils","AdsCampaignBulkEditApplyChangesDataActionFlux","AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupCombinedStore","AdsCampaignGroupSetObjectivesDataActionFlux","AdsCampaignInstantPublishBidFieldActionFlux","AdsCampaignInstantPublishBudgetFieldActionFlux","AdsCampaignInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishScheduleFieldActionFlux","AdsCampaignMutatorUtils","AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux","AdsCampaignReplaceInDataActionFlux","AdsCampaignResetOptimizationGoalToReachDataActionFlux","AdsCampaignSetBidStrategyDataActionFlux","AdsCampaignSetBudgetDataActionFlux","AdsCampaignSetMessengerPromotedObjectTypeDataActionFlux","AdsCampaignSetNamesDataActionFlux","AdsCampaignSetStartTimeDataActionFlux","AdsCampaignUpdatePageTypeBidAdjustmentsDataActionFlux","AdsCampaignUtils","AdsCostStrategyUtils","AdsDataAtom","AdsDynamicAudienceIDsCacheStore","AdsDynamicTargetingCategories","AdsMutators","AdsNavigateMessengerPromotedObjectDataActionFlux","AdsPromotedObjectTypes","AdsPromotedObjectTypeUiSetTypeDataActionFlux","AdsRegexp","AdsSelectedAccountGetter","AdsSetMessengerPromotedObjectSource","AdsUEditorCampaignMutators","AdsUEditorCampaignSetDynamicTargetingCategoryActionFlux","AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux","AdsUEditorCampaignWhatsAppMutators","AdsUEditorHostIDs","AdsUEditorUtils","DateTime","DayPartingUtils","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCampaignBudgetMutationUtils").setBudget,h=b("AdsMutators").chain,i=b("AdsMutators").deleteIn,j=b("AdsMutators").mutateEach,k=b("AdsMutators").setIn,l=b("AdsRegexp").getReplacedText;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCampaignReplaceInDataActionFlux").actionType:var e=d.path,f=d.toFind,q=d.replaceWith;return j(a,d.ids,function(a){return a.updateIn(e,function(a){return a&&l(a,f,q,"ig")})});case b("AdsCampaignInstantPublishBudgetFieldActionFlux").actionType:case b("AdsCampaignSetBudgetDataActionFlux").actionType:var v=d.dailyBudget,w=d.lifetimeBudget,x=d.isCorporate;return j(a,d.ids,function(a){return v||w?g(v,w,x,a,n(a)):a});case b("AdsCampaignResetOptimizationGoalToReachDataActionFlux").actionType:return j(a,d.ids,function(a){return k(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,b("AdsAPIOptimizationGoals").REACH,a)});case b("AdsNavigateMessengerPromotedObjectDataActionFlux").actionType:case b("AdsCampaignSetMessengerPromotedObjectTypeDataActionFlux").actionType:return j(a,d.campaignIDs,h(function(a){return a.setIn(b("AdsAPICampaignPaths").DESTINATION_TYPE,b("AdCampaignDestination").MESSENGER)},function(a){return b("AdsCampaignMutatorUtils").setOptimizationForMessengerPromotedObject(d.eligibilityInformation.capabilities,d.eligibilityInformation.objective,a)},function(a){return b("AdsCampaignMutatorUtils").removePromotedObjectPageID(d.eligibilityInformation.capabilities,a)},function(a){return b("AdsCampaignMutatorUtils").setCountryForMessengerPromotedObject(a)},function(a){return d.eventSource!==b("AdsSetMessengerPromotedObjectSource").SELECT_CLICK_TO_MESSENGER_IN_PE?a:a.withMutations(function(a){b("AdsCampaignMutatorUtils").setDefaultBudgetForMessengerPromotedObject(a),b("AdsUEditorCampaignWhatsAppMutators").resetPacing(!1,a)})}));case b("AdsCampaignSetNamesDataActionFlux").actionType:var y=d.idToNameMap;return j(a,y.keys(),function(a){return k(b("AdsAPICampaignPaths").NAME,y.get(a.id),a)});case b("AdsCampaignSetStartTimeDataActionFlux").actionType:var z=d.startTime;return j(a,d.ids,function(a){return p(z,a)});case b("AdsCampaignUpdatePageTypeBidAdjustmentsDataActionFlux").actionType:var A=d.value,B=d.pageType;return j(a,d.ids,function(a){return o(A,B,a)});case b("AdsUEditorCampaignSetDynamicTargetingCategoryActionFlux").actionType:if(!b("AdsUEditorUtils").shouldHostHandleAction(d,b("AdsUEditorHostIDs").CREATION)){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsDynamicAudienceIDsCacheStore").getDispatchToken()]);return j(a,d.ids,function(a){return m(d.targetingCategory,a)})}return a;case b("AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux").actionType:return j(a,d.campaignIDs,h(function(a){return b("AdsUEditorCampaignMutators").updateConversionWindowLength(a,d.objective,b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET)},function(a){return b("AdsUEditorCampaignMutators").updateOptimizationGoal(a,d.objective,b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET)},function(a){return k(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,!1,a)}));case b("AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux").actionType:return j(a,d.campaignIDs,h(function(a){return b("AdsUEditorCampaignMutators").updateConversionWindowLength(a,d.objective,b("AdsPromotedObjectTypes").PLACE_PAGE_SET_ID)},function(a){return b("AdsUEditorCampaignMutators").updateOptimizationGoal(a,d.objective,b("AdsPromotedObjectTypes").PLACE_PAGE_SET_ID)},function(a){return i(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OFFLINE_CONVERSION_DATA_SET_ID,a)},function(a){return i(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_EVENT_TYPE,a)},function(a){return i(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,a)}));case b("AdsPromotedObjectTypeUiSetTypeDataActionFlux").actionType:var C=d.promotedObjectType,D=d.objective;return j(a,d.campaignIDs,h(function(a){return b("AdsUEditorCampaignMutators").updateConversionWindowLength(a,D,C)},function(a){return b("AdsUEditorCampaignMutators").updateOptimizationGoal(a,D,C)}));case b("AdsCampaignGroupSetObjectivesDataActionFlux").actionType:return u(a,d.campaignIDs,d.newCampaigns);case b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignBulkEditApplyChangesDataActionFlux").actionType:c=d.ids;var E=d.changedCampaignsMap;return j(a,c,function(a){var c=E.get(a.getIn(b("AdsAPICampaignPaths").ID));return b("AdsBulkEditUtils").postProcessChangedCampaign(a,c)});case b("AdsCampaignInstantPublishNameFieldActionFlux").actionType:var F=d.name;return j(a,d.ids,function(a){return k(b("AdsAPICampaignPaths").NAME,F,a)});case b("AdsCampaignInstantPublishBidFieldActionFlux").actionType:c=d.ids;var G=d.bidAmount;return j(a,c,function(a){return k(b("AdsAPICampaignPaths").BID_AMOUNT,G,a)});case b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType:var H=d.startTime,I=d.endTime;return j(a,d.ids,function(a){return r(H,I,a)});case b("AdsCampaignSetBidStrategyDataActionFlux").actionType:c=d.ids;var J=d.bidStrategy;return j(a,c,h(function(a){return s(J,a)},function(a){return t(J,a)}));case b("AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux").actionType:c=d.ids;var K=d.offlineOptimizationObject;return j(a,c,function(a){var c=a.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID);return a.deleteIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path,a).setIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_EVENT_TYPE,K.custom_event_type).setIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OFFLINE_CONVERSION_DATA_SET_ID,K.offline_conversion_data_set_id).setIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID,c)});default:return a}}function m(a,c){if(a===b("AdsDynamicTargetingCategories").PROSPECTING)return c.deleteIn(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS);else if(a===b("AdsDynamicTargetingCategories").RETARGETING){a=b("AdsCampaignUtils").getID(c);a=b("AdsDynamicAudienceIDsCacheStore").getState().get(a);return c.setIn(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS,a)}return c}function n(a){a=b("getByPath")(a,b("AdsAPICampaignPaths").CAMPAIGN_ID);return b("AdsCampaignGroupCombinedStore").getCached(a)}function o(a,c,d){return a!=null&&a!==0?k(b("AdsAPICampaignPaths").BID_ADJUSTMENTS.PAGE_TYPES[c],a,d):i(b("AdsAPICampaignPaths").BID_ADJUSTMENTS.PAGE_TYPES[c],d)}function p(a,c){var d=null;if(a){var e=b("getByPath")(b("AdsSelectedAccountGetter").get({}),b("AdsAPIAccountPaths").TIMEZONE_ID);d=b("DateTime").create(a,e).toISOString()}return k(b("AdsAPICampaignPaths").START_TIME,d,c)}function q(a,c){var d=null;if(a){var e=b("getByPath")(b("AdsSelectedAccountGetter").get({}),b("AdsAPIAccountPaths").TIMEZONE_ID);d=b("DateTime").create(a,e).toISOString()}return k(b("AdsAPICampaignPaths").END_TIME,d,c)}function r(a,b,c){var d=c;a!=null&&a!==0&&(d=p(a,c));b!=null&&b!==0&&(d=q(b,c));return d}function s(a,c){var d=b("AdsCostStrategyUtils").getBidLegacyFieldsValueByBidStrategy(a),e=d.MappedIsAutobid;d=d.MappedIsAveragePricePacing;return c.setIn(b("AdsAPICampaignPaths").BID_STRATEGY,a).setIn(b("AdsAPICampaignPaths").IS_AUTOBID,e).setIn(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,d)}function t(a,c){var d=c[b("AdsAPICampaignPaths").PACING_TYPE];return a!==b("AdsAPIBidStrategies").LOWEST_COST_WITH_BID_CAP?c.setIn(b("DayPartingUtils").setPacingType(Array.isArray(d)?d.slice():[],!1,!1)):c}function u(a,c,d){return j(a,c,function(a,c){return b("nullthrows")(d.get(c))})}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignPlacementMutators",["AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPICampaignPaths","AdsAPIDevicePlatform","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAPITargetFields","AdsAppUtils","AdsCampaignPlacementAddDataActionFlux","AdsCampaignPlacementApplyDefaultsDataActionFlux","AdsCampaignPlacementRemoveDataActionFlux","AdsCampaignPlacementResetDataActionFlux","AdsCampaignPlacementSetDataActionFlux","AdsCampaignPlacementSetFromAPISpecDataActionFlux","AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux","AdsCampaignSetBlockListsDataActionFlux","AdsCampaignSetDevicePlatformDataActionFlux","AdsCampaignSetDeviceTypeDataActionFlux","AdsCampaignSetExcludedCategoriesDataActionFlux","AdsCampaignSetExcludedGranularDevicesDataActionFlux","AdsCampaignSetGranularDevicesDataActionFlux","AdsCampaignSetMaxOsVersionDataActionFlux","AdsCampaignSetMessengerPromotedObjectTypeDataActionFlux","AdsCampaignSetMinOsVersionDataActionFlux","AdsCampaignSetPublisherVisibilityCategoriesDataActionFlux","AdsCampaignSetTargetingDirectInstallDataActionFlux","AdsCampaignToggleWifiOnlyDataActionFlux","AdsMutators","AdsNavigateMessengerPromotedObjectDataActionFlux","AdsPlacementAPISpecReaderUtils","AdsPlacementAPISpecWriterUtils","AdsPlacementPluginList","AdsPlacementReducerUtils","AdsPlacementUIUtils","AdsPlacementUtils","AdsPlannerChangePlannerLocalEventDataActionFlux","AdsReachFrequencyCreativeFormatUtils","AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux","AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux","AdsReachFrequencyFlowChangeAdFormatsVideoAspectRatioActionFlux","AdsReachFrequencyFlowChangeAdFormatsVideoDurationActionFlux","AdsReachFrequencyFlowChangeEventActionFlux","AdsReachFrequencyFlowRemoveVideoAdFormatActionFlux","AdsReachFrequencyOptimization","AdsUEditorCampaignPlacementResetMixedDataActionFlux","AdsUserOSUtils","AdsWirelessCarriers","AppAdsConfig","FBLogger","RFPredictionAdFormatsTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsReachFrequencyOptimization").EVENTS,h=b("AdsPlacementAPISpecWriterUtils").addGroup,i=b("AdsPlacementAPISpecWriterUtils").createMutator,j=b("AdsPlacementAPISpecWriterUtils").recomputePublisherPlatform,k=b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement,l=b("AdsMutators").mutateEach;a={reduce:function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCampaignSetDevicePlatformDataActionFlux").actionType:var e=d.eligibilityInformation,f=d.value;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setDevicePlatform(a,f,e))});case b("AdsCampaignSetDeviceTypeDataActionFlux").actionType:var g=d.value;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setMobileDeviceType(a,g))});case b("AdsCampaignSetTargetingDirectInstallDataActionFlux").actionType:var h=d.value;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(v(a,h))});case b("AdsCampaignSetGranularDevicesDataActionFlux").actionType:var i=d.addedDevices,j=d.removedDevices;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(t(a,i,j))});case b("AdsCampaignSetExcludedGranularDevicesDataActionFlux").actionType:var k=d.addedDevices,o=d.removedDevices;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(u(a,k,o))});case b("AdsCampaignSetMaxOsVersionDataActionFlux").actionType:var p=d.value;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(w(a,p))});case b("AdsCampaignSetMinOsVersionDataActionFlux").actionType:var q=d.value;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(x(a,q))});case b("AdsCampaignToggleWifiOnlyDataActionFlux").actionType:return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(y(a,d.isWifiEnabled))});case b("AdsCampaignSetExcludedCategoriesDataActionFlux").actionType:var B=d.category,C=d.value;return l(a,d.ids,function(a){var c=(a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES)||b("immutable").List()).toSet();c=C?c.add(B):c.remove(B);return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setExcludedCategories(a,c))});case b("AdsCampaignSetBlockListsDataActionFlux").actionType:var D=d.blockListIDs;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(z(a,D))});case b("AdsCampaignSetPublisherVisibilityCategoriesDataActionFlux").actionType:var E=d.visibilityCategories;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(A(a,E))});case b("AdsCampaignPlacementAddDataActionFlux").actionType:var F=d.eligibilityInformation;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(m(a,F,d.pluginKey))});case b("AdsCampaignPlacementRemoveDataActionFlux").actionType:var G=d.eligibilityInformation;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(n(a,G))});case b("AdsNavigateMessengerPromotedObjectDataActionFlux").actionType:case b("AdsCampaignSetMessengerPromotedObjectTypeDataActionFlux").actionType:return l(a,d.campaignIDs,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,d.eligibilityInformation)});case b("AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux").actionType:return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,d.eligibilityInformation)});case b("AdsUEditorCampaignPlacementResetMixedDataActionFlux").actionType:case b("AdsCampaignPlacementResetDataActionFlux").actionType:var H=d.eligibilityInformation;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,H)});case b("AdsCampaignPlacementSetFromAPISpecDataActionFlux").actionType:var I=d.placementAPISpec;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement(a,I))});case b("AdsCampaignPlacementSetDataActionFlux").actionType:var J=d.eligibilityInformation;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(s(a,J))});case b("AdsCampaignPlacementApplyDefaultsDataActionFlux").actionType:var K=d.eligibilityInformationMap;return l(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(r(a,K.get(a.id)))});default:return a}}};function m(a,c,d){b("AdsAccountUtils").hasCapabilityFromList(c.capabilities,b("AdsAccountCapabilities").CAN_USE_IG_IGTV_POSITION)&&!b("AdsAccountUtils").hasCapabilityFromList(c.capabilities,b("AdsAccountCapabilities").CAN_USE_IG_IGTV_POSITION_PO)&&(d==="instagram/igtv"?a=b("AdsPlacementAPISpecWriterUtils").removeAllPlacementsExceptOneInCampaign(a,c,d,b("AdsAPITargetFields").INSTAGRAM_POSITIONS,b("AdsAPIPublisherPlatform").INSTAGRAM):a=b("AdsPlacementAPISpecWriterUtils").removeInstagramIgtvGroup(a,c));return b("AdsPlacementAPISpecWriterUtils").resetDevicesIfIneligible(a,c,!1)}function n(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS),e=a.getIn(b("AdsAPICampaignPaths").TARGETING.FACEBOOK_POSITIONS),f=a.getIn(b("AdsAPICampaignPaths").TARGETING.INSTAGRAM_POSITIONS),g=a.getIn(b("AdsAPICampaignPaths").TARGETING.MESSENGER_POSITIONS),h=a.getIn(b("AdsAPICampaignPaths").TARGETING.AUDIENCE_NETWORK_POSITIONS),i=a.getIn(b("AdsAPICampaignPaths").TARGETING.WHATSAPP_POSITIONS),j=babelHelpers["extends"]({},c,{spec:{publisher_platforms:d?d.toJS():[],facebook_positions:e?e.toJS():[],instagram_positions:f?f.toJS():[],messenger_positions:g?g.toJS():[],audience_network_positions:h?h.toJS():[],whatsapp_positions:i?i.toJS():[],device_platforms:[b("AdsAPIDevicePlatform").MOBILE]}});d=b("AdsPlacementPluginList").getPositions(c).some(function(a){return a.isActive(j.spec)&&!a.getIneligibilityReason(j)});d||(a=b("AdsPlacementReducerUtils").clearUpMobileSettings(a));a=s(a,c);return a}function o(a){var c=a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES),d=a;c&&(d=a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES,c.toSet().remove("dating").remove("gambling").toList()));return d}function p(a){a;a=a.deleteIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES);return a}function q(a){a;a=a.deleteIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_VISIBILITY_CATEGORIES);return a}function r(a,c){c=b("AdsPlacementUtils").getDefaultCampaignPlacement(babelHelpers["extends"]({},c));return k(a,c)}function s(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS),e=a.getIn(b("AdsAPICampaignPaths").TARGETING.FACEBOOK_POSITIONS);c=babelHelpers["extends"]({},c,{spec:babelHelpers["extends"]({},c.spec,{publisher_platforms:d?d.toJS():[],facebook_positions:e?e.toJS():[]})});d=b("AdsPlacementAPISpecReaderUtils").isActiveFacebookPosition(c.spec,b("AdsAPIFacebookPosition").INSTREAM_VIDEO);e=b("AdsPlacementAPISpecReaderUtils").isActivePublisherPlatform(c.spec,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK);var f=b("AdsPlacementAPISpecReaderUtils").isActiveFacebookPosition(c.spec,b("AdsAPIFacebookPosition").INSTANT_ARTICLE);!e&&!f&&(a=o(a),d||(a=p(a)));b("AdsPlacementAPISpecReaderUtils").isActivePublisherPlatform(c.spec,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)||(a=q(a));return a}function t(a,c,d){var e=b("immutable").Set(a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_DEVICE));if(e.isEmpty()&&!(c.isEmpty()&&d.isEmpty())){var f=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec(a),g=!!a.getIn(b("AdsAPICampaignPaths").TARGETING.DIRECT_INSTALL_DEVICES);f=b("AdsPlacementUIUtils").getDeviceType(f,g);e=b("immutable").Set(b("AdsAppUtils").getSupportedDevicesByDeviceType(f))}g=e.subtract(d).union(c);return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_DEVICE,b("immutable").List(g))}function u(a,c,d){var e=b("immutable").Set(a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_USER_DEVICE));e=e.subtract(d).union(c);return a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_USER_DEVICE,b("immutable").List(e))}function v(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.DIRECT_INSTALL_DEVICES,c)}function w(a,c){__p&&__p();var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_OS);if(!d||d.size!==1){b("FBLogger")("ads").mustfix("Trying to set max version when device type is not defined or more than one is defined");return a}d=b("AdsUserOSUtils").splitUserOS(d.toJS()[0]);var e=d.min_version;if(!e){var f=b("AppAdsConfig").mobileOsVersionNames[d.os];if(!f){b("FBLogger")("ads").mustfix("Trying to set max version but versions couldn't be computed");return a}e=Object.keys(f)[0]}return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_OS,b("immutable").List([b("AdsUserOSUtils").toUserOSString(d.os||"",e,c)]))}function x(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_OS);if(!d||d.size!==1){b("FBLogger")("ads").mustfix("Trying to set min version when device type is not defined or more than one is defined");return a}d=b("AdsUserOSUtils").splitUserOS(d.toJS()[0]);return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_OS,d.os==null?b("immutable").List([null]):b("immutable").List([b("AdsUserOSUtils").toUserOSString(d.os,c,d.max_version)]))}function y(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.WIRELESS_CARRIER,c?b("immutable").List([b("AdsWirelessCarriers").WIFI]):b("immutable").List())}function z(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_LIST_IDS,b("immutable").List(c))}function A(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_VISIBILITY_CATEGORIES,b("immutable").List(c))}function B(a,c){__p&&__p();var d=a.action;if(!d.type||d.type!==b("AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux").actionType||d.isChecked!==!0)return c;if(d.adFormatType===b("RFPredictionAdFormatsTypes").SPHERICAL_IMAGE||d.adFormatType===b("RFPredictionAdFormatsTypes").SPHERICAL_VIDEO)return l(c,d.ids,function(a){return h(a,"facebook/feed",d.eligibilityInformation,b("AdsAPITargetFields").FACEBOOK_POSITIONS,b("AdsAPIPublisherPlatform").FACEBOOK)});else if(d.adFormatType===b("RFPredictionAdFormatsTypes").STORIES_CAROUSEL)return l(c,d.ids,function(a){return h(a,"instagram/story",d.eligibilityInformation,b("AdsAPITargetFields").INSTAGRAM_POSITIONS,b("AdsAPIPublisherPlatform").INSTAGRAM)});return c}c=b("immutable").List([]);c=c.concat(b("AdsPlacementPluginList").getAllPositions().map(function(a){return i(a,function(a){a.isEnabled;return!0},function(a){a=a.adsetReducer;return a})}).filter(function(a){return a}));c=c.concat(b("AdsPlacementPluginList").getAllPlatforms().map(function(a){return i(a,function(a){a.isEnabled;return!0},function(a){a=a.adsetReducer;return a})}).filter(function(a){return a}));d={reduce:function(a,c){return b("AdsReachFrequencyCreativeFormatUtils").adsetReducer(a,c)}};f={reduce:function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsReachFrequencyFlowChangeEventActionFlux").actionType:case b("AdsPlannerChangePlannerLocalEventDataActionFlux").actionType:if(d.event===g.IMPRESSION_10_SECONDS)break;case b("AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux").actionType:case b("AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux").actionType:case b("AdsReachFrequencyFlowChangeAdFormatsVideoAspectRatioActionFlux").actionType:case b("AdsReachFrequencyFlowChangeAdFormatsVideoDurationActionFlux").actionType:case b("AdsReachFrequencyFlowRemoveVideoAdFormatActionFlux").actionType:c=l(a,d.ids,function(a){var c=a.getIn([b("AdsAPIAdCampaignFields").TARGETING,b("AdsAPITargetFields").PUBLISHER_PLATFORMS]);return c.reduce(function(a,b){return j(a,b,d.eligibilityInformation)},a)});return B({action:d},c)}return a}};c=c.push(d,f);c=c.push(a);e.exports=c}),null);
__d("AdsCampaignReachFrequencyMutators",["AdsAPICampaignPaths","AdsMutators","AdsReachFrequencyFlowChangeDestinationActionFlux","AdsReachFrequencyFlowChangeLinkActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach,h=b("AdsMutators").setIn;function a(a,c){var d=c.action;switch(d.type){case b("AdsReachFrequencyFlowChangeDestinationActionFlux").actionType:return g(a,d.ids,function(a){return i(d.destinationID,d.appStoreUrl,d.isApp,a)});case b("AdsReachFrequencyFlowChangeLinkActionFlux").actionType:return g(a,d.ids,function(a){return h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL,d.link,a)});default:return a}}function i(a,c,d,e){if(!d)return e;e=h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.APPLICATION_ID,a,e);e=h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL,c,e);return e}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignSplitTestMutators",["AdsAPIAdCampaignFields","AdsAPICampaignPaths","AdsAPIPacingType","AdsCampaignUtils","AdsCommonSplitTestBudgetUtils","AdsDeliveryBudgetModes","AdsFixUpDraftSplitTestDataActionFlux","AdsMutators","AdsSplitTestSetBudgetAndSplitsDataActionFlux","AdsSplitTestSetBudgetModeDataActionFlux","AdsSplitTestSetEndTimeDataActionFlux","AdsSplitTestSetStartTimeDataActionFlux","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").chain,h=b("AdsMutators").mutateEach,i=b("AdsMutators").setIn;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsSplitTestSetBudgetAndSplitsDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return k(a,d.budget,d.splits)});case b("AdsSplitTestSetBudgetModeDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return j(a,d.budgetMode)});case b("AdsSplitTestSetEndTimeDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return i(b("AdsAPICampaignPaths").END_TIME,d.endTime,a)});case b("AdsSplitTestSetStartTimeDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){return i(b("AdsAPICampaignPaths").START_TIME,d.startTime,a)});case b("AdsFixUpDraftSplitTestDataActionFlux").actionType:return h(a,d.campaignIDs,function(a){var c=d.campaignIDs.indexOf(a.id);return g(function(a){return a.setIn(b("AdsAPICampaignPaths").SPLIT_TEST_CONFIG_SPLITS_INDEX,c)},function(a){return k(a,d.budget,d.splits)},function(a){return a.setIn(b("AdsAPICampaignPaths").START_TIME,d.startTime)},function(a){return a.setIn(b("AdsAPICampaignPaths").END_TIME,d.endTime)})(a)});default:return a}}function j(a,c){var d=b("AdsCampaignUtils").getBudgetAmount(a);return a.merge(c===b("AdsDeliveryBudgetModes").LIFETIME?(a={},a[b("AdsAPIAdCampaignFields").DAILY_BUDGET]=0,a[b("AdsAPIAdCampaignFields").LIFETIME_BUDGET]=d,a[b("AdsAPIAdCampaignFields").RECURRING_BUDGET_SEMANTICS]=!1,a):(c={},c[b("AdsAPIAdCampaignFields").ADSET_SCHEDULE]=[],c[b("AdsAPIAdCampaignFields").DAILY_BUDGET]=d,c[b("AdsAPIAdCampaignFields").LIFETIME_BUDGET]=0,c[b("AdsAPIAdCampaignFields").PACING_TYPE]=[b("AdsAPIPacingType").STANDARD],c[b("AdsAPIAdCampaignFields").RECURRING_BUDGET_SEMANTICS]=!0,c))}function k(a,c,d){var e=b("getByPath")(a,b("AdsAPICampaignPaths").SPLIT_TEST_CONFIG_SPLITS_INDEX);d=b("AdsCommonSplitTestBudgetUtils").getCampaignBudgets(d,c);c=d[e];return l(a,c)}function l(a,c){var d=b("AdsCampaignUtils").isLifetimeBudget(a);return a.merge((a={},a[b("AdsAPIAdCampaignFields").LIFETIME_BUDGET]=d?c:0,a[b("AdsAPIAdCampaignFields").DAILY_BUDGET]=d?0:c,a))}e.exports={reduce:a}}),null);
__d("AdsCampaignGroupIterativeSplitTestMutators",["AdsAPIAdCampaignGroupFields","AdsAPIIterativeSplitTestConfigFields","AdsCopyCopyCompletedDataActionFlux","AdsInterfacesLoggerConfigColumns","AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux","AdsIterativeSplitTestConfigUtils","AdsIterativeSplitTestLoggingEvents","AdsIterativeSplitTestSetBudgetsDataActionFlux","AdsIterativeSplitTestStoreUtils","AdsIterativeSplitTestUtils","AdsMutators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsIterativeSplitTestConfigUtils").getOriginalVariantID,h=b("AdsIterativeSplitTestStoreUtils").getIterativeSplitTestCreationPayload,i=b("AdsMutators").mutateEach;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCopyCopyCompletedDataActionFlux").actionType:var e=h(d.responses,d.fragments);return e?i(a,[e.campaignGroupID],function(a){return a.withMutations(function(a){var c=e.iterativeSplitTestConfigSpec,d=e.originalCampaignStatus,f=a.get(b("AdsAPIAdCampaignGroupFields").ITERATIVE_SPLIT_TEST_CONFIGS),h=g(c);f=f?f.toJS():[];if(f.find(function(a){return g(a)===h}))return a;f=[].concat(f,[c]);k(c,d);return a.set(b("AdsAPIAdCampaignGroupFields").ITERATIVE_SPLIT_TEST_CONFIGS,f)})}):a;case b("AdsIterativeSplitTestSetBudgetsDataActionFlux").actionType:return i(a,d.campaignGroupIDs,function(a){var b=d.updatedIterativeSplitTestConfig;return j(a,b)});case b("AdsIterativeSplitTestChooseVersionAndEndTestDataActionFlux").actionType:return i(a,d.campaignGroupIDs,function(a){var b=d.iterativeSplitTestConfig;return b?j(a,b):a});default:return a}}function j(a,c){var d=a.get(b("AdsAPIAdCampaignGroupFields").ITERATIVE_SPLIT_TEST_CONFIGS);d=d?d.toJS():[];d=[c].concat(d.filter(function(a){return a[b("AdsAPIIterativeSplitTestConfigFields").ID]!==c[b("AdsAPIIterativeSplitTestConfigFields").ID]}));return a.set(b("AdsAPIAdCampaignGroupFields").ITERATIVE_SPLIT_TEST_CONFIGS,d)}function k(a,c){var d;b("AdsIterativeSplitTestUtils").logEvent(b("AdsIterativeSplitTestLoggingEvents").ITERATIVE_SPLIT_TEST_CREATION_NEW_TEST_DRAFT_CREATED,(d={},d[b("AdsInterfacesLoggerConfigColumns").CAMPAIGN_ID]=a[b("AdsAPIIterativeSplitTestConfigFields").ITERATIVE_SPLIT_TEST_ORIGINAL_VARIANT_ID],d[b("AdsInterfacesLoggerConfigColumns").EVENT_SOURCE]=a[b("AdsAPIIterativeSplitTestConfigFields").CREATION_SOURCE],d[b("AdsInterfacesLoggerConfigColumns").OLD_VALUE]=c,d),a)}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignGroupMutators",["AdsAPIAdLabelFields","AdsAPICampaignGroupPaths","AdsAPICampaignGroupPromotedObjectRecord","AdsCampaignGroupBrandConfigurationRemoveConfigurationDataActionFlux","AdsCampaignGroupBrandConfigurationSetBrandProductNameDataActionFlux","AdsCampaignGroupBrandConfigurationSetLocaleDataActionFlux","AdsCampaignGroupBrandConfigurationSetVerticalDataActionFlux","AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBulkEditApplyChangesDataActionFlux","AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupInstantPublishNameFieldActionFlux","AdsCampaignGroupReplaceInDataActionFlux","AdsCampaignGroupSetAdLabelsDataActionFlux","AdsCampaignGroupSetBuyingTypeDataActionFlux","AdsCampaignGroupSetLabelsDataActionFlux","AdsCampaignGroupSetNamesDataActionFlux","AdsCampaignGroupSetObjectivesDataActionFlux","AdsCampaignGroupSetPromotedObjectDataActionFlux","AdsCampaignGroupSetSpendCapDataActionFlux","AdsCampaignGroupSetStatusDataActionFlux","AdsMutators","AdsPECampaignGroupLiveStatusChangeActionFlux","AdsRegexp","AdsSplitTestSetBudgetAndSplitsDataActionFlux","AdsSplitTestSetEndTimeDataActionFlux","AdsSplitTestSetStartTimeDataActionFlux","AdsUEditorAdgroupPostOptimizationChangeObjectiveActionFlux","AdsUEditorAdgroupPostOptimizationUndoChangeObjectiveActionFlux","AdsUEditorCampaignGroupSetNameActionFlux","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").chain,h=b("AdsMutators").deleteIn,i=b("AdsMutators").mutateEach,j=b("AdsMutators").setIn,k=b("AdsRegexp").getReplacedText;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCampaignGroupReplaceInDataActionFlux").actionType:var e=d.path,f=d.toFind,l=d.replaceWith;return i(a,d.ids,function(a){return a.updateIn(e,function(a){return a&&k(a,f,l,"ig")})});case b("AdsCampaignGroupBrandConfigurationRemoveConfigurationDataActionFlux").actionType:return i(a,d.ids,function(a){a=a;a=h(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.BRAND_PRODUCT_NAME,a);a=h(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.LOCALE,a);a=h(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.VERTICAL,a);return a});case b("AdsCampaignGroupBrandConfigurationSetBrandProductNameDataActionFlux").actionType:var m=d.value;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.BRAND_PRODUCT_NAME,m,a)});case b("AdsCampaignGroupBrandConfigurationSetLocaleDataActionFlux").actionType:var n=d.value;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.LOCALE,n,a)});case b("AdsCampaignGroupBrandConfigurationSetVerticalDataActionFlux").actionType:var o=d.value;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").BRAND_CONFIGURATION.VERTICAL,o,a)});case b("AdsUEditorCampaignGroupSetNameActionFlux").actionType:var p=d.name;return i(a,d.campaignGroupIDs,function(a){return j(b("AdsAPICampaignGroupPaths").NAME,p,a)});case b("AdsCampaignGroupSetNamesDataActionFlux").actionType:var q=d.idToNameMap;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").NAME,q.get(a.id),a)});case b("AdsCampaignGroupSetAdLabelsDataActionFlux").actionType:c=d.adlabels;var r=[];c&&c.forEach(function(a){var c;r.push((c={},c[b("AdsAPIAdLabelFields").NAME]=a,c))});return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").AD_LABELS,r,a)});case b("AdsCampaignGroupSetObjectivesDataActionFlux").actionType:c=d.campaignGroupIDs;var s=d.newCampaignGroups;return i(a,c,function(a,c){return b("nullthrows")(s.get(c))});case b("AdsCampaignGroupSetSpendCapDataActionFlux").actionType:var t=d.spendCap;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").SPEND_CAP,t,a)});case b("AdsCampaignGroupSetBuyingTypeDataActionFlux").actionType:var u=d.buyingType;return i(a,d.campaignGroupIDs,function(a){return j(b("AdsAPICampaignGroupPaths").BUYING_TYPE,u,a)});case b("AdsCampaignGroupSetLabelsDataActionFlux").actionType:var v=d.labels;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").AD_LABELS,v.map(function(a){return{id:a}}),a)});case b("AdsCampaignGroupSetPromotedObjectDataActionFlux").actionType:var w=d.promotedObject;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.path,new(b("AdsAPICampaignGroupPromotedObjectRecord"))(w),a)});case b("AdsCampaignGroupSetStatusDataActionFlux").actionType:var x=d.status;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").STATUS,x,a)});case b("AdsSplitTestSetBudgetAndSplitsDataActionFlux").actionType:return i(a,d.campaignGroupIDs,g(function(a){return j(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.BUDGET,d.budget,a)},function(a){return j(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.SPLITS,d.splits,a)}));case b("AdsSplitTestSetEndTimeDataActionFlux").actionType:var y=d.endTime;return i(a,d.campaignGroupIDs,function(a){return j(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.END_TIME,y,a)});case b("AdsSplitTestSetStartTimeDataActionFlux").actionType:var z=d.startTime;return i(a,d.campaignGroupIDs,function(a){return j(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.START_TIME,z,a)});case b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBulkEditApplyChangesDataActionFlux").actionType:c=d.ids;var A=d.changedCampaignGroupsMap;return i(a,c,function(a){return a.mergeDeep(A.get(a.id))});case b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType:var B=d.runStatus;return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").STATUS,B,a)});case b("AdsCampaignGroupInstantPublishNameFieldActionFlux").actionType:return i(a,d.ids,function(a){return j(b("AdsAPICampaignGroupPaths").NAME,d.name,a)});case b("AdsUEditorAdgroupPostOptimizationChangeObjectiveActionFlux").actionType:return i(a,d.campaignGroupIDs,function(a,b){return d.changedAdObjects.campaignGroups[b].newAdObject});case b("AdsUEditorAdgroupPostOptimizationUndoChangeObjectiveActionFlux").actionType:return i(a,d.campaignGroupIDs,function(a,b){return d.adObjects.campaignGroups[b]});default:return a}}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignGroupSplitTestMutators",["AdsAPICampaignGroupPaths","AdsAPISplitTestConfigFields","AdsDeliveryBudgetModes","AdsFixUpDraftSplitTestDataActionFlux","AdsMutators","AdsSplitTestCancelSplitTestsDataActionFlux","AdsSplitTestSetBudgetModeDataActionFlux","AdsSplitTestSetExtendWinnerDataActionFlux","AdsSplitTestSetSplitTestEarlyWinnerModeDataActionFlux","AdsSplitTestSetSplitTestTestVariableDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").deleteIn,h=b("AdsMutators").mutateEach,i=b("AdsMutators").setIn;function a(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsSplitTestCancelSplitTestsDataActionFlux").actionType:return h(a,d.campaignGroupIDs,function(a){for(var c in b("AdsAPISplitTestConfigFields"))a=g(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG[c],a);a=i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_STATUS,null,a);return a});case b("AdsSplitTestSetBudgetModeDataActionFlux").actionType:return d.budgetMode!==b("AdsDeliveryBudgetModes").DAILY?h(a,d.campaignGroupIDs,function(a){return i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.EXTEND_WINNER_ENABLED,!1,a)}):a;case b("AdsSplitTestSetExtendWinnerDataActionFlux").actionType:return h(a,d.campaignGroupIDs,function(a){return i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.EXTEND_WINNER_ENABLED,d.isEnabled,a)});case b("AdsSplitTestSetSplitTestEarlyWinnerModeDataActionFlux").actionType:return h(a,d.campaignGroupIDs,function(a){return i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.EARLY_WINNER_DECLARATION_ENABLED,d.enabled,a)});case b("AdsSplitTestSetSplitTestTestVariableDataActionFlux").actionType:return h(a,d.campaignGroupIDs,function(a){return i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.TEST_VARIABLE,d.testVariable,a)});case b("AdsFixUpDraftSplitTestDataActionFlux").actionType:return h(a,d.campaignGroupIDs,function(a){return i(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.SPLITS,d.splits,a)});default:return a}}c={reduce:a};e.exports=c}),null);
__d("AdsPagePostStore",["AdsBaseDataStore","AdsLoadState_LEGACY","AdsMutatePostCTASuccessDataActionFlux","AdsPagePostBatchDeletedDataActionFlux","AdsPagePostBatchLoadedDataActionFlux","AdsPagePostBatchLoadErrorDataActionFlux","AdsPagePostDataManager","AdsPagePostScheduleRemovedDataActionFlux","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsPagePostDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsMutatePostCTASuccessDataActionFlux").actionType,b("AdsPagePostBatchDeletedDataActionFlux").actionType,b("AdsPagePostBatchLoadErrorDataActionFlux").actionType,b("AdsPagePostBatchLoadedDataActionFlux").actionType,b("AdsPagePostScheduleRemovedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsPagePostBatchDeletedDataActionFlux").actionType:this.$AdsPagePostStoreClass1(a.ids);break;case b("AdsPagePostBatchLoadedDataActionFlux").actionType:this.__handleData(a.posts,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPagePostBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsPagePostScheduleRemovedDataActionFlux").actionType:this.$AdsPagePostStoreClass2(a.postIDs);break;case b("AdsMutatePostCTASuccessDataActionFlux").actionType:this.__invalidateAll(a.pagePostIDs)&&this.__emitChange();b("AdsPagePostDataManager").loadAll(a.pagePostIDs);break}};a.prototype.$AdsPagePostStoreClass2=function(a){var c=this.getAllCached(a);a.forEach(function(a){var d=c.get(a);d&&d.loadState===b("AdsLoadState_LEGACY").LOADED?(d=Object.assign(d,{scheduled_publish_time:null}),c.set(a,d)):c["delete"](a)});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};a.prototype.$AdsPagePostStoreClass1=function(a){this.__invalidateAll(a)&&this.__emitChange()};function a(){g.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsLabelListStore",["AdsBaseListStore","AdsLabelBatchCreatedDataActionFlux","AdsLabelBatchDeletedDataActionFlux","AdsLabelListDataManager","AdsLabelListLoadedDataActionFlux","AdsLabelListLoadErrorDataActionFlux","AdsLabelListPartialLoadDataActionFlux","AdsLoadState_LEGACY","FBLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("AdsBaseListStore"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$AdsLabelListStore1=new Map()}a.prototype.getDataManager=function(){return b("AdsLabelListDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsLabelBatchCreatedDataActionFlux").actionType,b("AdsLabelBatchDeletedDataActionFlux").actionType,b("AdsLabelListLoadErrorDataActionFlux").actionType,b("AdsLabelListLoadedDataActionFlux").actionType,b("AdsLabelListPartialLoadDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.actionType){case b("AdsLabelBatchCreatedDataActionFlux").actionType:a.labels.forEach(function(a){this.__handleDataFor(a.accountID,[{id:a.id}])}.bind(this));break;case b("AdsLabelBatchDeletedDataActionFlux").actionType:this.$AdsLabelListStore2(a.ids);break;case b("AdsLabelListLoadedDataActionFlux").actionType:this.__handleDataFor(a.accountID,a.labels,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsLabelListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.accountID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsLabelListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.accountID,a.labels,b("AdsLoadState_LEGACY").LOADING);break}};a.prototype.$AdsLabelListStore2=function(a){a.forEach(function(a){var c=this.$AdsLabelListStore1.get(a);if(!c){b("FBLogger")("ads").blameToPreviousFile().warn("Label ID %s was deleted, but it seems to be orphaned",a);return}this.__invalidateChild(c,a)}.bind(this))};a.prototype.__handleDataFor=function(a,b,c){c=g.__handleDataFor.call(this,a,b,c);c&&b&&b.forEach(function(b){this.$AdsLabelListStore1.set(b.id,a)}.bind(this));return!1};a.prototype.__invalidateChild=function(a,b){a=g.__invalidateChild.call(this,a,b);if(!a)return!1;this.$AdsLabelListStore1["delete"](b);return!0};e.exports=new a()}),null);
__d("AdsLabelStore",["AdsBaseDataStore","AdsLabelBatchCreatedDataActionFlux","AdsLabelBatchCreateErrorDataActionFlux","AdsLabelBatchDeletedDataActionFlux","AdsLabelBatchDeleteErrorDataActionFlux","AdsLabelBatchLoadedDataActionFlux","AdsLabelBatchLoadErrorDataActionFlux","AdsLabelCreateBatchDataActionFlux","AdsLabelDataManager","AdsLabelDeleteBatchDataActionFlux","AdsLoadState_LEGACY","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsLabelDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsLabelBatchCreateErrorDataActionFlux").actionType,b("AdsLabelBatchCreatedDataActionFlux").actionType,b("AdsLabelBatchDeleteErrorDataActionFlux").actionType,b("AdsLabelBatchDeletedDataActionFlux").actionType,b("AdsLabelBatchLoadErrorDataActionFlux").actionType,b("AdsLabelBatchLoadedDataActionFlux").actionType,b("AdsLabelCreateBatchDataActionFlux").actionType,b("AdsLabelDeleteBatchDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsLabelBatchCreatedDataActionFlux").actionType:this.__handleData(a.labels,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsLabelBatchCreateErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsLabelCreateBatchDataActionFlux").actionType:this.__updateLoading(a.labels.map(function(a){return a.tempID}));a.labels.forEach(function(a){return b("AdsLabelDataManager").create(a)});break;case b("AdsLabelBatchDeletedDataActionFlux").actionType:this.__invalidateAll(a.ids);break;case b("AdsLabelBatchDeleteErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsLabelBatchLoadedDataActionFlux").actionType:this.__handleData(a.labels,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsLabelBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsLabelDeleteBatchDataActionFlux").actionType:this.$AdsLabelStore1(a.labels);break}};a.prototype.$AdsLabelStore1=function(a){__p&&__p();a=a.filter(function(a){return!!a.id}).map(function(a){return a.id});if(a.length===0)return;var c=new Map(a.map(function(a){var b=this.getCached(a);return[a,b]}.bind(this)));this.__handleData(c,b("AdsLoadState_LEGACY").DELETING);a.forEach(function(a){return this.getDataManager()["delete"](a)}.bind(this))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsToplineListStore",["AdsAPIAdToplineFields","AdsBaseListStore","AdsContractRefreshDataActionFlux","AdsLoadState_LEGACY","AdsToplineListBatchLoadedDataActionFlux","AdsToplineListBatchLoadErrorDataActionFlux","AdsToplineListDataManager","AdsToplineListLoadedDataActionFlux","AdsToplineListLoadErrorDataActionFlux","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseListStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsToplineListDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsContractRefreshDataActionFlux").actionType,b("AdsToplineListBatchLoadErrorDataActionFlux").actionType,b("AdsToplineListBatchLoadedDataActionFlux").actionType,b("AdsToplineListLoadErrorDataActionFlux").actionType,b("AdsToplineListLoadedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.actionType){case b("AdsToplineListLoadedDataActionFlux").actionType:this.__handleDataFor(a.accountID,a.toplines,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsToplineListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,a,b("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case b("AdsToplineListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.accountID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsToplineListBatchLoadErrorDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,null,b("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case b("AdsContractRefreshDataActionFlux").actionType:this.__invalidate(a.accountID)&&this.__emitChange();break}};a.prototype.getSortKey=function(){return b("AdsAPIAdToplineFields").LINE_NUMBER};a.prototype.compare=function(a,b){if(a<b)return-1;else if(a>b)return 1;else return 0};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsToplineStore",["AdsBaseDataStore","AdsLoadState_LEGACY","AdsToplineBatchLoadedDataActionFlux","AdsToplineBatchLoadErrorDataActionFlux","AdsToplineDataManager","AdsToplineListBatchLoadedDataActionFlux","AdsToplineListLoadedDataActionFlux","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsToplineDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsToplineBatchLoadErrorDataActionFlux").actionType,b("AdsToplineBatchLoadedDataActionFlux").actionType,b("AdsToplineListBatchLoadedDataActionFlux").actionType,b("AdsToplineListLoadedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsToplineBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsToplineBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsToplineListLoadedDataActionFlux").actionType:this.$AdsToplineStore1(a.toplines);break;case b("AdsToplineListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,b){this.$AdsToplineStore1(a)}.bind(this));break}};a.prototype.$AdsToplineStore1=function(a){var c=new Map();a.forEach(function(a){return c.set(a.id,a)});this.__handleData(c,b("AdsLoadState_LEGACY").LOADED)};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsCampaignValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignValidationStore").__setRef("AdsCampaignValidationBootloadedStore"));b("requireWeak")("AdsCampaignValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignGroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignGroupValidationStore").__setRef("AdsCampaignGroupValidationBootloadedStore"));b("requireWeak")("AdsCampaignGroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCombinedStoreUtils",["AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","ImmutableObject","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={NO_LIVE_ITEM:b("LoadObject").withValue(null),combineData:function(a,c){__p&&__p();return a.map(function(a){if(c.isLoading())return a?b("LoadObject").withValue(a).loading():b("LoadObject").loading();var d=c.getValue();if(d==null||d.values.isEmpty())return a?a:b("LoadObject").empty();var e={};d.values.forEach(function(a,b){e[b]=a.newValue&&a.newValue.toJS?a.newValue.toJS():a.newValue});return a==null?babelHelpers["extends"]({},e,{account_id:d.accountID,id:d.objectID}):babelHelpers["extends"]({},a,e)})},combineData_LEGACY:function(a,b){b=g.combineData(a,b);return g.convertToLegacy(b,a)},convertToLegacy:function(a,c){a=b("AdsLoadStateUtils_LEGACY").fromLoadObject(a);!c.isLoading()&&!c.hasError()&&c.isEmpty()&&(a=babelHelpers["extends"]({},a,{loadState:b("AdsLoadState_LEGACY").NOT_LOADED}));return new(b("ImmutableObject"))(a)}};e.exports=g}),null);
__d("AdsCampaignGroupBudgetBatchMutationProviderStore",["AdsCampaignGroupBudgetBatchMutationDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsCampaignGroupBudgetBatchMutationDataProvider").toFluxStore()}),null);
__d("adsCampaignGroupBudgetBatchMutationSelector",["AdsCampaignGroupBudgetBatchMutationProviderStore","AdsStoreUtils","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("AdsCampaignGroupBudgetBatchMutationProviderStore"))],function(a){return a},{name:e.id+".adsCampaignGroupBudgetBatchMutationSelector"});e.exports=a}),null);
__d("AdsBaseDerivedSelectionStore",["invariant","AdsInterfacesNavSections","AdsLoadObjectUtils","AdsObjectTypeUtils","AdsSelectionUtils","FBLogger","FluxDerivedStore","abstractMethod","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=[];h=babelHelpers.inherits(a,b("FluxDerivedStore"));h&&h.prototype;a.prototype.__getStores=function(){return b("abstractMethod")("AdsBaseDerivedSelectionStore","__getStores")};a.prototype.__getCurrentSection=function(){return b("abstractMethod")("AdsBaseDerivedSelectionStore","__getCurrentSection")};a.prototype.__getCurrentAdObjectLevel=function(){return b("abstractMethod")("AdsBaseDerivedSelectionStore","__getCurrentAdObjectLevel")};a.prototype.__getSelectedIDs=function(a){return b("abstractMethod")("AdsBaseDerivedSelectionStore","__getSelectedIDs")};a.prototype.__getSelectedObjects=function(a,c){return b("abstractMethod")("AdsBaseDerivedSelectionStore","__getSelectedObjects")};a.prototype.__getData=function(a){__p&&__p();var c=this.__getCurrentSection();a=b("AdsObjectTypeUtils").getObjectLevelFromAdLevel(a);if(!c||!j.has(c)||a==null)return null;var d=this.__getCurrentAdObjectLevel(),e=b("AdsSelectionUtils").currentLevelToAncestorIDFields.get(d).ancestorIDFields,f=this.__getSelectedIDs(c);e=e.get(a);a=null;var g;e&&(g=this.__getSelectedObjects(c,f),a=!b("AdsLoadObjectUtils").anyLoadingOrEmpty(g.values()));return{allLoaded:a,currentAdObjectLevel:d,selectedObjectLoaderByID:g,currentLevelSelectedIDs:f,ancestorIDField:e}};a.prototype.__computeResult=function(a,c){__p&&__p();if(!c)return i;var d=c.ancestorIDField,e=c.currentAdObjectLevel,f=c.selectedObjectLoaderByID;c=c.currentLevelSelectedIDs;var h=b("AdsObjectTypeUtils").getObjectLevelFromAdLevel(a);if(e===h)return c;if(d){if(f&&f.isEmpty())return i;f||g(0,3590);e=new Set();for(var h=c,c=Array.isArray(h),j=0,h=c?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(c){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;k=f.get(k);k=k?k.getValue():null;k=k?k[d]:null;k&&e.add(k)}return Array.from(e)}b("FBLogger")("ads").warn("Trying to fetch current selection for %s, but that's not possible",a);return i};a.prototype.__areEqual=function(a,b){return!a||!b?a==b:a.allLoaded===b.allLoaded&&a.currentLevelSelectedIDs===b.currentLevelSelectedIDs};function a(){h.apply(this,arguments)}a.__moduleID=e.id;var j=b("immutable").Set([b("AdsInterfacesNavSections").L1,b("AdsInterfacesNavSections").L2,b("AdsInterfacesNavSections").L3,b("AdsInterfacesNavSections").GLOBAL_TREE]);e.exports=a}),null);
__d("AdsPromotableEventStore",["AdsAccountStore","AdsBaseConnectionObjectStore","AdsConnectionObjectUtils","AdsDataAtom","AdsLoadState_LEGACY","AdsPromotableEventBatchLoadedDataActionFlux","AdsPromotableEventBatchLoadErrorDataActionFlux","AdsPromotableEventDataManager","AdsPromotableEventListBatchBulkLoadedDataActionFlux","AdsPromotableEventListBatchLoadedDataActionFlux","AdsPromotableEventsSearchCompletedDataActionFlux","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="https://www.facebook.com/events/";c=babelHelpers.inherits(a,b("AdsBaseConnectionObjectStore"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.getForSelector=b("adsCreateStoreThunkSelector")(this,this.getFor.bind(this)),c}a.prototype.getFor=function(a,b){return this.getAllFor(a,[b]).get(this.__computeStorageKey(a,b))};a.prototype.getAllFor=function(a,c){var d=[];c.forEach(function(b){d.push(this.__computeStorageKey(a,b))}.bind(this));var e=[];this.__updateLoading(d).forEach(function(a){e.push(a.split("_")[1])});e.length>0&&b("AdsPromotableEventDataManager").loadAllFor(a,e);return g.getAllCached.call(this,d)};a.prototype.getAllCachedFor=function(a,b){return this.getAllCached(b.map(function(b){return this.__computeStorageKey(a,b)}.bind(this)))};a.prototype.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsPromotableEventBatchLoadedDataActionFlux").actionType:case b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType:this.$AdsPromotableEventStoreClass1(c.accountID,c.promotableEvents);break;case b("AdsPromotableEventsSearchCompletedDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken()]);this.$AdsPromotableEventStoreClass1(b("AdsAccountStore").getSelectedAccountIDX(),c.events);break;case b("AdsPromotableEventListBatchBulkLoadedDataActionFlux").actionType:c.responses.forEach(function(a,b){this.$AdsPromotableEventStoreClass1(b,a.data)}.bind(this));break;case b("AdsPromotableEventBatchLoadErrorDataActionFlux").actionType:var d=new Map();c.errors.forEach(function(a,b){b=this.__computeStorageKey(c.accountID,b);d.set(b,a)}.bind(this));this.__handleData(d,b("AdsLoadState_LEGACY").ERROR);break}};a.prototype.$AdsPromotableEventStoreClass2=function(event){event.url=h+event.id};a.prototype.__filterConnectionObject=function(a){return b("AdsConnectionObjectUtils").isEvent(a)};a.prototype.$AdsPromotableEventStoreClass1=function(a,c){var d=new Map();c.forEach(function(event){var b=this.__computeStorageKey(a,event.id);this.$AdsPromotableEventStoreClass2(event);d.set(b,event)}.bind(this));this.__handleData(d,b("AdsLoadState_LEGACY").LOADED)};d=new a();e.exports=d}),null);
__d("AdsDynamicOverlayUtils",["invariant","AdsAPIAdgroupImageLayerRecords","AdsAPIAdgroupPaths","AdsCreativeToolsSupportedFormats","AdsDynamicAdsUtils","AdsDynamicOverlayOptionsConfig","ApiAdCreativeImageTextOverlayContentFields","CatalogVertical","DynamicImageLayerTextOverlayContentTypes","DynamicImageLayerTypes","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsAPIAdgroupImageLayerRecords").makeFrameOverlayLayerRecord,j=b("AdsAPIAdgroupImageLayerRecords").makeImageLayerRecord,k=b("AdsAPIAdgroupImageLayerRecords").makeTextOverlayLayerRecord,l=b("DynamicImageLayerTypes").FRAME_OVERLAY,m=b("DynamicImageLayerTypes").IMAGE,n=b("DynamicImageLayerTypes").TEXT_OVERLAY;a=b("DynamicImageLayerTextOverlayContentTypes").FREE_SHIPPING;c=b("DynamicImageLayerTextOverlayContentTypes").FROM_PRICE;d=b("DynamicImageLayerTextOverlayContentTypes").PERCENTAGE_OFF;f=b("DynamicImageLayerTextOverlayContentTypes").PRICE;var o=b("DynamicImageLayerTextOverlayContentTypes").STRIKETHROUGH_PRICE,p=b("immutable").Map((h={},h[b("CatalogVertical").NONE]=b("immutable").Set(),h[b("CatalogVertical").COMMERCE]=b("immutable").Set([f,o,d,a]),h[b("CatalogVertical").DESTINATIONS]=b("immutable").Set([f,c]),h[b("CatalogVertical").FLIGHTS]=b("immutable").Set([f,c]),h[b("CatalogVertical").HOTELS]=b("immutable").Set([f,c,o,d]),h[b("CatalogVertical").MEDIA_TITLES]=b("immutable").Set([f]),h[b("CatalogVertical").VEHICLES]=b("immutable").Set([f,o,d]),h)),q={isVerticalSupported:function(a){return p.has(a)},getValidContents:function(a){a=p.get(a);a!=null||g(0,763);return a},getTextOverlayLayer:function(a){a=a.get(n);return a instanceof k?a:null},getFrameOverlayLayer:function(a){a=a.get(l);return a instanceof i?a:null},getImageLayer:function(a){a=a.get(m);return a instanceof j?a:null},getLayers:function(){return b("immutable").List([m,l,n])},createLayer:function(a,b,c){var d=q.getLayers();return a.set(b,c).sortBy(function(b,a){return a},function(a,b){a=d.indexOf(a);b=d.indexOf(b);if(a<b)return-1;return a>b?1:0})},createTextOverlayReducer:function(a){return function(c,d){var e=q.getTextOverlayLayer(c.draftLayerRecordsMap);e!=null||g(0,542);return babelHelpers["extends"]({},c,{draftLayerRecordsMap:c.draftLayerRecordsMap.set(b("DynamicImageLayerTypes").TEXT_OVERLAY,a(e,d))})}},overlayHasNoCustomLayer:function(a){return a.count()===1&&a.has(b("DynamicImageLayerTypes").IMAGE)||a.count()===0},getPriceOptions:function(a,c){return(c=b("AdsDynamicOverlayOptionsConfig").get(c))==null?void 0:c[a]},setTextOverlayContentPriceFields:function(a,c){if(c.length===1)return a.set(b("ApiAdCreativeImageTextOverlayContentFields").PRICE,c[0].templateTag);else if(c.length===2)return a.set(b("ApiAdCreativeImageTextOverlayContentFields").HIGH_PRICE,c[0].templateTag).set(b("ApiAdCreativeImageTextOverlayContentFields").LOW_PRICE,c[1].templateTag);return a},usingCreativeTools:function(a){return[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_OVERLAY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_LAYER_SPECS].some(function(c){return b("getByPath")(a,c)!=null})},isCreativeToolsSupportedForFormat:function(a,c){a=b("AdsDynamicAdsUtils").getAdgroupFormatOption(a);if(!a)return!1;var d=b("AdsCreativeToolsSupportedFormats");return((d=d[a])!=null?d:[]).includes(c)}};e.exports=q}),null);