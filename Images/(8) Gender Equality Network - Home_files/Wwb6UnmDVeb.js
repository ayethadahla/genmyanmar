if (self.CavalryLogger) { CavalryLogger.start_js(["GQeBr"]); }

__d("AdsPlannerPredictionFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"id"})}),null);
__d("AdsPlannerPlansSyncResponseFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success"})}),null);
__d("AdsPlannerSharingSpecUpdateResponseFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success"})}),null);
__d("AdsFromChinaUtils",["AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=g(b);return a.filter(function(a){var b=c.includes(a.id),d=a.object_store_urls||a.objectStoreURL?c.some(function(b){return Object.values(a.object_store_urls||a.objectStoreURL).includes(b)}):!1;return b||d})}function g(a){var c=[];a&&(a.promotable_urls&&(c=c.concat(a.promotable_urls.filter(function(a){return b("AdsAppUtils").isAppStoreURL(a)}))),a.promotable_app_ids&&(c=c.concat(a.promotable_app_ids)));return c}c={availableAppsSetFilter:a,getPromotableAppsSet:g};e.exports=c}),null);
__d("AdsObjectiveGlyphImage.react",["ix","AdsAPIObjectives","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.objective;c=c===void 0?b("AdsAPIObjectives").NONE:c;var d=a.size;d=d===void 0?"large":d;a=babelHelpers.objectWithoutProperties(a,["objective","size"]);return d==="small"?b("React").createElement(b("Image.react"),{src:i(c)}):b("React").createElement(b("Image.react"),babelHelpers["extends"]({height:44,src:h(c),width:44},a))};function h(a){__p&&__p();switch(a){case b("AdsAPIObjectives").BRAND_AWARENESS:return g("21939");case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:return g("21937");case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").APP_INSTALLS:return g("21938");case b("AdsAPIObjectives").EVENT_RESPONSES:return g("21941");case b("AdsAPIObjectives").LOCAL_AWARENESS:return g("21945");case b("AdsAPIObjectives").OFFER_CLAIMS:return g("21946");case b("AdsAPIObjectives").VIDEO_VIEWS:return g("21950");case b("AdsAPIObjectives").CONVERSIONS:return g("21952");case b("AdsAPIObjectives").POST_ENGAGEMENT:return g("21948");case b("AdsAPIObjectives").PAGE_LIKES:return g("21949");case b("AdsAPIObjectives").LINK_CLICKS:return g("21951");default:return g("21947")}}function i(a){__p&&__p();switch(a){case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:return g("22349");case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:return g("22343");case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:return g("22351");case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").APP_INSTALLS:return g("22345");case b("AdsAPIObjectives").EVENT_RESPONSES:return g("22353");case b("AdsAPIObjectives").LOCAL_AWARENESS:return g("22357");case b("AdsAPIObjectives").STORE_VISITS:return g("22375");case b("AdsAPIObjectives").OFFER_CLAIMS:return g("22365");case b("AdsAPIObjectives").VIDEO_VIEWS:return g("22377");case b("AdsAPIObjectives").CONVERSIONS:return g("22381");case b("AdsAPIObjectives").POST_ENGAGEMENT:return g("22369");case b("AdsAPIObjectives").PAGE_LIKES:return g("22367");case b("AdsAPIObjectives").LINK_CLICKS:return g("22379");default:return g("22363")}}e.exports=a}),null);
__d("XPlannerEmailSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/reachfrequency/planner/email_sharing/",{})}),null);
__d("XReachFrequencySearchIDAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/reachfrequency/search_id/",{})}),null);
__d("AdsPlannerVersionsSyncResponseFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success"})}),null);
__d("AdsReachFrequencyGraphUtils",["cssVar","AdsBuyingTypes","AdsPlannerStyleUtils","AdsReachFrequencyConstants","AdsReachFrequencyCurveConstants","AdsReachFrequencyHelper","SpectrumUtilities","d3-old/scale/linear","getByPath","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsReachFrequencyCurveConstants").CURVE_CF_STYLES,i=b("AdsReachFrequencyCurveConstants").CURVE_DEFAULT_STYLES_V2,j=b("AdsReachFrequencyConstants").DISPLAY_MODE,k=Object.freeze({HORIZONTAL_ARROW:"ew-resize",POINTER:"pointer",DEFAULT:"auto",INVALID:"not-allowed"});function a(a){return b("d3-old/scale/linear")().domain([0,a])}function c(a){var c=a[a.length-1].y*b("AdsReachFrequencyConstants").Style.CURVE_Y_AXIS_SCALAR,d=a[0].y;a.forEach(function(a,b){d=Math.min(d,a.y)});return b("d3-old/scale/linear")().domain([d,c])}function d(a,b,c){if(!a||b)return k.DEFAULT;return c?k.INVALID:a.isMouseNearStaff?k.POINTER:k.HORIZONTAL_ARROW}function f(a,b,c){if(b<a.left)return!1;if(b>=a.right)return!1;if(c<a.top)return!1;return c>=a.bottom?!1:!0}function g(a,c){a=b("SpectrumUtilities").getOuterRange(a);c=b("SpectrumUtilities").getOuterRange(c);return{top:c[1],bottom:c[0],left:a[0],right:a[1]}}function l(a,b){__p&&__p();var c={};b.forEach(function(b){c[Math.floor(b.pixel.x+(a.bottom-b.pixel.y))]=b.pixel});b=Object.keys(c);for(var d=1;d<b.length;d++){var e=Math.floor(b[d]),f=Math.floor(b[d-1]),g=(c[f].y-c[e].y)/(c[e].x-c[f].x);for(var h=f+1;h<e;h++){var i=(h-f)/(g+1);c[h]={x:c[f].x+i,y:c[f].y-i*g}}}return c}function m(a,b,c){return!a?[]:a.map(function(a){return{data:a,pixel:{x:b(a.x),y:c(a.y)}}})}function n(a,c,d,e){var f,g,h,i=!1;d===b("AdsBuyingTypes").AUCTION&&e&&e.curve_upper_confidence_range&&e.curve_lower_confidence_range&&(i=!0,f=e.curve_upper_confidence_range.reach,g=e.is_conversion_goal?e.curve_upper_confidence_range.uniq_video_views_2s_upper:e.curve_upper_confidence_range.reach_upper,h=e.is_conversion_goal?e.curve_lower_confidence_range.uniq_video_views_2s_lower:e.curve_lower_confidence_range.reach_lower);return a.map(function(a){return babelHelpers["extends"]({},a,{$meta:a.reach<c?{className:"shaded"}:null,reach_upper_bound:i?b("AdsReachFrequencyHelper").getConfidenceRangeValueFromInterpolation(f,g,a.reach):a.reach,reach_lower_bound:i?b("AdsReachFrequencyHelper").getConfidenceRangeValueFromInterpolation(f,h,a.reach):a.reach})})}function o(a,b,c){return a.filter(function(a){return a.reach>=b&&a.reach<=c})}function p(a){return{line:{stroke:a,strokeDasharray:"5, 5",strokeWidth:1},"line.shaded":{stroke:a,strokeDasharray:"100000"},area:{fill:a,opacity:.1},"area.shaded":{opacity:.5},"area.interval":{fill:"#DADDE1"},"annotationline.selected":{stroke:a},annotationmarker:{fill:a},"annotationline.selected:drag":{stroke:a},"annotationline.selected:drag:reference":{stroke:a},"guide>line":{stroke:a,strokeDasharray:"100000"},"guide>point":{stroke:a,fill:a}}}function q(a,b){a={"annotationline.reachLineAnnotation":{opacity:1,stroke:a,strokeWidth:1.5},'axis[orientation="horizontal"][alignment="top"]>axismark':{color:a}};return b?babelHelpers["extends"]({},a,{"annotationline.reachLineAnnotation:hover":{cursor:"ew-resize"}}):babelHelpers["extends"]({},a,{"annotationline.reachLineAnnotation:hover":{cursor:"default"},"bargroup:hover":{cursor:"default"}})}function r(a,c,d){var e=i;if(a===j.POWER_EDITOR){var f={};d&&(f={'axis[orientation="vertical"]':{width:50},'axis[orientation="horizontal"]>axismark':{paddingTop:20},chart:{paddingTop:30,paddingRight:16},'gridline[orientation="horizontal"]':{visibility:"visible",stroke:"#cccccc",strokeWidth:.5},annotationmarker:{fill:b("AdsPlannerStyleUtils").getTheme(0).chart},'gridline[orientation="vertical"]:last-child':{visibility:"hidden"}});return babelHelpers["extends"]({},e,h,f)}else if(a===j.RF_PLANNER&&c)return babelHelpers["extends"]({},e,p(c),{chart:{backgroundColor:"transparent",padding:"20 20 16 40"},'gridline[orientation="horizontal"]':{visibility:"visible"}});return e}function s(event){var a=b("nullthrows")(event.data.reach?b("getByPath")(event,["data","reach","scale"]):b("getByPath")(event,["data","maxReach","scale"]));return a.invert(event.x)}function t(a,c,d){var e=babelHelpers["extends"]({},a);e.barlabel={visibility:"visible"};d.forEach(function(a){!c||a.versionID===c||d.length===1?(e['bar.version[series="'+a.versionID+'"]']={fill:b("AdsPlannerStyleUtils").getTheme(a.versionIndex).chart},e['axis[orientation="horizontal"]>axisbucketmark:secondary'].color=b("AdsPlannerStyleUtils").getTheme(a.versionIndex).chart):e['bar.version[series="'+a.versionID+'"]']={fill:"#dddfe2"}});return e}e.exports={CURSOR_TYPES:k,getCursorType:d,getProcessedCurveDataForDisplay:n,getDrawableCurvePoints:m,getFilteredBudgetReachCurveData:o,getGraphBorder:g,getInvertedReachValueFromClickData:s,getReachBudgetCurveStyles:r,getScaleX:a,getScaleY:c,getShadingCurveIntersectionsAddressedByXOrigin:l,getThemedAnnotationStylesForReachBars:q,getThemedStyleForVerticalBars:t,isWithinBounds:f}}),null);
__d("XAdsReachFrequencySettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/saved_settings/",{business_id:{type:"FBID"}})}),null);
__d("AdsReachFrequencySettingsUtils",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterSet","AdsPlannerConstants","AdsReachFrequencyEnvironment","AdsReachFrequencyFlowInitBusinessSettingsAction","AdsReachFrequencyFlowInitSettingsAction","AdsReachFrequencyGraphNames","AsyncRequest","CurrentUser","XAdsReachFrequencySettingsController","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlannerConstants").CAMPAIGN_PLANNER_FILTER_FIELD_TYPES,h=b("XAdsReachFrequencySettingsController").getURIBuilder().getURI(),i={isPlannerAnonymousView:function(){return b("AdsReachFrequencyEnvironment").isPlanner()&&!b("CurrentUser").isLoggedIn()},saveSettings:function(a){if(i.isPlannerAnonymousView())return;new(b("AsyncRequest"))().setURI(h).setData(a).setMethod("POST").send()},getSettings:function(a){if(i.isPlannerAnonymousView())return;new(b("AsyncRequest"))().setURI(h).setData({business_id:a}).setHandler(function(b){a!=null&&i._updateBusinessSettingsToStore(b),i._updateUserSettingsToStore(b)}).send()},_updateBusinessSettingsToStore:function(a){a=i.getParamsFromSettingsResponse(a,["filters"],["newFilterSet","values"]);a={newFilterSet:a?new(b("AdsGenericFilterSet"))(i.convertJSONtoActualFilters(a)):null};b("AdsReachFrequencyFlowInitBusinessSettingsAction").dispatch({business_settings:a},{line:"115",module:"AdsReachFrequencySettingsUtils.js"})},_updateUserSettingsToStore:function(a){var c=b("getByPath")(a.payload,["expanded_graph_names"]),d=b("AdsReachFrequencyGraphNames").VIDEO_BENCHMARK;c.includes(d)||c.push(d);b("AdsReachFrequencyEnvironment").isPlanner()&&(c=Object.keys(b("AdsReachFrequencyGraphNames")));d=b("getByPath")(a.payload,["should_hide_buying_type_pop_up"]);a=b("getByPath")(a.payload,["reach_curve_dual_xaxis"])===0;c={graphNames:c,shouldHideBuyingTypePopUp:d,shouldFlipReachCurve:a};b("AdsReachFrequencyFlowInitSettingsAction").dispatch({settings:c},{line:"147",module:"AdsReachFrequencySettingsUtils.js"})},getParamsFromSettingsResponse:function(a,c,d){try{a=JSON.parse(b("getByPath")(a.payload,c));return b("getByPath")(a,d)}catch(a){return null}},convertJSONtoActualFilters:function(a){return a.map(function(a){var c=b("getByPath")(a,["field","name"]);c=new(b("AdsGenericFilterField"))(c,g[c]);return new(b("AdsGenericFilter"))(c,b("getByPath")(a,["operator"]),b("getByPath")(a,["value"]))})}};e.exports=i}),null);
__d("XReserveBuyingPublisherListDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/instream_reserve_buying_publisher_list/",{"package":{type:"String",required:!0}})}),null);
__d("estimateTargetingStats",["AdsAPIReachEstimateFields","AdsGraphAPI","cachedGraphAPI"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("reachestimate")).get((a={},a[b("AdsAPIReachEstimateFields").TARGETING_SPEC]=c,a))}e.exports=a}),null);
__d("getAdsReachFrequencyError",["errorDesc","invariant","AdsReachFrequencyConstants","ads-lib-formatters"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsReachFrequencyConstants").ApiErrorCodeMap,j=b("AdsReachFrequencyConstants").ReachFrequencyErrorCodes,k=b("ads-lib-formatters").createIntlNumberFormatter();function a(a,b,c){__p&&__p();b={id:a,active:b};j[a]||h(0,1249,a);var d;switch(a){case j.AUDIENCE_TOO_SMALL:c!=null&&c.minimum_reach!=null||h(0,1250);d={code:i.REACH_FREQUENCY_AUDIENCE_TOO_SMALL,message:g._(function(a,b){return a._("There aren't enough people in this audience to reach the minimum of {min_reach} people. Please edit your audience settings to reach more people.",[a._param("min_reach",b.min_reach)])},{min_reach:k(c.minimum_reach)}),priority:2};break;case j.AUDIENCE_TOO_LARGE:c!=null&&c.maximum_reach!=null||h(0,1251);d={code:i.REACH_FREQUENCY_AUDIENCE_TOO_LARGE,message:g._(function(a,b){return a._("This audience is larger than {max_reach} people, which is the maximum for reach and frequency campaigns. Please edit your audience settings to lower your reach.",[a._param("max_reach",b.max_reach)])},{max_reach:k(c.maximum_reach)}),priority:2};break;case j.TARGETING_ONE_COUNTRY:d={code:i.INVALID_TARGET_SPEC_VALUE,message:g._(function(a,b){return a._("Reach and frequency campaigns must target ads to exactly one country.")},{}),priority:1};break;case j.TRP_UNSUPPORTED_COUNTRIES:d={code:i.TRP_UNSUPPORTED_COUNTRIES,message:g._(function(a,b){return a._("The country you selected can't be used with the TRP buying type.")},{}),priority:1};break}return babelHelpers["extends"]({},b,d)}e.exports=a}),null);
__d("AdsReachFrequencySession",[],(function(a,b,c,d,e,f){"use strict";function a(){this.reset()}a.prototype.reset=function(){this.$1=Date.now()};a.prototype.get=function(){return this.$1};b=new a();e.exports=b}),null);
__d("logReachFrequencyData",["AdsInterfacesLogEvents","AdsInterfacesLogger","AdsReachFrequencySession","getByPath"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsInterfacesLogEvents").EventCategory;function a(a,c,d){var e=c&&c.campaign_id;d=b("getByPath")(d,["previous_prediction","id"],null);b("AdsInterfacesLogger").log({eventCategory:g.REACH_FREQUENCY_SHEET,eventName:a,data:babelHelpers["extends"]({},c,{rf_session_id:b("AdsReachFrequencySession").get(),action_session_id:e,rf_prediction_id:c&&c.rf_prediction_id===0?null:d,sub_session_id:e})},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}e.exports=a}),null);
__d("AdsReachFrequencyFlowStore",["invariant","AdsAccountCapabilities","AdsAccountStore","AdsActionTypes","AdsAPICampaignPaths","AdsAPIDevicePlatform","AdsAPIFacebookPosition","AdsAPIIMSPublisherTier","AdsAPIObjectives","AdsAPIPublisherPlatform","AdsAPITargetFields","AdsAppUtils","AdsBuyingTypes","AdsCampaignPlacementResetDataActionFlux","AdsCampaignSetWhatsAppPromotedObjectTypeDataActionFlux","AdsCFCampaignGroupBuyingTypeChangeDataActionFlux","AdsCFCampaignGroupSelectTabDataAction","AdsCFExistingPagePostSetPageIdDataAction","AdsCFKpiObjectiveChangeDataActionFlux","AdsCFRfInitNewDataActionFlux","AdsCFRfRestoreSavedStateDataActionFlux","AdsCFXCampaignxPromotedObjectAsyncSetAppByStoreUrlSuccessDataActionFlux","AdsCFXCampaignxPromotedObjectSetAppDataAction","AdsCFXCampaignxPromotedObjectSetAppDataActionFlux","AdsCreateCompletedActionFlux","AdsDataAtom","AdsDeliveryActionType","AdsDeliveryPredictableOptionConstants","AdsDeliverySpecBulkConverter","AdsDeliveryTab","AdsDeliveryViewStateInitReachFrequencyOptionsDataActionFlux","AdsDeliveryViewStateSelectReachFrequencyOptionDataActionFlux","AdsDeliveryViewStateUpdateReachFrequencySpecDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsGeoLocationMetaInfoDataSource","AdsGRPChangeSelectedSearchEntriesActionFlux","AdsGRPInitAppActionFlux","AdsGRPSearchIdActionFlux","AdsInstagramAccountActionSources","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInterfacesLogEvents","AdsLoadStateUtils_LEGACY","AdsOrderStatus","AdsPECreateCloseCreateFlowActionFlux","AdsPECreateStartCreateFlowActionFlux","AdsPECreateStartQuickCreateActionFlux","AdsPixelConversionStore","AdsPlacementAPISpecReaderUtils","AdsPlacementConstants","AdsPlannerCancelTargetingEditingDataActionFlux","AdsPlannerChangeBulkEditDestinationDataActionFlux","AdsPlannerChangeBulkEditInstagramDataActionFlux","AdsPlannerChangeCategoryExclusionDataActionFlux","AdsPlannerChangeContentPackageDataActionFlux","AdsPlannerChangeCurrentPlanIdDataActionFlux","AdsPlannerChangeDataInOtherOptionEditorDataActionFlux","AdsPlannerChangeDateDataActionFlux","AdsPlannerChangeEditableReservedVersionDataActionFlux","AdsPlannerChangeInlineDatePickerHoveredDataActionFlux","AdsPlannerChangeIsEditingAudienceDataActionFlux","AdsPlannerChangeIsLogoutViewDataActionFlux","AdsPlannerChangeMetricDataActionFlux","AdsPlannerChangeSelectedSearchEntriesDataActionFlux","AdsPlannerChangeTargetingInPlannerDataActionFlux","AdsPlannerChangeVersionNameDataActionFlux","AdsPlannerCheckShowPopupChangingBuyingTypeDataActionFlux","AdsPlannerClosePopupChangingBuyingTypeDataActionFlux","AdsPlannerConstants","AdsPlannerCurrencyConverter","AdsPlannerDownloadPublisherListDataActionFlux","AdsPlannerDuplicateVersionSettingsDataActionFlux","AdsPlannerGetPackageVideosPreviewMetadataDataActionFlux","AdsPlannerPlanTypeEnum","AdsPlannerPlanTypeUtils","AdsPlannerSearchIdDataActionFlux","AdsPlannerSelectComparedVersionsDataActionFlux","AdsPlannerSetIsExpandedDataActionFlux","AdsPlannerSetIsPlanCreationDetailsDialogShownDataActionFlux","AdsPlannerSetIsPlanCreationDialogShownDataActionFlux","AdsPlannerSetPlanCreationTypeDataActionFlux","AdsPlannerStoreUtils","AdsPlannerToggleIsExpandedDataActionFlux","AdsPlannerTRPPAddToBonusDataActionFlux","AdsPlannerTRPPRemoveFromBonusDataActionFlux","AdsPlannerTRPPurchaseSuccessDataActionFlux","AdsPlannerUpdatePredictionDataActionFlux","AdsPlannerUtils","AdsPlannerVersionListStore","AdsPlannerVersionsSyncManager","AdsPredictionStore","AdsReachFrequencyAddErrorActionFlux","AdsReachFrequencyAdFormatsConstants","AdsReachFrequencyAdFormatsUtils","AdsReachFrequencyConfig","AdsReachFrequencyConstants","AdsReachFrequencyCreativeFormatUtils","AdsReachFrequencyDestinationUtils","AdsReachFrequencyEnvironment","AdsReachFrequencyErrorValidators","AdsReachFrequencyFlowActions","AdsReachFrequencyFlowAddVideoAdFormatsActionFlux","AdsReachFrequencyFlowChangeAccountInfoActionFlux","AdsReachFrequencyFlowChangeAdFormatActionFlux","AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux","AdsReachFrequencyFlowChangeAdFormatsCategoryActionFlux","AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux","AdsReachFrequencyFlowChangeAdFormatsVideoAspectRatioActionFlux","AdsReachFrequencyFlowChangeAdFormatsVideoDurationActionFlux","AdsReachFrequencyFlowChangeBuyingTypeActionFlux","AdsReachFrequencyFlowChangeCampaignActionFlux","AdsReachFrequencyFlowChangeContentPackageActionFlux","AdsReachFrequencyFlowChangeDateStartActionFlux","AdsReachFrequencyFlowChangeDateStopActionFlux","AdsReachFrequencyFlowChangeDayPartingEditModeActionFlux","AdsReachFrequencyFlowChangeDayPartingScheduleActionFlux","AdsReachFrequencyFlowChangeDestinationAction","AdsReachFrequencyFlowChangeDestinationActionFlux","AdsReachFrequencyFlowChangeEventActionFlux","AdsReachFrequencyFlowChangeExportDialogShownActionFlux","AdsReachFrequencyFlowChangeFrequencyCapActionFlux","AdsReachFrequencyFlowChangeGraphMetricsInputFieldActionFlux","AdsReachFrequencyFlowChangeInstagramDestinationActionFlux","AdsReachFrequencyFlowChangeIsBonusMediaActionFlux","AdsReachFrequencyFlowChangeIsEditingAudienceActionFlux","AdsReachFrequencyFlowChangeIsEditingPlacementActionFlux","AdsReachFrequencyFlowChangeIsFrequencyCapErr0RShownActionFlux","AdsReachFrequencyFlowChangeIsHigherAverageFrequencyActionFlux","AdsReachFrequencyFlowChangeIsResetPeriodErr0RShownActionFlux","AdsReachFrequencyFlowChangeLinkActionFlux","AdsReachFrequencyFlowChangeObjectiveActionFlux","AdsReachFrequencyFlowChangeReachValueActionFlux","AdsReachFrequencyFlowChangeRefreshedAudienceActionFlux","AdsReachFrequencyFlowChangeResetPeriodActionFlux","AdsReachFrequencyFlowChangeResetPeriodModeActionFlux","AdsReachFrequencyFlowChangeSavedAudienceAction","AdsReachFrequencyFlowChangeSavedAudienceActionFlux","AdsReachFrequencyFlowChangeSearchIdResultAction","AdsReachFrequencyFlowChangeSearchIdResultActionFlux","AdsReachFrequencyFlowChangeSelectedDynamicAudiencesActionFlux","AdsReachFrequencyFlowChangeTargetingActionFlux","AdsReachFrequencyFlowCloseDynamicAudienceconfirmDialogActionFlux","AdsReachFrequencyFlowCreateNewSavedAudienceActionFlux","AdsReachFrequencyFlowDisableAudienceDoneButtonActionFlux","AdsReachFrequencyFlowGetPredictionSuccessActionFlux","AdsReachFrequencyFlowGetReservationSuccessActionFlux","AdsReachFrequencyFlowGotoReserveActionFlux","AdsReachFrequencyFlowHideDynamicAudiencePopulatingDialogActionFlux","AdsReachFrequencyFlowImportPredictionActionFlux","AdsReachFrequencyFlowInitExistingActionFlux","AdsReachFrequencyFlowInitNewActionFlux","AdsReachFrequencyFlowInitSettingsActionFlux","AdsReachFrequencyFlowLoadSearchResultsActionFlux","AdsReachFrequencyFlowLogSavedAudienceCreateErrorAction","AdsReachFrequencyFlowNextStepActionFlux","AdsReachFrequencyFlowRemoveErrorsActionFlux","AdsReachFrequencyFlowRemoveVideoAdFormatActionFlux","AdsReachFrequencyFlowReservationCompletedActionFlux","AdsReachFrequencyFlowRunInitialPredictionAction","AdsReachFrequencyFlowRunInitialPredictionActionFlux","AdsReachFrequencyFlowSaveExpandedGraphsActionFlux","AdsReachFrequencyFlowSetErrorsAction","AdsReachFrequencyFlowSetErrorsActionFlux","AdsReachFrequencyFlowSetIsEditModeAction","AdsReachFrequencyFlowSetIsUnpausePendingActionFlux","AdsReachFrequencyFlowSetPredictionPendingActionFlux","AdsReachFrequencyFlowSetReservationPendingActionFlux","AdsReachFrequencyFlowSetSelectedTierActionFlux","AdsReachFrequencyFlowSetShownActionFlux","AdsReachFrequencyFlowShowDynamicAudiencePopulatingDialogActionFlux","AdsReachFrequencyFlowToggledActionFlux","AdsReachFrequencyFlowToggleGraphExpandedActionFlux","AdsReachFrequencyFlowToggleReachCurveActionFlux","AdsReachFrequencyFlowUpdateReachCurveSelectionActionFlux","AdsReachFrequencyGraphNames","AdsReachFrequencyGraphUtils","AdsReachFrequencyHelper","AdsReachFrequencyMetricClickDataActionFlux","AdsReachFrequencyMetricDoneEditingDataActionFlux","AdsReachFrequencyMetricUtils","AdsReachFrequencyOptimization","AdsReachFrequencyPlacementUtils","AdsReachFrequencyPredictionManager","AdsReachFrequencyPromiseUtils","AdsReachFrequencyRestrictedFormats","AdsReachFrequencySettingsUtils","AdsReachFrequencyStoreUtils","AdsReachFrequencyUtils","AdsReachFrequencyValidation","AdsReachFrequencyVersionUnhighlightDataAction","AdsReachFrequencyVersionUnhighlightDataActionFlux","AdsRFCustomDefaultCreationUtils","AdsSavedAudienceStore","AdsSavedAudienceViewChangeNavTabDataActionFlux","AdsStoreUtils","AdsTargetingSavedAudienceConstants","AdsTargetingSavedAudienceDataLoader","AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux","AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux","AsyncRequest","DateConsts","DateTime","FBLogger","GRPToolConstants.brands","RFPredictionAdFormatsTypes","SearchableEntry","TypedFluxStore","XReachFrequencySearchIDAsyncController","XReserveBuyingPublisherListDownloadController","ads-app-platforms","ads-objectives","adsCreateStoreSelector","adsCreateStoreThunkSelector","adsReachFrequencyAuctionEntrySelector","areEqual","estimateTargetingStats","getAdsReachFrequencyError","getByPath","gkx","immutable","isValidTargetingSpec","logReachFrequencyData","nullthrows","promiseDone","whitelistObjectKeys"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsDeliveryPredictableOptionConstants").DEFAULT_CUSTOM_OPTION_INDEX,j=b("AdsInterfacesLogEvents").Event,k=b("AdsPlacementConstants").PLACEMENT_AD_SET_ACTIONS,l=b("AdsReachFrequencyAdFormatsConstants").DEFAULT_VIDEO_DETAILS,m=b("AdsReachFrequencyOptimization").EVENTS,n=b("AdsRFCustomDefaultCreationUtils").adsRFCustomDefaultCreationGKCheck,o=b("AdsRFCustomDefaultCreationUtils").getDefaultReachCurvePoint,p=b("AdsTargetingSavedAudienceConstants").TAB_KEY,q=b("GRPToolConstants.brands").GRPSearchSourceItemType,r=b("GRPToolConstants.brands").TRP_CAMPAIGN_ID,s=b("GRPToolConstants.brands").getAccountSpec,t=b("ads-objectives").KPItoAPIObjectives,u=b("immutable").Set,v=b("AdsReachFrequencyConstants").DEFAULT_BALANCED_FREQUENCY_CAP,w=b("AdsReachFrequencyConstants").DEFAULT_CAMPAIGN_GROUP_ID,x=b("AdsReachFrequencyConstants").EventEmitterTypes,y=b("AdsReachFrequencyConstants").ObjectiveTypes,z=b("AdsReachFrequencyConstants").ReachFrequencyErrorCodes,A=b("AdsReachFrequencyConstants").ReachFrequencyFlowSteps,B=b("AdsReachFrequencyConstants").VersionNameError,C=b("AdsPlannerConstants").DEFAULT_OBJECTIVE,D=b("AdsPlannerConstants").DEFAULT_PLAN_CREATION_CAMPAIGN_ID_PLACEHOLDER,E=b("AdsPlannerConstants").HIGHLIGHT_TIMEOUT,F=b("AdsPlannerConstants").LAST_POINT_INTERPOLATE,G=b("AdsPlannerConstants").PLAN_CREATION_INSTREAM_TRP_PLACEHOLDER_INTERPOLATE,H=b("AdsPlannerConstants").PLAN_CREATION_REACH_AND_FREQUENCY_IO_INTERPOLATE,I=b("AdsPlannerConstants").PLAN_CREATION_REACH_AND_FREQUENCY_IO_GENERAL_INTERPOLATE,J=b("AdsPlannerConstants").SKIP_PLAN_CREATION_INTERPOLATE,K=b("AdsPlannerConstants").SUPPORTED_OBJECTIVES_AUCTION_LIST,L=7,M=0,N=b("AdsReachFrequencyConfig").auction_frequency_cap,O={},P=null,Q=[b("AdsPlannerChangeMetricDataActionFlux").actionType,b("AdsReachFrequencyFlowChangeEventActionFlux").actionType,b("AdsReachFrequencyFlowUpdateReachCurveSelectionActionFlux").actionType,b("AdsReachFrequencyMetricDoneEditingDataActionFlux").actionType];c=babelHelpers.inherits(a,b("TypedFluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.getStateSelector=b("adsCreateStoreThunkSelector")(this,this.getState.bind(this)),this.getCurrentState=b("adsCreateStoreSelector")([this],function(){return P?this.getState(P):{}}.bind(this),e.id),this.$AdsReachFrequencyFlowStore1=null,this.$AdsReachFrequencyFlowStore2=!1,this.$AdsReachFrequencyFlowStore3=!1,this.$AdsReachFrequencyFlowStore4=!1,this.$AdsReachFrequencyFlowStore5=!1,this.$AdsReachFrequencyFlowStore6=!1,this.$AdsReachFrequencyFlowStore7=!1,this.$AdsReachFrequencyFlowStore8="SELECTOR",this.$AdsReachFrequencyFlowStore9=null,this.$AdsReachFrequencyFlowStore10=u(),this.$AdsReachFrequencyFlowStore11=!1,this.$AdsReachFrequencyFlowStore12=null,this.$AdsReachFrequencyFlowStore13=null,this.$AdsReachFrequencyFlowStore14=[],this.$AdsReachFrequencyFlowStore15=[],this.$AdsReachFrequencyFlowStore16=!0,this.$AdsReachFrequencyFlowStore17=u(),this.$AdsReachFrequencyFlowStore18=!0,this.$AdsReachFrequencyFlowStore19=!1}a.prototype.getShouldFlipReachCurve=function(){return this.$AdsReachFrequencyFlowStore16};a.prototype.$AdsReachFrequencyFlowStore20=function(a){this.$AdsReachFrequencyFlowStore16=a,b("AdsReachFrequencySettingsUtils").saveSettings({reach_curve_dual_xaxis:this.$AdsReachFrequencyFlowStore16?0:1})};a.prototype.$AdsReachFrequencyFlowStore21=function(a,c,d,e,f,g,h,i,j,k){__p&&__p();k===void 0&&(k=!1);P=d;var l=e.objective_name,m={},n=this.$AdsReachFrequencyFlowStore22(),o=e.external_budget;Object.assign(m,{accountID:a.account_id,accountInfo:a,campaignGroupID:c,currentStep:A.REACH_FREQUENCY,hasExistingInitialized:k,inputValue:o,isEditMode:!1,isHigherAverageFrequency:!1,isMidCampaignEdit:i,isShown:!0,objective:l,selectedGraphMetricsInputField:n,lastInputField:n});Object.assign(m,b("AdsReachFrequencyHelper").getStateFromPrediction(e,a,g,j));if(g==="planner")Object.assign(m,{plannerPlanID:h,link:e.object_store_url||"",prediction:e});else if(b("AdsAppUtils").isAppObjective(l)){c=b("getByPath")(f,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);Object.assign(m,{link:c})}this.updateFieldsForID(d,m);this.notify()};a.prototype.$AdsReachFrequencyFlowStore22=function(){return b("AdsReachFrequencyEnvironment").isPlanner()?null:"budget"};a.prototype.$AdsReachFrequencyFlowStore23=function(a,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();e===D&&this.hasState(e)&&m&&this.clearStateByID(e);P=e;this.$AdsReachFrequencyFlowStore24=!1;var o={},p=this.$AdsReachFrequencyFlowStore22(),q=this.getState(D);m=m&&e!==D&&this.hasState(D);var r=l.interpolateMode==="interpolate"&&l.planType&&b("AdsPlannerPlanTypeUtils").getIsPlanTypeBasedOnIO(l.planType);Object.assign(o,{accountID:m&&!r?b("getByPath")(q,["accountInfo","account_id"]):a.account_id,accountInfo:m&&!r?b("getByPath")(q,["accountInfo"]):a,buyingType:n,campaignGroupID:d,currentStep:A.REACH_FREQUENCY,isEditMode:!1,isHigherAverageFrequency:!1,isShown:!0,objective:f,selectedGraphMetricsInputField:p,lastInputField:p});l||(l=J);l.interpolateMode==="interpolate"&&l.planType&&Object.assign(o,{planType:l.planType});Object.assign(o,b("AdsReachFrequencyHelper").getStateInitial(a,f,g,o.planType||null));if(g==="planner"){r=b("AdsPlannerConstants").DEFAULT_VERSION_NAME;if(k){n=new Set(k.map(function(a){return this.getState(a).name}.bind(this)));n.has(r)&&(r=b("AdsReachFrequencyUtils").getValidNameForDuplication(Array.from(n),r))}m&&(b("AdsReachFrequencyStoreUtils").mergeTargetingFromState(o,this.getState(D)),Object.assign(o,{holdoutPercentage:q.holdoutPercentage}),i=q.destinationID,j=l.interpolateMode==="interpolate"&&l.planType&&b("AdsPlannerPlanTypeUtils").getShouldDisableInstagramAccount(l.planType)?null:q.instagramDestinationID,this.clearStateByID(D));l.interpolateMode==="interpolate"&&l.planType&&b("AdsPlannerPlanTypeUtils").getDoesPlanSupportContentPackaging(l.planType)&&Object.assign(o,{publisherTier:b("AdsAPIIMSPublisherTier").PREMIUM});Object.assign(o,{destinationID:i,instagramDestinationID:j,name:r,plannerPlanID:h})}i&&Object.assign(o,{destinationID:i});Object.assign(o,{auctionEntryOptionIndex:0});this.updateFieldsForID(e,o);this.notify();if(g!=="planner"){d=this.getState(e);if(!d.destinationID)this.$AdsReachFrequencyFlowStore25(a,e,f,d.event);else if(b("AdsReachFrequencyDestinationUtils").isDestinationPage(f)){p=this.selectInstagramAccount(a,e,f,d.destinationID);p||this.$AdsReachFrequencyFlowStore26(e,c,l)}else this.$AdsReachFrequencyFlowStore26(e,c,l)}else{k=this.getState(e);if(!k.instagramDestinationID){n=b("AdsPlacementAPISpecReaderUtils").removeInstagram(babelHelpers["extends"]({},k.placement));this.changePlacement(e,n,c)}this.$AdsReachFrequencyFlowStore26(e,c,l)}};a.prototype.$AdsReachFrequencyFlowStore27=function(a,c,d,e){a=e.map(function(a){return this.getState(a).name}.bind(this));e=this.getState(c);c=b("AdsReachFrequencyUtils").getValidNameForDuplication(a,e.name);a=Object.assign({},e,{name:c,reservationStatus:b("AdsOrderStatus").IMS_STATUS_UNKNOWN});this.updateFieldsForID(d,a);this.notify()};a.prototype.$AdsReachFrequencyFlowStore28=function(a){this.$AdsReachFrequencyFlowStore29(a,{campaignSchedule:null}),this.validateDates_DEPRECATED(a.campaignID),this.$AdsReachFrequencyFlowStore30(a.campaignID)};a.prototype.$AdsReachFrequencyFlowStore31=function(a){this.$AdsReachFrequencyFlowStore29(a,{startDate:null}),this.$AdsReachFrequencyFlowStore30(a.campaignID),this.validateDates_DEPRECATED(a.campaignID),this.$AdsReachFrequencyFlowStore32(a.campaignID),this.$AdsReachFrequencyFlowStore33(a.campaignID,!1),this.setResetPeriodErrors(a.campaignID,!1),this.setFrequencyCapErrors(a.campaignID,!1)};a.prototype.$AdsReachFrequencyFlowStore34=function(a,b){this.$AdsReachFrequencyFlowStore29(a,{endDate:null}),this.$AdsReachFrequencyFlowStore30(a.campaignID),this.validateDates_DEPRECATED(a.campaignID),this.$AdsReachFrequencyFlowStore32(a.campaignID),this.$AdsReachFrequencyFlowStore33(a.campaignID,b),this.setResetPeriodErrors(a.campaignID,!1),this.setFrequencyCapErrors(a.campaignID,!1),this.emit(x.DATE_CHANGED)};a.prototype.$AdsReachFrequencyFlowStore35=function(a,b){this.updateFieldsForID(a,{targeting:b}),this.$AdsReachFrequencyFlowStore36(a)};a.prototype.$AdsReachFrequencyFlowStore36=function(a){this.$AdsReachFrequencyFlowStore37(a),this.validateDates_DEPRECATED(a),this.updateFieldsForID(a,{changedTargeting:!0,refreshedAudience:!1}),this.notify()};a.prototype.getShouldHighlight=function(a){return this.$AdsReachFrequencyFlowStore17.has(a)};a.prototype.getShowPopupChangingBuyingType=function(){return this.$AdsReachFrequencyFlowStore19};a.prototype.$AdsReachFrequencyFlowStore38=function(a){this.$AdsReachFrequencyFlowStore17=this.$AdsReachFrequencyFlowStore17.remove(a)};a.prototype.$AdsReachFrequencyFlowStore39=function(a){this.$AdsReachFrequencyFlowStore17=this.$AdsReachFrequencyFlowStore17.add(a),setTimeout(function(){b("AdsReachFrequencyVersionUnhighlightDataAction").dispatch({campaignID:a},{line:"822",module:"AdsReachFrequencyFlowStore.js"})},E)};a.prototype.$AdsReachFrequencyFlowStore40=function(a,c,d,e,f,g){var h=this.getState(a);this.updateFieldsForID(a,{inputValue:d,selectedGraphMetricsInputField:c,lastInputField:c});this.$AdsReachFrequencyFlowStore39(a);d=b("AdsReachFrequencyMetricUtils").getClampMetricValue(h,c,d,e);e={budgetValue:d.budget,reachValue:d.reach,impression:d.impression,lastBudgetValue:h.budgetValue,lastReachValue:h.reachValue,objectiveType:c==="budget"?y.budget:y.reach};this.updateFieldsForID(a,e);this.$AdsReachFrequencyFlowStore30(a);g&&b("AdsPlannerVersionsSyncManager").syncPlan(g);f&&b("AdsReachFrequencyPredictionManager").predict(a,"CHANGE_METRIC",F)};a.prototype.$AdsReachFrequencyFlowStore41=function(a){this.$AdsReachFrequencyFlowStore35(a.campaignID,a.targeting||{}),this.updateFieldsForID(a.campaignID,{holdoutPercentage:a.holdoutPercentage,savedAudienceID:a.savedAudienceID}),this.$AdsReachFrequencyFlowStore42(a.campaignID,!1),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F)};a.prototype.$AdsReachFrequencyFlowStore43=function(a){a.map(function(a){var c=this.getState(a),d=b("AdsReachFrequencyStoreUtils").getPredictionIDFromState(c);d&&(b("AdsPredictionStore").invalidate(d),b("promiseDone")(b("AdsReachFrequencyPromiseUtils").promisePrediction(d),function(b){b=Object.assign({},c,{previous_prediction:b,prediction:b,reservationStatus:b.reservation_status});this.updateFieldsForID(a,b)}.bind(this)))}.bind(this)),this.notify()};a.prototype.$AdsReachFrequencyFlowStore44=function(a){this.$AdsReachFrequencyFlowStore45(a,!0),this.notify()};a.prototype.$AdsReachFrequencyFlowStore46=function(a){this.$AdsReachFrequencyFlowStore45(a,!1),this.notify()};a.prototype.$AdsReachFrequencyFlowStore47=function(a){this.$AdsReachFrequencyFlowStore28(a),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F),this.notify()};a.prototype.$AdsReachFrequencyFlowStore48=function(a){this.$AdsReachFrequencyFlowStore29(a,{isDayPartingEditMode:null}),this.validateDates_DEPRECATED(a.campaignID),this.notify()};a.prototype.$AdsReachFrequencyFlowStore49=function(a){var c=this.getState(a.campaignID);a.startDate=b("DateTime").fromLegacyArgs(a.dateStart,M);b("AdsReachFrequencyHelper").hasDateTimeChanged(a.startDate,c.startDate)&&(this.$AdsReachFrequencyFlowStore31(a),this.$AdsReachFrequencyFlowStore50(a.campaignID),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F),this.notify())};a.prototype.$AdsReachFrequencyFlowStore51=function(a){var c=this.getState(a.campaignID);a.endDate=b("DateTime").fromLegacyArgs(a.dateStop,M);if(b("AdsReachFrequencyHelper").hasDateTimeChanged(a.endDate,c.endDate)){c=b("AdsReachFrequencyStoreUtils").getCampaignLength(c)===c.intervalFrequencyCapResetPeriod;this.$AdsReachFrequencyFlowStore34(a,c);this.$AdsReachFrequencyFlowStore50(a.campaignID);b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F);this.notify()}};a.prototype.$AdsReachFrequencyFlowStore50=function(a){var c=this.getState(a);if(c.isMidCampaignEdit||!(b("AdsReachFrequencyStoreUtils").hasAuctionEntryOptionIndex(c)&&(b("AdsReachFrequencyStoreUtils").canShowHigherAverageFrequency(c)||c.accountInfo&&c.accountInfo.capabilities!=null&&c.accountInfo.capabilities.includes(b("AdsAccountCapabilities").ADS_RF_L2_ENTRY))))return;if(c.auctionEntryOptionIndex!==i){var d=b("AdsReachFrequencyStoreUtils").getAuctionEntryFrequencyStaticOptions(c),e=d[c.auctionEntryOptionIndex].frequency;d=d[c.auctionEntryOptionIndex].interval||L;this.updateFieldsForID(a,{frequencyCap:e,intervalFrequencyCapResetPeriod:d})}};a.prototype.$AdsReachFrequencyFlowStore52=function(a){var c=this.getState(a.campaignID),d=!1;a.startDate&&b("AdsReachFrequencyHelper").hasDateTimeChanged(a.startDate,c.startDate)&&(this.$AdsReachFrequencyFlowStore31(a),d=!0);a.endDate&&b("AdsReachFrequencyHelper").hasDateTimeChanged(a.endDate,c.endDate)&&(this.$AdsReachFrequencyFlowStore34(a,!1),d=!0);c.campaignSchedule&&b("AdsReachFrequencyStoreUtils").hasCampaignScheduleChanged(c.campaignSchedule,a.campaignSchedule)&&(this.$AdsReachFrequencyFlowStore28(a),d=!0);d&&(this.$AdsReachFrequencyFlowStore50(a.campaignID),this.notify(),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F))};a.prototype.$AdsReachFrequencyFlowStore53=function(a,c){var d=this.getState(a);d.publisherTier!==c&&(c===b("AdsAPIIMSPublisherTier").NORMAL?this.updateFieldsForID(a,{publisherTier:null}):this.updateFieldsForID(a,{publisherTier:c}),this.notify(),b("AdsReachFrequencyPredictionManager").predict(a,"AdsReachFrequencyFlow.CHANGE_CONTENT_PACKAGE",F))};a.prototype.$AdsReachFrequencyFlowStore54=function(a){var c=this.getState(a);c=b("AdsReachFrequencyStoreUtils").getAdFormats(c).map(function(a){if(a.formatType!==b("RFPredictionAdFormatsTypes").VIDEO)return a;a.details||g(0,1417);return babelHelpers["extends"]({},a,{details:a.details.concat(l)})});this.updateFieldsForID(a,{adFormats:c});b("AdsReachFrequencyPredictionManager").predict(a,"AdsReachFrequencyFlow.ADD_VIDEO_AD_FORMATS",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore55=function(a,c){__p&&__p();var d=this.getState(a);d=b("AdsReachFrequencyStoreUtils").getAdFormats(d).map(function(a){if(a.formatType!==b("RFPredictionAdFormatsTypes").VIDEO)return a;a.details||g(0,1417);var d=[].concat(a.details);d.splice(c,1);return babelHelpers["extends"]({},a,{details:d})});this.updateFieldsForID(a,{adFormats:d});b("AdsReachFrequencyPredictionManager").predict(a,"AdsReachFrequencyFlow.REMOVE_VIDEO_AD_FORMAT",J);this.notify()};a.prototype.$AdsReachFrequencyFlowStore56=function(a){a=b("XReserveBuyingPublisherListDownloadController").getURIBuilder().setString("package",a).getURI();a.go()};a.prototype.$AdsReachFrequencyFlowStore57=function(a,c,d){var e=this.getState(a);e=b("AdsReachFrequencyCreativeFormatUtils").reduceFormatVector(e.storyEventType||0,c,d);this.updateFieldsForID(a,{storyEventType:e});this.notify()};a.prototype.$AdsReachFrequencyFlowStore58=function(a,c){var d=this.getState(c);d=b("AdsReachFrequencyStoreUtils").getAdFormats(d).map(function(b){return babelHelpers["extends"]({},b,{categories:[a]})});this.updateFieldsForID(c,{adFormats:d});b("AdsReachFrequencyPredictionManager").predict(c,"AdsReachFrequencyFlow.CHANGE_AD_FORMATS_CATEGORY",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore59=function(a,c,d,e){var f=this.getState(c);f=b("AdsReachFrequencyStoreUtils").getAdFormats(f).map(function(c){return c.formatType!==a?c:b("AdsReachFrequencyCreativeFormatUtils").getAdFormatWithUpdatedAspectRatio(e,c,d)});this.updateFieldsForID(c,{adFormats:f});b("AdsReachFrequencyPredictionManager").predict(c,"AdsReachFrequencyFlow.CHANGE_AD_FORMATS_VIDEO_ASPECT_RATIO",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore60=function(a,c,d,e){var f=this.getState(c);f=b("AdsReachFrequencyStoreUtils").getAdFormats(f).map(function(c){return c.formatType!==a?c:b("AdsReachFrequencyCreativeFormatUtils").getAdFormatWithUpdatedCanvas(c,e,d)});this.updateFieldsForID(c,{adFormats:f});b("AdsReachFrequencyPredictionManager").predict(c,"AdsReachFrequencyFlow.CHANGE_AD_FORMATS_CANVAS",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore61=function(a,c,d){a=b("AdsReachFrequencyAdFormatsUtils").getTypeCheckboxUpdatedAdFormats(b("AdsReachFrequencyStoreUtils").getAdFormats(this.getState(c)),a,d);this.updateFieldsForID(c,{adFormats:a});b("AdsReachFrequencyPredictionManager").predict(c,"AdsReachFrequencyFlow.CHANGE_AD_FORMATS_CHECKBOX",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore62=function(a,c,d,e){var f=this.getState(c);f=b("AdsReachFrequencyStoreUtils").getAdFormats(f).map(function(c){return c.formatType!==a?c:b("AdsReachFrequencyCreativeFormatUtils").getAdFormatWithUpdatedDuration(e,c,d)});this.updateFieldsForID(c,{adFormats:f});b("AdsReachFrequencyPredictionManager").predict(c,"AdsReachFrequencyFlow.CHANGE_AD_FORMATS_VIDEO_DURATION",F);this.notify()};a.prototype.$AdsReachFrequencyFlowStore63=function(a,c,d,e,f,g,h,i,j,event){__p&&__p();var k=this.getState(c),l=!1;b("AdsReachFrequencyHelper").hasObjectiveChanged(d,k.objective)&&(this.$AdsReachFrequencyFlowStore64(a,c,d),l=!0);!!e&&e!==k.destinationID&&(this.changeDestination(c,e,""),l=!0);k.link!==j&&(this.updateFieldsForID(c,{link:j}),l=!0);f&&k.instagramDestinationID!==f&&(this.changeInstagramDestination(a,c,f,!1),l=!0);k.placement!==g&&(this.changePlacement(c,g,a),l=!0);k.storyEventType!==h&&(this.updateFieldsForID(c,{storyEventType:h}),l=!0);b("getByPath")(k,["accountInfo","account_id"])!==i.account_id&&(this.changeAccountInfo(c,i),this.removeCustomAudiences(c),l=!0);k.event!==event&&(this.updateFieldsForID(c,{event:event}),l=!0);l&&(this.notify(),b("AdsReachFrequencyPredictionManager").predict(c,a,F))};a.prototype.$AdsReachFrequencyFlowStore65=function(a,c,d){var e=this.getState(c);e.placement!==d&&(this.changePlacement(c,d,a),this.notify(),b("AdsReachFrequencyPredictionManager").predict(c,a,F))};a.prototype.removeCustomAudiences=function(a){var c=this.getState(a);c=Object.assign({},c.targeting);delete c[b("AdsAPITargetFields").CUSTOM_AUDIENCES];delete c[b("AdsAPITargetFields").EXCLUDED_CUSTOM_AUDIENCES];this.$AdsReachFrequencyFlowStore35(a,c)};a.prototype.changeAccountInfo=function(a,c){var d=this.getState(a),e=b("getByPath")(d,["accountInfo","currency"]),f=b("getByPath")(c,["currency"]);e=e!==f?{budgetValue:b("AdsPlannerCurrencyConverter").getInCurrency(d.budgetValue,e,f),budgetReachCurve:b("AdsReachFrequencyHelper").getCurveInCurrency(d.budgetReachCurve,e,f)}:{};this.updateFieldsForID(a,babelHelpers["extends"]({accountID:c.account_id,accountInfo:c,savedAudience:null,savedAudienceID:null},e));!(c.capabilities!=null&&c.capabilities.includes(b("AdsAccountCapabilities").ADS_REACH_FREQUENCY_HIGH_AVERAGE_FREQUENCY))&&d.isHigherAverageFrequency&&this.updateFieldsForID(a,{isHigherAverageFrequency:!1})};a.prototype.$AdsReachFrequencyFlowStore66=function(a,c,d,e){b("promiseDone")(b("AdsReachFrequencyPromiseUtils").promisePrediction(a),function(a){var f=b("AdsAccountStore").getSelectedAccount_LEGACY();b("AdsReachFrequencyFlowActions").initExisting(f,c||w,d,a,e,!1);b("AdsCFCampaignGroupSelectTabDataAction").dispatch({ids:[d],tab:b("AdsDeliveryTab").PREDICTABLE},{line:"1510",module:"AdsReachFrequencyFlowStore.js"});b("AdsReachFrequencyFlowSetIsEditModeAction").dispatch({ids:[d],isEditMode:!0},{line:"1514",module:"AdsReachFrequencyFlowStore.js"})})};a.prototype.$AdsReachFrequencyFlowStore67=function(a,c){__p&&__p();a=b("AdsDeliverySpecBulkConverter").toSingleSpec(a);var d=a.toJS(),e=d.id,f=d.rf_prediction_id;d=d.campaign_group_id;if(!e)return;if(!this.hasState(e)){f&&!this.isCreateFlow()&&this.$AdsReachFrequencyFlowStore66(f,d,e,a);return}f=b("adsReachFrequencyAuctionEntrySelector")(e);d=f.isAuctionEntry;if(!d)return;f=this.getState(e);d=b("AdsReachFrequencyStoreUtils").isNonBudgetSectionChanged(f,a);if(d){d={};Object.assign(d,b("AdsReachFrequencyStoreUtils").getMergedStateWithAuctionSpec(f,{},a,b("AdsReachFrequencyStoreUtils").getTimezoneID(f),b("AdsReachFrequencyStoreUtils").getCountry(f),b("AdsReachFrequencyStoreUtils").getPlacementEligibilityInfoFromState(f)));this.updateFieldsForID(e,d);this.notify();b("AdsReachFrequencyPredictionManager").predict(e,c,J)}};a.prototype.$AdsReachFrequencyFlowStore68=function(a,c,d,e,f,g){__p&&__p();var h=this.hasState(e)?this.getState(e):null;if(!b("AdsReachFrequencyStoreUtils").isInitAuctionEntryStateRequired(h,d))return;P=e;this.$AdsReachFrequencyFlowStore3=g;g=this.$AdsReachFrequencyFlowStore22();g=Object.assign({},{accountID:a.account_id,accountInfo:a,auctionEntryOptionIndex:0,campaignGroupID:w,currentStep:A.REACH_FREQUENCY,isEditMode:!1,isHigherAverageFrequency:!1,isShown:!0,objective:f,selectedGraphMetricsInputField:g,lastInputField:g},b("AdsReachFrequencyHelper").getStateInitial(a,f,b("AdsReachFrequencyEnvironment").get(),null));d=b("AdsDeliverySpecBulkConverter").toSingleSpec(d);Object.assign(g,b("AdsReachFrequencyStoreUtils").getMergedStateWithAuctionSpec(h,g,d,b("AdsReachFrequencyStoreUtils").getTimezoneID(g),b("AdsReachFrequencyStoreUtils").getCountry(g),b("AdsReachFrequencyStoreUtils").getPlacementEligibilityInfoFromState(g)));this.updateFieldsForID(e,g);this.validateDates_DEPRECATED(e);this.notify();g=this.getState(e);if(!g.destinationID)this.$AdsReachFrequencyFlowStore25(a,e,f,g.event,b("AdsReachFrequencyStoreUtils").getHasInstagramPlacement(g));else{d=d.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID);h=h&&h.destinationID;d&&h!==d&&b("AdsReachFrequencyStoreUtils").getHasInstagramPlacement(g)?this.selectInstagramAccount(a,e,f,d):this.$AdsReachFrequencyFlowStore26(e,c,J)}};a.prototype.$AdsReachFrequencyFlowStore25=function(a,c,d,event,e){e===void 0&&(e=!0);var f=b("AdsAppUtils").isAppObjective(d);b("promiseDone")(b("AdsPlannerUtils").loadDefaultDestinationID(a,f,n(a)).then(function(g){var h=!1;g&&(b("AdsReachFrequencyFlowChangeDestinationAction").dispatch({appStoreUrl:"",ids:[c],destinationID:g,destinationLabel:"",isApp:f,shouldPredict:!1},{line:"1706",module:"AdsReachFrequencyFlowStore.js"}),f?b("AdsCFXCampaignxPromotedObjectSetAppDataAction").dispatch({appID:g,objectStoreURL:void 0,ids:[c],placements:null},{line:"1716",module:"AdsReachFrequencyFlowStore.js"}):b("AdsCFExistingPagePostSetPageIdDataAction").dispatch({pageID:g},{line:"1723",module:"AdsReachFrequencyFlowStore.js"}),e&&(h=this.selectInstagramAccount(a,c,d,g)));h||b("AdsReachFrequencyFlowRunInitialPredictionAction").dispatch({campaignID:c},{line:"1743",module:"AdsReachFrequencyFlowStore.js"})}.bind(this)))};a.prototype.selectInstagramAccount=function(a,c,d,e){d=b("AdsReachFrequencyUtils").hasInstagram(d);d&&b("AdsReachFrequencyFlowActions").setInstagramDestination(a,c,e);return d};a.prototype.$AdsReachFrequencyFlowStore69=function(){if(!this.hasCurrentState())return;var a=this.getCurrentState();if(a.accountInfo==null)return;a=b("AdsReachFrequencyHelper").getDefaultTargetingSpec(a.accountInfo,null);var c=this.getCampaignID();a&&c&&this.$AdsReachFrequencyFlowStore35(c,a)};a.prototype.$AdsReachFrequencyFlowStore70=function(a){switch(a){case b("AdsPlannerPlanTypeEnum").REACH_AND_FREQUENCY_INSERTION_ORDER:return H;case b("AdsPlannerPlanTypeEnum").REACH_AND_FREQUENCY_INSERTION_ORDER_GENERAL:return I;case b("AdsPlannerPlanTypeEnum").PREMIUM_FACEBOOK_INSTREAM_VIDEO_TRP:return G;default:return J}};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;var c,d,e;switch(a.type){case b("AdsSavedAudienceViewChangeNavTabDataActionFlux").actionType:a.navTabKey===p.CREATE_NEW&&this.$AdsReachFrequencyFlowStore69();break;case b("AdsPECreateStartCreateFlowActionFlux").actionType:case b("AdsPECreateStartQuickCreateActionFlux").actionType:P=null;this.$AdsReachFrequencyFlowStore9=null;this.$AdsReachFrequencyFlowStore3=!0;break;case b("AdsPECreateCloseCreateFlowActionFlux").actionType:this.$AdsReachFrequencyFlowStore3=!1;break;case b("AdsReachFrequencyFlowChangeGraphMetricsInputFieldActionFlux").actionType:this.$AdsReachFrequencyFlowStore71(a.campaignID,a.inputField);break;case b("AdsReachFrequencyFlowInitSettingsActionFlux").actionType:a.settings&&(this.$AdsReachFrequencyFlowStore18=a.settings.shouldHideBuyingTypePopUp,this.$AdsReachFrequencyFlowStore16=a.settings.shouldFlipReachCurve,this.$AdsReachFrequencyFlowStore72(a.settings.graphNames),this.notify());break;case b("AdsReachFrequencyFlowChangeExportDialogShownActionFlux").actionType:this.$AdsReachFrequencyFlowStore73(a.isShown);break;case b("AdsReachFrequencyFlowImportPredictionActionFlux").actionType:this.$AdsReachFrequencyFlowStore21(a.accountInfo,null,a.campaignID,a.prediction,null,"cf","",!1,!1);this.notify();break;case b("AdsReachFrequencyFlowInitExistingActionFlux").actionType:b("AdsReachFrequencySettingsUtils").getSettings();this.$AdsReachFrequencyFlowStore21(a.accountInfo,a.campaignGroupID,a.campaignID,a.prediction,a.campaign,a.context,a.planID,a.isMidCampaignEdit,!0,a.shouldSetExistingInitialized);this.notify();break;case b("AdsReachFrequencyFlowToggleReachCurveActionFlux").actionType:this.$AdsReachFrequencyFlowStore20(a.shouldFlipReachCurve);this.notify();break;case b("AdsReachFrequencyVersionUnhighlightDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore38(a.campaignID);this.notify();break;case b("AdsCFRfRestoreSavedStateDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore3=!0;var f=a.prediction,g=f.campaign_time_start*b("DateConsts").MS_PER_SEC;a.isNewCampaign&&Date.now()>g&&(f=b("AdsReachFrequencyHelper").resetStartTimeToCurrent(f));this.$AdsReachFrequencyFlowStore21(a.accountInfo,a.campaignGroupID,a.campaignID,f,a.campaign,"cf",void 0,!1,!0);this.notify();break;case b("AdsGRPInitAppActionFlux").actionType:this.$AdsReachFrequencyFlowStore23(s(),a.type,null,r,"VIDEO_VIEWS","trp","","",null,[],J,!1,b("AdsBuyingTypes").RESERVED);this.notify();break;case b("AdsDeliveryViewStateSelectReachFrequencyOptionDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore74(a.id,a.index);break;case b("AdsDeliveryViewStateUpdateReachFrequencySpecDataActionFlux").actionType:case b("AdsDeliveryActionType").SET_DEFAULT_SPEC:g=a.data.spec;this.$AdsReachFrequencyFlowStore67(g,a.type);break;case b("AdsDeliveryViewStateInitReachFrequencyOptionsDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore68(a.accountInfo,a.type,a.apiSpec,a.id,a.objective,a.isCreateFlow);break;case b("AdsCFRfInitNewDataActionFlux").actionType:case b("AdsReachFrequencyFlowInitNewActionFlux").actionType:if(a.type===b("AdsCFRfInitNewDataActionFlux").actionType){this.$AdsReachFrequencyFlowStore3=!0;if(this.hasState(a.campaignID))return}b("AdsReachFrequencyEnvironment").isPlanner()?this.$AdsReachFrequencyFlowStore10=u(Object.keys(b("AdsReachFrequencyGraphNames"))):b("AdsReachFrequencySettingsUtils").getSettings();this.$AdsReachFrequencyFlowStore23(a.accountInfo,a.type,a.campaignGroupID,a.campaignID,a.objective,a.context,a.planID,a.destinationID,a.instagramDestinationID,a.versionIDs,a.adsPlannerPlanCreationSpec,a.isPlanCreationFlow,b("AdsBuyingTypes").RESERVED);this.notify();break;case b("AdsCreateCompletedActionFlux").actionType:case b("AdsDraftDraftPublishDataActionFlux").actionType:a.createdInCF&&!a.shouldPublishImmediately&&(this.$AdsReachFrequencyFlowStore3=!1);break;case b("AdsActionTypes").CREATE.PUBLISHED_FROM_CREATION:this.$AdsReachFrequencyFlowStore3=!1;break;case b("AdsPlannerSetIsPlanCreationDetailsDialogShownDataActionFlux").actionType:!a.isPlanCreationDetailsDialogShown&&this.hasState(D)&&this.clearStateByID(D);break;case b("AdsPlannerSetIsPlanCreationDialogShownDataActionFlux").actionType:a.isPlanCreationDialogShown&&this.hasState(D)&&this.clearStateByID(D);break;case b("AdsPlannerSetPlanCreationTypeDataActionFlux").actionType:f=a.creationDefaultsLoadObject;if(f&&f.hasValue()&&a.needInitializePlaceholder){g=f.getValueEnforcing();g.pageID&&this.$AdsReachFrequencyFlowStore23(g.accountInfo,a.type,w,D,C,"planner","",g.pageID,g.instagramAccountID,[],this.$AdsReachFrequencyFlowStore70(a.planCreationType),a.needInitializePlaceholder,b("AdsBuyingTypes").RESERVED)}break;case b("AdsPlannerToggleIsExpandedDataActionFlux").actionType:d=a.id;f=this.getState(d);this.setIsExpanded(d,!f.isExpanded);this.notify();break;case b("AdsPlannerSetIsExpandedDataActionFlux").actionType:f=this.getState(a.id);f.isExpanded!==a.isExpanded&&(this.setIsExpanded(a.id,a.isExpanded),this.notify());break;case b("AdsPlannerChangeInlineDatePickerHoveredDataActionFlux").actionType:f=this.getState(a.campaignID);f.isInlineDatePickerHovered!==a.hovered&&(this.setIsInlineDatePickerHovered(a.campaignID,a.hovered),this.notify());break;case b("AdsPlannerCancelTargetingEditingDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore42(a.campaignID,!1);break;case b("AdsPlannerChangeTargetingInPlannerDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore41(a);break;case b("AdsPlannerDownloadPublisherListDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore56(a.publisherTier);break;case b("AdsPlannerTRPPurchaseSuccessDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore43(a.purchasedVersionIDs);break;case b("AdsPlannerTRPPAddToBonusDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore44(a.versionID);break;case b("AdsPlannerTRPPRemoveFromBonusDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore46(a.versionID);break;case b("AdsReachFrequencyFlowChangeTargetingActionFlux").actionType:this.$AdsReachFrequencyFlowStore35(a.campaignID,a.targeting);break;case b("AdsReachFrequencyFlowChangeEventActionFlux").actionType:this.$AdsReachFrequencyFlowStore75(a.type,a.ids[0],a.event);this.notify();break;case b("AdsCFCampaignGroupBuyingTypeChangeDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore9=a.buyingType;this.notify();break;case b("AdsCFKpiObjectiveChangeDataActionFlux").actionType:if(!this.hasCurrentState())return;g=this.getCampaignID();if(g){this.$AdsReachFrequencyFlowStore64(a.type,g,t[a.kpiObjective]);var h=this.getState(g);h=b("AdsReachFrequencyPlacementUtils").getDefaultPlacement(b("AdsReachFrequencyStoreUtils").getObjective(h),b("AdsReachFrequencyStoreUtils").getCapabilities(h),!1,!1,b("AdsReachFrequencyStoreUtils").getEvent(h));this.changePlacement(g,h,a.type);this.notify();this.$AdsReachFrequencyFlowStore9===b("AdsBuyingTypes").RESERVED&&b("AdsReachFrequencyPredictionManager").predict(g,a.type,J)}break;case b("AdsReachFrequencyFlowChangeObjectiveActionFlux").actionType:this.$AdsReachFrequencyFlowStore76(a.type,a.campaignID,a.objective,a.destinationID);break;case b("AdsReachFrequencyFlowChangeAccountInfoActionFlux").actionType:this.$AdsReachFrequencyFlowStore77(a.type,a.campaignID,a.accountInfo);break;case b("AdsReachFrequencyFlowChangeDestinationActionFlux").actionType:this.changeDestination(a.ids[0],a.destinationID,a.destinationLabel);a.shouldPredict&&b("AdsReachFrequencyPredictionManager").predict(a.ids[0],a.type,F);break;case b("AdsReachFrequencyFlowDisableAudienceDoneButtonActionFlux").actionType:this.$AdsReachFrequencyFlowStore78(a.disable);break;case b("AdsCFXCampaignxPromotedObjectAsyncSetAppByStoreUrlSuccessDataActionFlux").actionType:if(!a.appID||!b("AdsAppUtils").getMobileAppStoreNameFromUrl(a.storeURL)||this.$AdsReachFrequencyFlowStore9!==b("AdsBuyingTypes").RESERVED)return;c=a.appID;var i=a.normalizedStoreURL;e=a.type;a.ids.forEach(function(a){this.changeDestination(a,c,""),this.changeLink(a,i,e),b("AdsReachFrequencyPredictionManager").predict(a,e,F)}.bind(this));break;case b("AdsCFXCampaignxPromotedObjectSetAppDataActionFlux").actionType:if(!a.appID||!b("AdsAppUtils").getMobileAppStoreNameFromUrl(a.objectStoreURL)||this.$AdsReachFrequencyFlowStore9!==b("AdsBuyingTypes").RESERVED)return;c=a.appID;var j=a.objectStoreURL;e=a.type;a.ids.forEach(function(a){this.changeDestination(a,c,""),j&&this.changeLink(a,j,e),this.notify(),b("AdsReachFrequencyPredictionManager").predict(a,e,F)}.bind(this));break;case b("AdsReachFrequencyFlowChangeInstagramDestinationActionFlux").actionType:a.ids&&a.ids.length!==0&&this.changeInstagramDestination(a.type,a.ids[0],a.instagramActorID,a.shouldPredict);break;case b("AdsReachFrequencyFlowChangeLinkActionFlux").actionType:this.changeLink(a.ids[0],a.link,a.type);b("AdsReachFrequencyPredictionManager").predict(a.ids[0],a.type,F);break;case b("AdsReachFrequencyFlowChangeDayPartingScheduleActionFlux").actionType:this.$AdsReachFrequencyFlowStore47(a);break;case b("AdsReachFrequencyFlowChangeDayPartingEditModeActionFlux").actionType:this.$AdsReachFrequencyFlowStore48(a);break;case b("AdsReachFrequencyFlowChangeDateStartActionFlux").actionType:this.$AdsReachFrequencyFlowStore49(a);break;case b("AdsReachFrequencyFlowChangeDateStopActionFlux").actionType:this.$AdsReachFrequencyFlowStore51(a);break;case b("AdsPlannerChangeDateDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore52(a);break;case b("AdsPlannerChangeContentPackageDataActionFlux").actionType:case b("AdsPlannerGetPackageVideosPreviewMetadataDataActionFlux").actionType:case b("AdsReachFrequencyFlowChangeContentPackageActionFlux").actionType:this.$AdsReachFrequencyFlowStore53(a.campaignID,a.publisherTier);break;case b("AdsPlannerChangeDataInOtherOptionEditorDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore63(a.type,a.campaignID,a.objective,a.destinationID,a.instagramDestinationID,a.placement,a.storyEventType,a.accountInfo,a.link,a.event);break;case b("AdsPlannerChangeCategoryExclusionDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore65(a.type,a.campaignID,a.placement);break;case b("AdsReachFrequencyFlowChangeFrequencyCapActionFlux").actionType:f=this.getState(a.campaignID);a.frequencyCap!==f.frequencyCap&&(this.$AdsReachFrequencyFlowStore79(a.campaignID,a.frequencyCap,f.intervalFrequencyCapResetPeriod),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.source!=="RF_BALANCE_OPTIONS"&&a.source!=="RF_BALANCE_OPTIONS_CUSTOM"?a.type:a.source,F),this.notify());break;case b("AdsReachFrequencyMetricClickDataActionFlux").actionType:f=this.getState(a.campaignID);this.updateFieldsForID(a.campaignID,{selectedGraphMetricsInputField:a.metric,inputValue:b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValue(f,a.metric)});this.setIsExpanded(a.campaignID,!0);this.notify();break;case b("AdsPlannerChangeMetricDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore40(a.campaignID,a.metric,a.metricValue,a.shouldCorrect,a.shouldPredict,a.planID);this.notify();break;case b("AdsPlannerChangeVersionNameDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore80(a.campaignID,a.name,a.planType);this.notify();break;case b("AdsReachFrequencyFlowChangeCampaignActionFlux").actionType:this.$AdsReachFrequencyFlowStore81(a.campaignID);this.notify();break;case b("AdsReachFrequencyFlowChangeReachValueActionFlux").actionType:this.onChangeReachValue(a.campaignID,a.reachValue,{});this.notify();break;case b("AdsReachFrequencyFlowChangeResetPeriodActionFlux").actionType:f=this.getState(a.campaignID);a.intervalFrequencyCapResetPeriod!==f.intervalFrequencyCapResetPeriod&&(this.$AdsReachFrequencyFlowStore82(a.campaignID,f.frequencyCap,a.intervalFrequencyCapResetPeriod),b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.source!=="RF_BALANCE_OPTIONS"&&a.source!=="RF_BALANCE_OPTIONS_CUSTOM"?a.type:a.source,F),this.notify());break;case b("AdsReachFrequencyFlowChangeResetPeriodModeActionFlux").actionType:this.$AdsReachFrequencyFlowStore83(a.resetPeriodMode);break;case b("AdsPlannerChangeIsEditingAudienceDataActionFlux").actionType:case b("AdsReachFrequencyFlowChangeIsEditingAudienceActionFlux").actionType:this.$AdsReachFrequencyFlowStore42(a.campaignID,a.isEditingAudience);!a.isEditingAudience&&!a.refreshedAudience&&b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F);this.notify();break;case b("AdsReachFrequencyFlowChangeRefreshedAudienceActionFlux").actionType:this.onChangeRefreshedAudience(a.type,a.refreshedAudience);this.notify();break;case b("AdsReachFrequencyFlowChangeIsBonusMediaActionFlux").actionType:this.$AdsReachFrequencyFlowStore45(a.campaignID,a.isBonusMedia);this.notify();break;case b("AdsReachFrequencyFlowChangeIsEditingPlacementActionFlux").actionType:this.$AdsReachFrequencyFlowStore84(a.campaignID,a.isEditingPlacement);this.notify();break;case b("AdsReachFrequencyFlowChangeIsFrequencyCapErr0RShownActionFlux").actionType:f=this.getState(a.campaignID);a.isFrequencyCapErrorShown!==f.isFrequencyCapErrorShown&&(this.$AdsReachFrequencyFlowStore29(a,{isFrequencyCapErrorShown:null}),this.$AdsReachFrequencyFlowStore30(a.campaignID));this.notify();break;case b("AdsReachFrequencyFlowChangeIsHigherAverageFrequencyActionFlux").actionType:f=this.getState(a.campaignID);a.isHigherAverageFrequency!==f.isHigherAverageFrequency&&(this.$AdsReachFrequencyFlowStore29(a,{isHigherAverageFrequency:null}),this.$AdsReachFrequencyFlowStore30(a.campaignID),b("AdsReachFrequencyStoreUtils").canEnableHighAverageFrequency(f)&&b("AdsReachFrequencyPredictionManager").predict(a.campaignID,"RF_BALANCE_OPTIONS",F),this.notify());break;case b("AdsReachFrequencyFlowChangeIsResetPeriodErr0RShownActionFlux").actionType:f=this.getState(a.campaignID);a.isResetPeriodErrorShown!==f.isResetPeriodErrorShown&&(this.$AdsReachFrequencyFlowStore29(a,{isResetPeriodErrorShown:null}),this.$AdsReachFrequencyFlowStore30(a.campaignID));this.notify();break;case b("AdsPlannerDuplicateVersionSettingsDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore27(a.planID,a.originalVersionID,a.newVersionID,a.versionIDs);this.notify();break;case b("AdsReachFrequencyFlowGetPredictionSuccessActionFlux").actionType:this.onGetPredictionSuccess(a.campaignID,a.prediction,a.params,a.currentTimeUnix);this.emit(x.CURVE_CHANGED);this.notify();break;case b("AdsReachFrequencyFlowGetReservationSuccessActionFlux").actionType:this.$AdsReachFrequencyFlowStore85(a.campaignID,a.reservation,a.reservationSource);this.notify();break;case b("AdsReachFrequencyFlowRemoveErrorsActionFlux").actionType:this.removeErrors_DEPRECATED(a.campaignID,a.errors);this.notify();break;case b("AdsReachFrequencyAddErrorActionFlux").actionType:this.addError(a.campaignID,a.error);this.notify();break;case b("AdsReachFrequencyFlowSetErrorsActionFlux").actionType:this.setErrors_DEPRECATED(a.campaignID,a.errors);this.notify();break;case b("AdsReachFrequencyFlowSetPredictionPendingActionFlux").actionType:this.onSetPredictionPending(a.campaignID,a.isPending);this.notify();break;case b("AdsReachFrequencyFlowSetReservationPendingActionFlux").actionType:this.$AdsReachFrequencyFlowStore86(a.campaignID,a.isPending);this.notify();break;case b("AdsReachFrequencyFlowSetShownActionFlux").actionType:this.$AdsReachFrequencyFlowStore87(a.campaignID,a.shown);this.notify();break;case b("AdsReachFrequencyFlowToggledActionFlux").actionType:this.$AdsReachFrequencyFlowStore88(a.campaignID,a.shouldHandleClose);break;case b("AdsReachFrequencyFlowGotoReserveActionFlux").actionType:this.$AdsReachFrequencyFlowStore89(a.campaignID);this.notify();break;case b("AdsReachFrequencyFlowNextStepActionFlux").actionType:case b("AdsReachFrequencyFlowReservationCompletedActionFlux").actionType:this.$AdsReachFrequencyFlowStore90(a.campaignID);break;case b("AdsReachFrequencyFlowRunInitialPredictionActionFlux").actionType:this.$AdsReachFrequencyFlowStore26(a.campaignID,a.type,a.adsPlannerPlanCreationSpec);break;case b("AdsReachFrequencyFlowChangeSavedAudienceActionFlux").actionType:this.changeSavedAudience(a.campaignID,a.savedAudience);this.__emitChange();break;case b("AdsReachFrequencyFlowCreateNewSavedAudienceActionFlux").actionType:d=a.campaignID;b("promiseDone")(b("AdsTargetingSavedAudienceDataLoader").createSavedAudience(a.accountID,a.audienceName,a.targetingSpec).then(function(a){if(a.id){var c=a;this.changeSavedAudience(d,c);var e=a.id;b("promiseDone")(b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsSavedAudienceStore"),function(){return b("AdsSavedAudienceStore").get(e)}),function(a){a&&e!==a.id&&b("AdsReachFrequencyFlowChangeSavedAudienceAction").dispatch({campaignID:d,savedAudience:a.id},{line:"2620",module:"AdsReachFrequencyFlowStore.js"})})}}.bind(this),function(a){b("AdsReachFrequencyFlowLogSavedAudienceCreateErrorAction").dispatch({campaignID:d,error:a},{line:"2630",module:"AdsReachFrequencyFlowStore.js"})}));this.__emitChange();break;case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:a.source===b("AdsInstagramAccountActionSources").PE_REACH_FREQUENCY&&this.changeInstagramDestination(a.type,a.data.campaignID,a.data.instagramAccountID,!0);break;case b("AdsPlannerSelectComparedVersionsDataActionFlux").actionType:a.ids.length===1&&this.$AdsReachFrequencyFlowStore81(a.ids[0]);break;case b("AdsPlannerChangeIsLogoutViewDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore6=a.isLogoutView;break;case b("AdsReachFrequencyMetricDoneEditingDataActionFlux").actionType:b("AdsReachFrequencyEnvironment").isPlanner()&&this.updateFieldsForID(a.campaignID,{selectedGraphMetricsInputField:null});this.notify();break;case b("AdsReachFrequencyFlowSetIsUnpausePendingActionFlux").actionType:this.changeIsUnpausePending(a.campaignID,a.isUnpausePending);break;case b("AdsPlannerUpdatePredictionDataActionFlux").actionType:b("AdsReachFrequencyPredictionManager").predict(a.campaignID,a.type,F);this.notify();break;case b("AdsReachFrequencyFlowChangeAdFormatsCategoryActionFlux").actionType:this.$AdsReachFrequencyFlowStore58(a.adFormatsCategory,a.campaignID);break;case b("AdsReachFrequencyFlowAddVideoAdFormatsActionFlux").actionType:this.$AdsReachFrequencyFlowStore54(a.campaignID);break;case b("AdsReachFrequencyFlowRemoveVideoAdFormatActionFlux").actionType:this.$AdsReachFrequencyFlowStore55(a.ids[0],a.index);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeAdFormatsVideoAspectRatioActionFlux").actionType:this.$AdsReachFrequencyFlowStore59(a.adFormatType,a.ids[0],a.index,a.aspectRatio);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeAdFormatsVideoDurationActionFlux").actionType:this.$AdsReachFrequencyFlowStore62(a.adFormatType,a.ids[0],a.index,a.duration);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux").actionType:this.$AdsReachFrequencyFlowStore60(a.adFormatType,a.ids[0],a.index,a.isChecked);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux").actionType:this.$AdsReachFrequencyFlowStore61(a.adFormatType,a.ids[0],a.isChecked);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeAdFormatActionFlux").actionType:this.$AdsReachFrequencyFlowStore57(a.ids[0],a.value,a.status);a.eligibilityInformation=this.getPlacementEligibilityInfo(a.ids[0]);break;case b("AdsReachFrequencyFlowChangeSearchIdResultActionFlux").actionType:h=null;if(a.response){var l=a.response;h=Object.keys(l).map(function(a){return l[a]})}this.$AdsReachFrequencyFlowStore91(h);break;case b("AdsReachFrequencyFlowLoadSearchResultsActionFlux").actionType:this.$AdsReachFrequencyFlowStore91(a.results);break;case b("AdsGRPSearchIdActionFlux").actionType:case b("AdsPlannerSearchIdDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore92(a.id);break;case b("AdsGRPChangeSelectedSearchEntriesActionFlux").actionType:case b("AdsPlannerChangeSelectedSearchEntriesDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore93(a.selectedSearchEntries);break;case b("AdsReachFrequencyFlowSetSelectedTierActionFlux").actionType:this.$AdsReachFrequencyFlowStore94(a.campaignID,a.type,a.selectedTier);break;case b("AdsReachFrequencyFlowChangeSelectedDynamicAudiencesActionFlux").actionType:this.$AdsReachFrequencyFlowStore95(a.selectedDynamicAudiences);break;case b("AdsReachFrequencyFlowCloseDynamicAudienceconfirmDialogActionFlux").actionType:this.$AdsReachFrequencyFlowStore96();break;case b("AdsReachFrequencyFlowShowDynamicAudiencePopulatingDialogActionFlux").actionType:this.$AdsReachFrequencyFlowStore97(a);break;case b("AdsReachFrequencyFlowHideDynamicAudiencePopulatingDialogActionFlux").actionType:this.$AdsReachFrequencyFlowStore98();break;case b("AdsReachFrequencyFlowToggleGraphExpandedActionFlux").actionType:this.$AdsReachFrequencyFlowStore99(a.graphName);break;case b("AdsReachFrequencyFlowSaveExpandedGraphsActionFlux").actionType:this.$AdsReachFrequencyFlowStore72(a.graphNames);break;case b("AdsReachFrequencyFlowUpdateReachCurveSelectionActionFlux").actionType:this.$AdsReachFrequencyFlowStore100(a);break;case b("AdsPlannerChangeCurrentPlanIdDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore6||this.$AdsReachFrequencyFlowStore101(a.planID);break;case b("AdsPlannerChangeEditableReservedVersionDataActionFlux").actionType:a.versionID!==null&&(f=this.getState(a.versionID),f.isExpanded||(this.setIsExpanded(a.versionID,!0),this.notify()));break;case b("AdsPlannerChangeBulkEditDestinationDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore102(a.type,a.campaignIDs,a.destinationID);break;case b("AdsPlannerClosePopupChangingBuyingTypeDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore19=!1;this.notify();break;case b("AdsPlannerCheckShowPopupChangingBuyingTypeDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore18=a.hasChecked;this.notify();break;case b("AdsPlannerChangeBulkEditInstagramDataActionFlux").actionType:this.$AdsReachFrequencyFlowStore103(a.type,a.campaignIDs,a.instagramDestinationID);break;case b("AdsReachFrequencyFlowChangeBuyingTypeActionFlux").actionType:this.$AdsReachFrequencyFlowStore104(a.type,a.buyingType,a.campaignID);break}if(Q.includes(a.type)&&a.campaignID){g=this.getState(a.campaignID);h=b("AdsReachFrequencyErrorValidators").getErrors_DEPRECATED(g);this.setErrors_DEPRECATED(a.campaignID,h);this.notify()}if(k.has(a.type)){f=a;a.type===b("AdsReachFrequencyFlowChangeEventActionFlux").actionType&&(f=babelHelpers["extends"]({},a,{eligibilityInformation:b("AdsReachFrequencyStoreUtils").getPlacementEligibilityInfoFromState(this.getState(a.ids[0]))}));this.$AdsReachFrequencyFlowStore105(f)}};a.prototype.$AdsReachFrequencyFlowStore101=function(a){a=b("AdsPlannerVersionListStore").get(a);b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&a.data.length===1&&this.$AdsReachFrequencyFlowStore81(a.data[0])};a.prototype.$AdsReachFrequencyFlowStore106=function(a){var c=a.ids[0];if(D===c||a.type===b("AdsReachFrequencyFlowChangeEventActionFlux").actionType){var d=this.getState(c);d=d.placement||{};d=b("AdsReachFrequencyHelper").processPlacementAction(a,d);this.changePlacement(c,d,a.type)}};a.prototype.$AdsReachFrequencyFlowStore105=function(a){__p&&__p();var c;c=((c=(c=a.campaignIDs)!=null?c:a.ids)!=null?c:[])[0];if(!this.hasState(c))return;if(b("AdsReachFrequencyEnvironment").isPlanner()){this.$AdsReachFrequencyFlowStore106(a);return}var d=this.getState(c).placement||{},e=b("AdsReachFrequencyHelper").processPlacementAction(a,d),f=b("adsReachFrequencyAuctionEntrySelector")(c);f=f.isAuctionEntry;if(f&&[b("AdsCampaignPlacementResetDataActionFlux").actionType,b("AdsUEditorCampaignSelectWebsitePromotedObjectTypeDataActionFlux").actionType,b("AdsUEditorCampaignSelectWhatsAppPromotedObjectTypeDataActionFlux").actionType,b("AdsUEditorCampaignSelectAppPromotedObjectTypeDataActionFlux").actionType,b("AdsUEditorCampaignSelectPixelPromotedObjectTypeDataActionFlux").actionType,b("AdsUEditorCampaignSelectOfflinePromotedObjectTypeDataActionFlux").actionType,b("AdsCampaignSetWhatsAppPromotedObjectTypeDataActionFlux").actionType].includes(a.type)&&b("areEqual")(b("AdsReachFrequencyStoreUtils").normalizeTargetingAndPlacement(d),b("AdsReachFrequencyStoreUtils").normalizeTargetingAndPlacement(e)))return;this.changePlacement(c,e,a.type);if(b("AdsReachFrequencyEnvironment").isTRP())return;f=b("AdsPlacementAPISpecReaderUtils").isPublisherPlatformAdded(b("AdsAPIPublisherPlatform").INSTAGRAM,d,e);if(f){d=this.getState(c);this.selectInstagramAccount(d.accountInfo,c,d.objective,d.destinationID)}b("AdsReachFrequencyPredictionManager").predict(c,a.type,F)};a.prototype.$AdsReachFrequencyFlowStore79=function(a,c,d){var e=this.getState(a);if(c===e.frequencyCap)return;!b("AdsReachFrequencyStoreUtils").isResetPeriodValid(e,d,c,b("AdsReachFrequencyStoreUtils").getCampaignLength(e))?(this.setFrequencyCapErrors(a,!0),c=e.frequencyCap):this.setFrequencyCapErrors(a,!1);this.updateFieldsForID(a,{frequencyCap:c});this.$AdsReachFrequencyFlowStore30(a)};a.prototype.$AdsReachFrequencyFlowStore82=function(a,c,d){var e=this.getState(a);if(d===e.intervalFrequencyCapResetPeriod)return;!b("AdsReachFrequencyStoreUtils").isResetPeriodValid(e,d,c,b("AdsReachFrequencyStoreUtils").getCampaignLength(e))?(this.setResetPeriodErrors(a,!0),b("AdsReachFrequencyStoreUtils").getHasInstagramPlacementOnly(e)?d=e.intervalFrequencyCapResetPeriod:d=b("AdsReachFrequencyStoreUtils").getCampaignLength(e)):this.setResetPeriodErrors(a,!1);this.updateFieldsForID(a,{intervalFrequencyCapResetPeriod:d});this.$AdsReachFrequencyFlowStore30(a)};a.prototype.changeSavedAudience=function(a,c){this.updateFieldsForID(a,{savedAudienceID:b("getByPath")(c,["id"]),savedAudience:c})};a.prototype.changePlacement=function(a,c,d){__p&&__p();this.updateFieldsForID(a,{placement:c});var e=this.getState(a),f=b("AdsReachFrequencyStoreUtils").getMrcVideoViewGrayOutReason(c,this.getPlacementEligibilityInfo(a),e.accountInfo);if(f!==null){f=b("AdsReachFrequencyStoreUtils").getEvent(e);e=f!==m.VIDEO_VIEW_2_SECONDS?f:m.IMPRESSION_10_SECONDS;this.$AdsReachFrequencyFlowStore75(d,a,e)}f=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(c);d=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveInstreamPlacements(c);(b("AdsReachFrequencyEnvironment").isPlanner()&&!d||b("AdsReachFrequencyEnvironment").isAdsInterfaces()&&!f)&&this.$AdsReachFrequencyFlowStore53(a,null);this.$AdsReachFrequencyFlowStore107(a);this.$AdsReachFrequencyFlowStore37(a);this.$AdsReachFrequencyFlowStore108(a);this.$AdsReachFrequencyFlowStore109(a);this.$AdsReachFrequencyFlowStore32(a);this.notify()};a.prototype.$AdsReachFrequencyFlowStore107=function(a){var c=this.getState(a);b("AdsReachFrequencyStoreUtils").getHasInstagramPlacement(c)||this.updateFieldsForID(a,{instagramDestinationID:null})};a.prototype.changeLink=function(a,c,d){__p&&__p();var e=this.getState(a);if(c!==e.link){this.updateFieldsForID(a,{link:c});c=b("AdsAppUtils").getMobileAppStoreNameFromUrl(c);c=b("ads-app-platforms").getOSForMobileStore(c);if(c){e=babelHelpers["extends"]({},e.placement);e.user_os=[c];this.changePlacement(a,e,d)}this.notify()}};a.prototype.changeDestination=function(a,b,c){var d=this.getState(a);b!==d.destinationID&&(this.updateFieldsForID(a,{destinationID:b,destinationLabel:c,link:null}),this.$AdsReachFrequencyFlowStore30(a),this.notify())};a.prototype.changeInstagramDestination=function(a,c,d,e){e=this.getState(c);d!==e.instagramDestinationID&&(this.updateFieldsForID(c,{instagramDestinationID:d}),this.$AdsReachFrequencyFlowStore30(c),this.$AdsReachFrequencyFlowStore109(c),b("AdsReachFrequencyPredictionManager").predict(c,a,F),this.notify())};a.prototype.$AdsReachFrequencyFlowStore104=function(a,c,d){var e=this.getState(d);c!==e.buyingType&&(this.updateFieldsForID(d,{buyingType:c}),c===b("AdsBuyingTypes").AUCTION&&(this.updateFieldsForID(d,{frequencyCap:N}),e.frequencyCap!==v&&!this.$AdsReachFrequencyFlowStore18&&(this.$AdsReachFrequencyFlowStore19=!0),K.includes(e.objective)||(this.updateFieldsForID(d,{objective:C}),this.$AdsReachFrequencyFlowStore18||(this.$AdsReachFrequencyFlowStore19=!0))),c===b("AdsBuyingTypes").RESERVED&&this.updateFieldsForID(d,{frequencyCap:v}),b("AdsReachFrequencyPredictionManager").predict(d,a,F),this.notify())};a.prototype.notify=function(){this.__emitChange()};a.prototype.emit=function(event){event===void 0&&(event="change"),this.__changed=!0,this.__emitter.emit(event)};a.prototype.$AdsReachFrequencyFlowStore33=function(a,c){__p&&__p();var d=this.getState(a),e=b("AdsReachFrequencyStoreUtils").getCampaignLength(d);if(e<=0)return;var f=d.intervalFrequencyCapResetPeriod,g=d.frequencyCap;d.isMidCampaignEdit&&c&&this.updateFieldsForID(a,{intervalFrequencyCapResetPeriod:e});c=b("AdsReachFrequencyStoreUtils").isResetPeriodValid(d,f,g,b("AdsReachFrequencyStoreUtils").getCampaignLength(d));if(c)return;if(b("AdsReachFrequencyStoreUtils").getHasInstagramPlacementOnly(d)){c=(g-1)*b("AdsReachFrequencyConstants").MIN_INSTAGRAM_RESET_PERIOD_PER_IMPRESSION+1;if(e<c){d=Math.floor((e-1)/b("AdsReachFrequencyConstants").MIN_INSTAGRAM_RESET_PERIOD_PER_IMPRESSION)+1;this.updateFieldsForID(a,{frequencyCap:d,intervalFrequencyCapResetPeriod:e})}else f>e&&this.updateFieldsForID(a,{intervalFrequencyCapResetPeriod:e})}else this.updateFieldsForID(a,{intervalFrequencyCapResetPeriod:e});this.setResetPeriodErrors(a,!1);this.setFrequencyCapErrors(a,!1)};a.prototype.$AdsReachFrequencyFlowStore32=function(a){var c=this.getState(a),d=b("getByPath")(c,["placement"]);d=!b("AdsPlacementAPISpecReaderUtils").isActiveFacebookPosition(d,b("AdsAPIFacebookPosition").RHC);d&&(b("AdsReachFrequencyStoreUtils").getCampaignLength(c)===1&&this.updateFieldsForID(a,{frequencyCap:1}))};a.prototype.isReady=function(a){a=this.getStateReference(a);if(!a)return!1;return!a.accountInfo?!1:!0};a.prototype.hasInitialPredictionRun=function(a){return a&&a.previous_prediction?!0:!1};a.prototype.getPlacementEligibilityInfo=function(a){a=this.getState(a);return b("AdsReachFrequencyStoreUtils").getPlacementEligibilityInfoFromState(a)};a.prototype.getPlacementEligibilityInfoFromSettings=function(a,c,d,e,event,f,g,h){a=babelHelpers["extends"]({},this.getState(a),{placement:c,objective:d,storyEventType:e,event:event,isReachAndFrequencyIOBuyingGeneral:f,isReachAndFrequencyIOBuyingInstream:g,isTRPReserveBuying:h});return b("AdsReachFrequencyStoreUtils").getPlacementEligibilityInfoFromState(a)};a.prototype.getPlacementEligibilityInfoForInventoryInsight=function(a){return{buyingType:b("AdsBuyingTypes").RESERVED,capabilities:[b("AdsAccountCapabilities").CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE],objective:b("AdsAPIObjectives").VIDEO_VIEWS,spec:a,rfRestrictedFormatFlags:b("AdsReachFrequencyCreativeFormatUtils").fromBitVector(b("AdsReachFrequencyRestrictedFormats").UNSPECIFIED)}};a.prototype.isCreateFlow=function(){return this.$AdsReachFrequencyFlowStore3};a.prototype.clearStateByID=function(a){delete O[a]};a.prototype.getState=function(a){return O[a]||{}};a.prototype.hasCurrentState=function(){var a=this.getCampaignID();return a?this.hasState(a):!1};a.prototype.hasState=function(a){a=O[a]||{};return b("AdsReachFrequencyEnvironment").isTRP()?Object.keys(a).length>0:!!a.accountID};a.prototype.getStateReference=function(a){return O[a]||{}};a.prototype.clear=function(){O={}};a.prototype.getPredictionID=function(a){if(!a)return null;a=this.getState(a);return b("getByPath")(a,["previous_prediction","id"])};a.prototype.$AdsReachFrequencyFlowStore29=function(a,c){this.updateFieldsForID(a.campaignID,b("whitelistObjectKeys")(a,c))};a.prototype.validateDates_DEPRECATED=function(a){var c=this.getState(a);if(!b("AdsReachFrequencyStoreUtils").getTimezoneID(c))return;this.setErrors_DEPRECATED(a,b("AdsReachFrequencyValidation").getDatesErrors(c.startDate,c.endDate,b("AdsReachFrequencyStoreUtils").getTimezoneID(c),b("AdsReachFrequencyStoreUtils").getCountry(c),b("getByPath")(c,["accountInfo","rf_spec"]),c.campaignSchedule,!!c.isMidCampaignEdit,b("getByPath")(c,["previous_prediction","is_io"],!1)))};a.prototype.$AdsReachFrequencyFlowStore108=function(a){var c=this.getState(a);this.setErrors_DEPRECATED(a,b("AdsReachFrequencyValidation").getPlacementErrors(c.placement))};a.prototype.$AdsReachFrequencyFlowStore109=function(a){var c=this.getState(a),d=!b("AdsAppUtils").isAppObjective(c.objective);d=b("AdsReachFrequencyValidation").getInstagramAccountErrors(d,c.placement,c.instagramDestinationID);this.setErrors_DEPRECATED(a,d)};a.prototype.$AdsReachFrequencyFlowStore110=function(a){a.filter(function(a){return a.active}).forEach(function(a){b("logReachFrequencyData")(j.RF_ERRORS,{rf_campaign_id:this.getCampaignID(),error_code:a.code,error_message:a.message},this.getCurrentState())}.bind(this))};a.prototype.$AdsReachFrequencyFlowStore111=function(a){a=this.getState(a).errorMap;return a?a:b("immutable").Map()};a.prototype.addError=function(a,b){b=this.$AdsReachFrequencyFlowStore111(a).set(b.key,b);this.updateFieldsForID(a,{errorMap:b})};a.prototype.setErrors_DEPRECATED=function(a,b){var c={},d=[];b.forEach(function(a){a.active!==void 0||g(0,3458),a.id!==void 0||g(0,3459),c[a.id]=!0,a.active&&d.push(a)});b=this.getState(a).errors||[];b.forEach(function(a){a.id||g(0,3460),c[a.id]||d.push(a)});this.updateFieldsForID(a,{errors:d});this.$AdsReachFrequencyFlowStore110(d)};a.prototype.setIsExpanded=function(a,b){this.updateFieldsForID(a,{isExpanded:b})};a.prototype.setIsInlineDatePickerHovered=function(a,b){this.updateFieldsForID(a,{isInlineDatePickerHovered:b})};a.prototype.setResetPeriodErrors=function(a,b){this.updateFieldsForID(a,{hasResetPeriodError:b,isResetPeriodErrorShown:!0})};a.prototype.setFrequencyCapErrors=function(a,b){this.updateFieldsForID(a,{hasFrequencyCapError:b,isFrequencyCapErrorShown:!0})};a.prototype.removeErrors_DEPRECATED=function(a,b){b=b.map(function(a){return{id:a,active:!1}});this.setErrors_DEPRECATED(a,b)};a.prototype.updateFieldsForID=function(a,b){O||g(0,3461),O[a]=babelHelpers["extends"]({},O[a]||{},b)};a.prototype.resetPrediction=function(a){this.updateFieldsForID(a,{prediction:void 0})};a.prototype.$AdsReachFrequencyFlowStore30=function(a){var c=O[a];b("AdsReachFrequencyStoreUtils").isPredictionStale(c)?(this.resetPrediction(a),this.removeErrors_DEPRECATED(a,[z.RESERVATION_BACKEND_FAILED])):c.previous_prediction&&this.updateFieldsForID(a,{prediction:c.previous_prediction})};a.prototype.$AdsReachFrequencyFlowStore112=function(a){a.age_max===b("AdsReachFrequencyConstants").Targeting.AGE_MAX&&delete a.age_max;return a};a.prototype.$AdsReachFrequencyFlowStore37=function(a){var c=this.getState(a),d=this.$AdsReachFrequencyFlowStore113(a);b("areEqual")(d,c.targetingSpec)||(this.updateFieldsForID(a,{targetingSpec:this.$AdsReachFrequencyFlowStore112(Object.assign({},d)),targetingMetaInfo:null,usersCount:null}),this.$AdsReachFrequencyFlowStore30(a),this.$AdsReachFrequencyFlowStore114(a))};a.prototype.$AdsReachFrequencyFlowStore113=function(a){a=this.getState(a);return this.$AdsReachFrequencyFlowStore112(babelHelpers["extends"]({},a.targeting||{},a.placement||{}))};a.prototype.$AdsReachFrequencyFlowStore74=function(a,b){this.updateFieldsForID(a,{auctionEntryOptionIndex:b}),this.notify()};a.prototype.$AdsReachFrequencyFlowStore42=function(a,b){var c=this.getState(a);b!==c.isEditingAudience&&this.updateFieldsForID(a,{isEditingAudience:b});b&&this.updateFieldsForID(a,{refreshedAudience:!1});this.updateFieldsForID(a,{changedTargeting:!1})};a.prototype.onChangeRefreshedAudience=function(a,c){var d=b("nullthrows")(this.getCampaignID()),e=this.getCurrentState();c!==e.refreshedAudience&&this.updateFieldsForID(d,{refreshedAudience:c});c&&(b("AdsReachFrequencyPredictionManager").predict(d,a,F),this.updateFieldsForID(d,{changedTargeting:!1}))};a.prototype.$AdsReachFrequencyFlowStore45=function(a,b){var c=this.getState(a);b!==c.isBonusMedia&&this.updateFieldsForID(a,{isBonusMedia:b})};a.prototype.$AdsReachFrequencyFlowStore84=function(a,b){var c=this.getState(a);b!==c.isEditingPlacement&&this.updateFieldsForID(a,{isEditingPlacement:b})};a.prototype.$AdsReachFrequencyFlowStore75=function(a,c,event){__p&&__p();var d=this.getState(c);this.updateFieldsForID(c,{event:event});var e=d.selectedGraphMetricsInputField;if(e){e=b("AdsReachFrequencyMetricUtils").getNewMetric(e,event);e&&this.$AdsReachFrequencyFlowStore71(c,e)}if(event===m.VIDEO_VIEW_2_SECONDS){e=[b("AdsAPIDevicePlatform").MOBILE];b("getByPath")(d,["placement","publisher_platforms"],[]).includes("audience_network")&&e.push(b("AdsAPIDevicePlatform").DESKTOP);this.updateFieldsForID(c,{placement:babelHelpers["extends"]({},d.placement,{device_platforms:e})})}[m.VIDEO_VIEW_2_SECONDS,m.VIDEO_VIEW_15_SECONDS].includes(event)&&this.updateFieldsForID(c,{isHigherAverageFrequency:!1});this.$AdsReachFrequencyFlowStore30(c);b("AdsReachFrequencyPredictionManager").predict(c,a,F)};a.prototype.$AdsReachFrequencyFlowStore64=function(a,c,d){this.updateFieldsForID(c,{objective:d}),d!==b("AdsAPIObjectives").VIDEO_VIEWS?this.$AdsReachFrequencyFlowStore75(a,c,m.IMPRESSION_10_SECONDS):this.$AdsReachFrequencyFlowStore30(c)};a.prototype.$AdsReachFrequencyFlowStore76=function(a,c,d,e){__p&&__p();var f=!1,g=this.getState(c);b("AdsReachFrequencyHelper").hasObjectiveChanged(d,g.objective)&&(this.$AdsReachFrequencyFlowStore64(a,c,d),f=!0);!!e&&e!==g.destinationID&&(this.changeDestination(c,e,""),f=!0);e=b("AdsReachFrequencyPlacementUtils").getDefaultPlacement(d,b("AdsReachFrequencyStoreUtils").getCapabilities(this.getState(c)),!1,!1,b("AdsReachFrequencyStoreUtils").getEvent(g));if(!g.instagramDestinationID){e.instagram_positions=[];d=e.publisher_platforms;d&&(e.publisher_platforms=d.filter(function(a){return a!==b("AdsAPIPublisherPlatform").INSTAGRAM}))}this.changePlacement(c,e,a);f&&(this.notify(),b("AdsReachFrequencyPredictionManager").predict(c,a,F))};a.prototype.$AdsReachFrequencyFlowStore102=function(a,c,d){c.forEach(function(c){var e=this.getState(c);d!==e.destinationID&&!b("AdsPlannerStoreUtils").isCampaignReservedOrPurchased(e)&&(this.changeDestination(c,d,""),b("AdsReachFrequencyPredictionManager").predict(c,a,F))}.bind(this)),this.notify()};a.prototype.$AdsReachFrequencyFlowStore103=function(a,c,d){c.forEach(function(c){var e=this.getState(c);e.instagramDestinationID&&d!==e.instagramDestinationID&&!b("AdsPlannerStoreUtils").isCampaignReservedOrPurchased(e)&&this.changeInstagramDestination(a,c,d,!0)}.bind(this)),this.notify()};a.prototype.$AdsReachFrequencyFlowStore77=function(a,c,d){var e=!1,f=this.getState(c);b("getByPath")(f,["accountInfo","account_id"])!==d.account_id&&(this.changeAccountInfo(c,d),this.removeCustomAudiences(c),e=!0);e&&(this.notify(),b("AdsReachFrequencyPredictionManager").predict(c,a,F))};a.prototype.onChangeReachValue=function(a,c,d){var e=this.getState(a);c!==e.reachValue&&(this.updateFieldsForID(a,{reachValue:c,reprediction:d}),b("AdsReachFrequencyEnvironment").isPlanner()&&this.updateFieldsForID(a,{objectiveType:y.reach}),this.$AdsReachFrequencyFlowStore30(a))};a.prototype.$AdsReachFrequencyFlowStore81=function(a){P=a};a.prototype.$AdsReachFrequencyFlowStore80=function(a,c,d){__p&&__p();if(c.length===0)return;var e=/\//gi;if(e.test(c)){this.$AdsReachFrequencyFlowStore12=a;this.$AdsReachFrequencyFlowStore13=B.DEFAULT;return}if(b("AdsPlannerPlanTypeUtils").getIsPlanTypeBasedOnTRP(d)&&!b("AdsReachFrequencyUtils").isValidNielsenName(c)){this.$AdsReachFrequencyFlowStore12=a;this.$AdsReachFrequencyFlowStore13=B.TRP;return}this.$AdsReachFrequencyFlowStore12=null;this.$AdsReachFrequencyFlowStore13=null;this.updateFieldsForID(a,{name:c})};a.prototype.getCampaignID=function(){return P};a.prototype.onChangeBudgetValue=function(a,b){var c=this.getState(a);b!==c.budgetValue&&(this.updateFieldsForID(a,{budgetValue:b,objectiveType:y.budget}),this.$AdsReachFrequencyFlowStore30(a))};a.prototype.$AdsReachFrequencyFlowStore26=function(a,c,d){b("AdsReachFrequencyPredictionManager").predict(a,c,d),this.emit()};a.prototype.$AdsReachFrequencyFlowStore94=function(a,c,d){this.updateFieldsForID(a,{tier:d}),b("AdsReachFrequencyPredictionManager").predict(a,c,F),this.notify()};a.prototype.$AdsReachFrequencyFlowStore99=function(a){this.$AdsReachFrequencyFlowStore10.has(a)?this.$AdsReachFrequencyFlowStore10=this.$AdsReachFrequencyFlowStore10.remove(a):this.$AdsReachFrequencyFlowStore10=this.$AdsReachFrequencyFlowStore10.add(a),b("AdsReachFrequencyEnvironment").isPlanner()||b("AdsReachFrequencySettingsUtils").saveSettings({expanded_graph_names:this.$AdsReachFrequencyFlowStore10.toArray()}),this.notify()};a.prototype.$AdsReachFrequencyFlowStore72=function(a){this.$AdsReachFrequencyFlowStore10=u(a),this.$AdsReachFrequencyFlowStore10=this.$AdsReachFrequencyFlowStore10.add(b("AdsReachFrequencyGraphNames").CUMULATIVE_FREQUENCY),this.notify()};a.prototype.$AdsReachFrequencyFlowStore87=function(a,b){this.updateFieldsForID(a,{isShown:b,currentStep:A.REACH_FREQUENCY}),this.notify()};a.prototype.$AdsReachFrequencyFlowStore88=function(a,b){if(!b)return;b=this.getState(a);b.isShown&&this.$AdsReachFrequencyFlowStore87(a,!1)};a.prototype.$AdsReachFrequencyFlowStore89=function(a){this.updateFieldsForID(a,{currentStep:A.RESERVATION,isShown:!0}),this.notify()};a.prototype.$AdsReachFrequencyFlowStore90=function(a){var c=this.getState(a),d=c.currentStep,e=b("getByPath")(b("AdsPixelConversionStore").getConversionChoice(),["id"]);e=!!e;c=b("AdsReachFrequencyStoreUtils").canGotoNextStep(c,d,e);if(!c)return;this.updateFieldsForID(a,{currentStep:d+1});this.notify()};a.prototype.getPredictionUpdateSpec=function(a,c,d,e){__p&&__p();var f=b("AdsReachFrequencyStoreUtils").getMinimumReach(a),g={parsed_target_spec:d.target_spec,objective:d.objective};g=babelHelpers["extends"]({},c,g);var h=b("AdsReachFrequencyStoreUtils").getInterpolatedReach(c);g={budgetValue:c.external_budget,externalMinimumBudget:c.external_minimum_budget,externalMinimumReach:c.external_minimum_reach,holdoutPercentage:c.holdout_percentage||0,impression:c.external_impression,lastBudgetValue:c.external_budget,lastReachValue:c.external_reach,prediction:g,previous_prediction:g,predictionProgress:null,reachValue:h,timeOfLastSuccessfulPrediction:e||Date.now(),trpAudienceSize:c.grp_audience_size||0,reservationStatus:c.reservation_status};h={lastCampaignSchedule:d.day_parting_schedule,lastDestinationID:a.destinationID,lastInstagramDestinationID:a.instagramDestinationID||null,lastEndDate:b("DateTime").fromLegacyArgs(d.stop_time*1e3,b("AdsReachFrequencyStoreUtils").getTimezoneID(a)),lastStartDate:b("DateTime").fromLegacyArgs(d.start_time*1e3,b("AdsReachFrequencyStoreUtils").getTimezoneID(a)),lastStoryEventType:d.story_event_type,lastTargetingSpec:d.target_spec};e=babelHelpers["extends"]({},g,h);b("AdsReachFrequencyStoreUtils").hasInitialPredictionRun(a)||Object.assign(e,{objectiveType:y.budget});d=!!c.interval_frequency_cap;g=d?c.interval_frequency_cap:c.frequency_cap;if(d){h=c.interval_frequency_cap_reset_period;d=h/b("DateConsts").HOUR_PER_DAY;Object.assign(e,{intervalFrequencyCapResetPeriod:d,lastIntervalFrequencyCapResetPeriod:d})}g&&Object.assign(e,{frequencyCap:g,lastFrequencyCap:g});h=c.curve_budget_reach;h&&Object.assign(e,babelHelpers["extends"]({},b("AdsReachFrequencyHelper").getStateCurveParams(c.curve_budget_reach,c.video_view_benchmark_map,!!c.is_conversion_goal,f,c.target_audience_size)));d=a.accountInfo&&a.accountInfo.capabilities.includes(b("AdsAccountCapabilities").ADS_RF_L2_ENTRY);if(!this.hasInitialPredictionRun(a)&&e.budgetReachCurve&&(!d||!a.budgetValue)&&!b("AdsReachFrequencyEnvironment").isPlanner()){g=o(e.budgetReachCurve,a,c.target_audience_size,n(a.accountInfo),!!d);g&&(g.reach||0>f)&&Object.assign(e,{inputValue:g.budget,budgetValue:g.budget,reachValue:g.reach,impression:g.impression})}return e};a.prototype.$AdsReachFrequencyFlowStore85=function(a,c,d){this.updateFieldsForID(a,{reservation:c});if(d==="PLANNER"){d=this.getState(a);var e=c.expiration_time;e&&(e=b("DateTime").fromLegacyArgs(e,M).getUnixTimestampSeconds());this.updateFieldsForID(a,{previous_prediction:babelHelpers["extends"]({},d.previous_prediction,{id:c.id,expiration_time:e}),prediction:babelHelpers["extends"]({},d.prediction,{id:c.id,expiration_time:e}),reservationStatus:b("AdsOrderStatus").IMS_STATUS_RESERVED})}};a.prototype.onGetPredictionSuccess=function(a,b,c,d){var e=this.getState(a);e=this.getPredictionUpdateSpec(e,b,c,d);this.updateFieldsForID(a,e)};a.prototype.$AdsReachFrequencyFlowStore115=function(a){var b=this.$AdsReachFrequencyFlowStore111(a).filter(function(a){return!a.isServerError});this.updateFieldsForID(a,{errorMap:b})};a.prototype.onSetPredictionPending=function(a,c){c&&b("gkx")("678118")&&this.$AdsReachFrequencyFlowStore115(a),this.updateFieldsForID(a,{isPredictionPending:c})};a.prototype.$AdsReachFrequencyFlowStore78=function(a){this.$AdsReachFrequencyFlowStore2=a,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore86=function(a,b){this.updateFieldsForID(a,{isReservationPending:b})};a.prototype.$AdsReachFrequencyFlowStore116=function(a){a=a.getPayload();b("AdsReachFrequencyFlowChangeSearchIdResultAction").dispatch({response:a},{line:"4471",module:"AdsReachFrequencyFlowStore.js"})};a.prototype.$AdsReachFrequencyFlowStore92=function(a){var c=b("XReachFrequencySearchIDAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({id:a}).setHandler(this.$AdsReachFrequencyFlowStore116).send()};a.prototype.$AdsReachFrequencyFlowStore93=function(a){this.$AdsReachFrequencyFlowStore15=a,this.$AdsReachFrequencyFlowStore11=!1,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore95=function(a){this.$AdsReachFrequencyFlowStore14=a,this.$AdsReachFrequencyFlowStore4=!0,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore97=function(a){this.$AdsReachFrequencyFlowStore1=a,this.$AdsReachFrequencyFlowStore5=!0,this.$AdsReachFrequencyFlowStore4=!1,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore98=function(){this.$AdsReachFrequencyFlowStore5=!1,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore96=function(){this.$AdsReachFrequencyFlowStore4=!1,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore83=function(a){this.$AdsReachFrequencyFlowStore8=a,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore73=function(a){this.$AdsReachFrequencyFlowStore7=a,this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore71=function(a,c){var d=this.getState(a),e=b("AdsReachFrequencyStoreUtils").getInputField(d);this.updateFieldsForID(a,{selectedGraphMetricsInputField:c,lastInputField:c});d=b("AdsReachFrequencyMetricUtils").toMetric(d,d.inputValue||0,e,c);this.$AdsReachFrequencyFlowStore40(a,c,d,!1,!1,null);this.notify()};a.prototype.$AdsReachFrequencyFlowStore91=function(a){if(!a){this.$AdsReachFrequencyFlowStore15=[];this.$AdsReachFrequencyFlowStore11=!0;this.__emitChange();return}a[0]&&a[0].valid?a[0].type===q.PLAN?this.$AdsReachFrequencyFlowStore15=a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,photo:a.photo,auxiliaryData:{type:a.type,campaign_info:a.campaign_info}})}):(a[0].type===q.BUSINESS||a[0].type===q.PLAN_BUSINESS||a[0].type===q.PLAN_VERSION)&&(this.$AdsReachFrequencyFlowStore15=[new(b("SearchableEntry"))({uniqueID:a[0].id,title:a[0].name,photo:a[0].photo,auxiliaryData:{type:a[0].type}})]):(this.$AdsReachFrequencyFlowStore15=[new(b("SearchableEntry"))({uniqueID:"dummyid",title:a[0].id,photo:""})],this.$AdsReachFrequencyFlowStore11=!0);this.__emitChange()};a.prototype.$AdsReachFrequencyFlowStore114=function(a){__p&&__p();var c=this.getState(a);if(!(c.targetingSpec&&b("isValidTargetingSpec")(c.targetingSpec)))return;if(!c.accountID)return;this.removeErrors_DEPRECATED(a,[z.AUDIENCE_TOO_SMALL,z.AUDIENCE_TOO_LARGE]);this.updateFieldsForID(a,{isAudienceEstimateLoading:!0,targetingMetaInfo:null});this.notify();b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfo(c.targetingSpec.geo_locations,c.targetingSpec.excluded_geo_locations),function(d){this.updateFieldsForID(a,{targetingMetaInfo:Object.assign({},d)}),this.validateDates_DEPRECATED(a),b("promiseDone")(b("estimateTargetingStats")(c.accountID,c.targetingSpec),function(d){d=b("getByPath")(d,["data","users"],0);d===0&&b("FBLogger")("ads").mustfix("Estimated audience size should not be 0");var e=b("AdsReachFrequencyStoreUtils").getMinimumReach(c);if(d<=0)return;b("AdsReachFrequencyFlowSetErrorsAction").dispatch({campaignID:a,errors:[b("getAdsReachFrequencyError")(z.AUDIENCE_TOO_SMALL,d<e,{minimum_reach:e}),b("getAdsReachFrequencyError")(z.AUDIENCE_TOO_LARGE,d>b("AdsReachFrequencyConfig").max_reach,{maximum_reach:b("AdsReachFrequencyConfig").max_reach})]},{line:"4692",module:"AdsReachFrequencyFlowStore.js"});this.updateFieldsForID(a,{isAudienceEstimateLoading:!1,usersCount:d})}.bind(this))}.bind(this),function(a){b("FBLogger")("ads").mustfix("Dao fetch errors(): %s",a)})};a.prototype.changeIsUnpausePending=function(a,b){this.updateFieldsForID(a,{isUnpausePending:b}),this.notify()};a.prototype.$AdsReachFrequencyFlowStore100=function(a){__p&&__p();var c=a.campaignID,d=b("AdsReachFrequencyGraphUtils").getDrawableCurvePoints(a.curveData,a.scaleX,a.scaleY);d=b("AdsReachFrequencyHelper").getNearestPoint(d,a.xValue,function(a){return a.data.x});a=this.getStateReference(c);var e=b("AdsReachFrequencyStoreUtils").getMinimumReach(a),f=null;d.data.reach<e?f=b("AdsReachFrequencyHelper").getInterpolatedCurvePoint(a.budgetReachCurve,e,function(a){return a.reach}):f=d.data;e=b("AdsReachFrequencyStoreUtils").getInputField(a);d=b("AdsReachFrequencyMetricUtils").toMetric(a,f.budget,"budget",e);e=b("AdsReachFrequencyMetricUtils").toMetric(a,f.budget,"budget","reach");this.updateFieldsForID(c,{inputValue:d,reachValue:e,budgetValue:f.budget,impression:f.impression});this.$AdsReachFrequencyFlowStore30(c);this.emit(x.CURVE_POINT_CHANGED);this.notify()};a.prototype.__getDependentStores=function(){return[].concat(b("adsReachFrequencyAuctionEntrySelector").getStores(),[b("AdsAccountStore"),b("AdsPixelConversionStore")])};a.prototype.getHasSearchIDError=function(){return this.$AdsReachFrequencyFlowStore11};a.prototype.getSelectedSearchEntries=function(){return this.$AdsReachFrequencyFlowStore15};a.prototype.getSelectedDynamicAudiences=function(){return this.$AdsReachFrequencyFlowStore14};a.prototype.getIsDynamicAudienceDialogShown=function(){return this.$AdsReachFrequencyFlowStore4};a.prototype.getIsDynamicAudiencePopulatingDialogShown=function(){return this.$AdsReachFrequencyFlowStore5};a.prototype.getExpandedGraphs=function(){return this.$AdsReachFrequencyFlowStore10};a.prototype.getIsAudienceDoneButtonDisabled=function(){return this.$AdsReachFrequencyFlowStore2};a.prototype.getIsExportDialogShown=function(){return this.$AdsReachFrequencyFlowStore7};a.prototype.getResetPeriodMode=function(){return this.$AdsReachFrequencyFlowStore8};a.prototype.getInvalidNameNoticeRenderedVersionID=function(){return this.$AdsReachFrequencyFlowStore12};a.prototype.getVersionNameErrorType=function(){return this.$AdsReachFrequencyFlowStore13};a.prototype.getCASnapshotCreationResult=function(){return this.$AdsReachFrequencyFlowStore1};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ReachFrequencyErrorActions",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({RESET:null,REPREDICT:null,AUTO:null});e.exports=a}),null);
__d("ReachFrequencyErrorHandler",["errorCode","errorDesc","AdsReachFrequencyConstants","ReachFrequencyErrorActions","getByPath"],(function(a,b,c,d,e,f,g,h){__p&&__p();b("AdsReachFrequencyConstants").ObjectiveTypes;a={getProcessedCodedException:function(a){var c=a.error_subcode||0,d=a.error_user_msg||h._(function(a,b){return a._("There's been a temporary technical problem. Try refreshing your prediction.")},{});switch(c){case 1885206:return{action:b("ReachFrequencyErrorActions").REPREDICT,error:d,errorCode:c,reprediction:{budget:b("getByPath")(a,["error_data","max"])}};case 1885449:return{action:b("ReachFrequencyErrorActions").REPREDICT,error:d,errorCode:c,reprediction:{reach:b("getByPath")(a,["error_data","max"])}};case 1885282:return{action:b("ReachFrequencyErrorActions").REPREDICT,error:d,errorCode:c,reprediction:{budget:b("getByPath")(a,["error_data","min"])}};case 1885207:return{action:b("ReachFrequencyErrorActions").REPREDICT,error:d,errorCode:c,reprediction:{reach:b("getByPath")(a,["error_data","min"])}};default:return{action:b("ReachFrequencyErrorActions").RESET,error:d,errorCode:c,reprediction:{}}}}};e.exports=a}),null);
__d("AdsReachFrequencyPredictionManager",["errorDesc","invariant","AdsAccountCapabilities","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIReachFrequencyPredictionFields","AdsCampaignPlacementResetDataAction","AdsCFActiveCampaignIDStore","AdsCFCampaignCreationMode","AdsCFCampaignCreationModeStore","AdsCFCampaignStateUtils","AdsCFRfSetPredictionIdDataAction","AdsError","AdsPlannerChangeMetricDataAction","AdsPlannerConstants","AdsPlannerCurrencyConverter","AdsPlannerVersionsSyncManager","AdsPredictionDataManager","AdsPromotableAppStore","AdsReachFrequencyAddErrorAction","AdsReachFrequencyConstants","AdsReachFrequencyEnvironment","AdsReachFrequencyFlowActions","AdsReachFrequencyFlowChangeDestinationAction","AdsReachFrequencyFlowSetErrorsAction","AdsReachFrequencyFlowSetPredictionIdAction","AdsReachFrequencyFlowSetPredictionPendingAction","AdsReachFrequencyGetPredictionSuccessGetStateAction","AdsReachFrequencyGetPredictionSuccessLoggingAction","AdsReachFrequencyGetStateAction","AdsReachFrequencyMetricUtils","AdsReachFrequencyOptimizationUtils","AdsReachFrequencySavePreviousPointAction","AdsReachFrequencySetPredictionPreviewAction","AdsReachFrequencyStoreUtils","AdsStoreUtils","ReachFrequencyErrorActions","ReachFrequencyErrorHandler","ReachFrequencyEstimatesClient","adsCFCampaignStateSelector","getAdsReachFrequencyError","getByPath","gkx","isEmpty","promiseDone","AdsReachFrequencyFlowStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsPlannerConstants").DEFAULT_CURRENCY,j=b("AdsReachFrequencyConstants").ObjectiveTypes,k=b("AdsReachFrequencyConstants").PREDICTION_DELAY,l=b("AdsReachFrequencyConstants").ReachFrequencyErrorCodes,m=3;function a(){this.$1=new Map(),this.$2=new Map(),this.$3=0}a.prototype.predict=function(a,b,c){var d=this.$2.get(a);d&&clearTimeout(d);b!=="REPREDICT"?this.$3=0:this.$3+=1;d=setTimeout(this.$4.bind(this,a,b,c),k);this.$2.set(a,d)};a.prototype.$4=function(a,c,d){__p&&__p();this.$2.set(a,null);var e=b("AdsReachFrequencyFlowStore");e.validateDates_DEPRECATED(a);e.removeErrors_DEPRECATED(a,[l.PREDICTION_BACKEND_FAILED,l.RESERVATION_BACKEND_FAILED]);var f=e.getState(a);if(!f.startDate||!f.endDate)return;if(b("AdsReachFrequencyStoreUtils").isErrorPresent(f,l.DATES_INVALID_START_TIME))return;if(f.objectiveType===j.reach){var g=f.reachValue||b("AdsReachFrequencyStoreUtils").getMinimumReach(f);e.onChangeReachValue(a,g,{reach:b("AdsReachFrequencyStoreUtils").getMinimumReach(f)})}e.resetPrediction(a);b("AdsReachFrequencyFlowSetPredictionPendingAction").dispatch({campaignID:a,isPending:!0},{line:"161",module:"AdsReachFrequencyPredictionManager.js"});f=e.getState(a);b("AdsReachFrequencyGetStateAction").dispatch({},{line:"169",module:"AdsReachFrequencyPredictionManager.js"});g=Date.now();this.$1.set(a,g);e=b("AdsReachFrequencyEnvironment").get();d=d&&d.interpolateMode==="last"?b("AdsReachFrequencyMetricUtils").interpolateToLastPoint(f):d;e={onPredictionSuccess:this.$5.bind(this,a,g,e,d,c),onPredictionError:this.$6.bind(this,a,g,d)};b("ReachFrequencyEstimatesClient").quoteFromFlowStoreState(e,f,a,c)};a.prototype.$5=function(a,c,d,e,f,g,h){__p&&__p();b("AdsReachFrequencyGetPredictionSuccessLoggingAction").dispatch({},{line:"221",module:"AdsReachFrequencyPredictionManager.js"});if(c!==this.$1.get(a,0))return;d=b("AdsCFCampaignCreationModeStore").getState();if(d&&d.creationMode===b("AdsCFCampaignCreationMode").USING_EXISTING){c=b("AdsCFActiveCampaignIDStore").getState();d=b("adsCFCampaignStateSelector")();d=b("AdsCFCampaignStateUtils").getFirstSelectedRecord(d,c);c=d.getIn(b("AdsAPICampaignPaths").RF_PREDICTION_ID);if(c)return}d=b("AdsReachFrequencyFlowStore");d.onSetPredictionPending(a,!1);c=d.getState(a);b("AdsReachFrequencyGetPredictionSuccessGetStateAction").dispatch({},{line:"260",module:"AdsReachFrequencyPredictionManager.js"});b("AdsReachFrequencyStoreUtils").hasInitialPredictionRun(c)||d.updateFieldsForID(a,{objectiveType:j.budget});d.removeErrors_DEPRECATED(a,[l.PREDICTION_BACKEND_FAILED]);b("AdsReachFrequencyFlowActions").getPredictionSuccess(a,g,h,Date.now(),c.auctionEntryOptionIndex,f);this.$7(c);d.getState(a).link||this.$8(d.getState(a).objective,a,g);!b("AdsReachFrequencyStoreUtils").hasInitialPredictionRun(c)&&c.auctionEntryOptionIndex!==void 0&&c.auctionEntryOptionIndex>=0&&c.accountInfo.capabilities!=null&&c.accountInfo.capabilities.includes(b("AdsAccountCapabilities").ADS_RF_L2_ENTRY)&&b("AdsCampaignPlacementResetDataAction").dispatch({ids:[a],eligibilityInformation:d.getPlacementEligibilityInfo(a)},{line:"305",module:"AdsReachFrequencyPredictionManager.js"});h=d.isCreateFlow();h&&b("AdsCFRfSetPredictionIdDataAction").dispatch({predictionID:g.id},{line:"316",module:"AdsReachFrequencyPredictionManager.js"});b("AdsReachFrequencyFlowSetPredictionIdAction").dispatch({ids:[a],predictionID:g.id},{line:"321",module:"AdsReachFrequencyPredictionManager.js"});f=c.plannerPlanID;f&&b("AdsPlannerVersionsSyncManager").syncPlan(f);if(e.interpolateMode==="interpolate"){h=e.metric;g=e.value;e.planCurrency&&h==="budget"&&(g=b("AdsPlannerCurrencyConverter").getInCurrency(g,e.planCurrency,b("getByPath")(c,["accountInfo","currency"],i)));b("AdsPlannerChangeMetricDataAction").dispatch({campaignID:a,metric:h,metricValue:g,shouldCorrect:!0,shouldPredict:!1,planID:f},{line:"339",module:"AdsReachFrequencyPredictionManager.js"})}d.updateFieldsForID(a,{failedPredictionID:null})};a.prototype.$7=function(a){var c=b("getByPath")(a,["previous_prediction",b("AdsAPIReachFrequencyPredictionFields").IS_CONVERSION_GOAL]),d=b("getByPath")(a,["previous_prediction",b("AdsAPIReachFrequencyPredictionFields").VIDEO_VIEW_LENGTH_CONSTRAINT]),e=b("getByPath")(a,["previous_prediction",b("AdsAPIReachFrequencyPredictionFields").OBJECTIVE]),f=b("AdsReachFrequencyStoreUtils").isConversionGoal(a),g=b("AdsReachFrequencyOptimizationUtils").getOptimizationFromEvent(b("AdsReachFrequencyStoreUtils").getEvent(a)),h=b("AdsReachFrequencyStoreUtils").getNullableObjective(a);c===f&&e===h&&d===g&&b("AdsReachFrequencyFlowActions").showMetricsComparison();b("AdsReachFrequencySavePreviousPointAction").dispatch({isConversionGoal:c,objective:e,optimization:d,point:b("AdsReachFrequencyMetricUtils").getPoint(a)},{line:"382",module:"AdsReachFrequencyPredictionManager.js"})};a.prototype.$8=function(a,c,d){a===b("AdsAPIObjectives").MOBILE_APP_INSTALLS&&b("promiseDone")(b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotableAppStore"),function(){return b("AdsPromotableAppStore").getFor(d.account_id,d.destination_id)}),function(a){var d="",e=a.object_store_urls;if(e){var f=Object.keys(e);f.length>0&&(d=e[f[0]])}b("AdsReachFrequencyFlowChangeDestinationAction").dispatch({appStoreUrl:d,ids:[c],destinationID:a.id,destinationLabel:a.name,isApp:!0,shouldPredict:!0},{line:"412",module:"AdsReachFrequencyPredictionManager.js"})})};a.prototype.getAdsErrorFromAPI=function(a){return new(b("AdsError"))(a.error_subcode,a.error_user_msg,{helpCenterID:a.help_center_id,isServerError:!0})};a.prototype.$6=function(a,c,d,e,f){if(c!==this.$1.get(a,0))return;c=b("AdsReachFrequencyFlowStore");c.onSetPredictionPending(a,!1);var g=b("ReachFrequencyErrorHandler").getProcessedCodedException(e);f=g.action===b("ReachFrequencyErrorActions").REPREDICT&&!f.existing_campaign_id&&this.$3<m;f||(b("gkx")("678118")&&b("AdsReachFrequencyAddErrorAction").dispatch({campaignID:a,error:this.getAdsErrorFromAPI(e)},{line:"468",module:"AdsReachFrequencyPredictionManager.js"}),b("AdsReachFrequencyFlowSetErrorsAction").dispatch({campaignID:a,errors:[{id:l.PREDICTION_BACKEND_FAILED,active:!0,code:g.errorCode,message:g.error,priority:10}]},{line:"473",module:"AdsReachFrequencyPredictionManager.js"}));c.updateFieldsForID(a,{failedPredictionID:b("getByPath")(e,["error_data","rf_prediction_id"],"-")});f&&(g.reprediction||h(0,1973),g.reprediction.reach?c.onChangeReachValue(a,g.reprediction.reach,g.reprediction):g.reprediction.budget&&c.onChangeBudgetValue(a,g.reprediction.budget),this.predict(a,"REPREDICT",d))};a.prototype.getPredictionPreview=function(a,c,d){__p&&__p();var e=b("getAdsReachFrequencyError")(l.PREDICTION_BACKEND_FAILED,!0);e.message=g._(function(a,b){return a._("There's been a temporary technical problem. Try refreshing your prediction.")},{});var f=e.code||e.id;b("isEmpty")(c)&&b("AdsReachFrequencySetPredictionPreviewAction").dispatch({prediction:null,error:new(b("AdsError"))(f,e.message)},{line:"533",module:"AdsReachFrequencyPredictionManager.js"});b("AdsReachFrequencySetPredictionPreviewAction").dispatch({prediction:null,error:null},{line:"544",module:"AdsReachFrequencyPredictionManager.js"});a=b("AdsReachFrequencyStoreUtils").getPredictionAPISpec(a,c,"REPREDICT");a.prediction_mode="BUDGET";c=function(a){a=a.data[0];b("AdsReachFrequencySetPredictionPreviewAction").dispatch({prediction:a,error:null},{line:"559",module:"AdsReachFrequencyPredictionManager.js"});b("AdsPredictionDataManager").load(a.id)};var h=function(a){a=new(b("AdsError"))(a.error_subcode||f,a.error_user_msg||e.message);b("AdsReachFrequencySetPredictionPreviewAction").dispatch({prediction:null,error:a},{line:"575",module:"AdsReachFrequencyPredictionManager.js"})};Object.assign(a,d);b("ReachFrequencyEstimatesClient").quote(a,c,h)};e.exports=new a()}),null);
__d("AdsReachFrequencyCampaignDurationResetPeriodError.react",["fbt","AdsContextualHint.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=g._("Exceeds ad set length"),c=g._("OK"),d=g._("Please edit the number of days so it doesn't exceed the length of your ad set.");return b("React").createElement(b("AdsContextualHint.react"),{buttonLabel:c,title:a,onClick:this.props.onResetPeriodErrorMessageConfirmed},d)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyCurveFormatter",["invariant","AdsPlannerCurrencyConverter","AdsReachFrequencyFormatsUtils","AdsReachFrequencyHelper","CandelaCategoryScale","CandelaConstants","CandelaCurrencyScale","CandelaNumberScale","CandelaPercentageScale","CandelaTimeScale","Currency","DateConsts","InsightsFormatterFactories","ads-lib-formatters","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DateConsts").SEC_PER_DAY,i=b("ads-lib-formatters").createIntlPercentFormatter(0),j=b("CandelaConstants").Alignment,k=b("CandelaConstants").Orientation,l={skipPatternLocalization:!0},m="\u2013";function n(a,c){if(a instanceof b("CandelaTimeScale")&&c===k.HORIZONTAL)return function(c){a instanceof b("CandelaTimeScale")||g(0,1531);return o(a,c)};else if(a instanceof b("CandelaCurrencyScale"))return function(c){a instanceof b("CandelaCurrencyScale")||g(0,1531);return q(a.currencyCode,c)};return b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)}function a(a){return a instanceof b("CandelaTimeScale")?function(c){a instanceof b("CandelaTimeScale")||g(0,5250);return p(a,c)}:n(a,k.VERTICAL)}function o(a,b){if(b.instant===a.props.input.first().instant||b.instant+h>=a.props.input.last().instant)return b.format("M j",l);else return b.format("j",l)}function p(a,b){return b.format("M j, Y",l)}function q(a,c){var d=b("Currency").getOffset(a)||100;c=c/d;d=b("AdsReachFrequencyFormatsUtils").formatLargeNumber(c);c=b("Currency").getFormat(a)||"{symbol}{amount}";a=b("Currency").getSymbol(a)||"";return c.replace("{symbol}",a).replace("{amount}",d)}function c(){return function(a,b){return function(a,b){return"100%"}}}d=c();f=function(a,c,d,e){__p&&__p();return function(f,h,i,k){__p&&__p();if(f instanceof b("CandelaNumberScale")&&k===j.TOP)return function(d){d=b("AdsReachFrequencyHelper").getNearestPoint(a,d,function(a){return a.x});return q(c,d.y)};else if(f instanceof b("CandelaCurrencyScale"))return d||k===j.BOTTOM&&e?function(a){f instanceof b("CandelaCurrencyScale")||g(0,1531);return q(c,a)}:b("emptyFunction").thatReturnsNull;return b("InsightsFormatterFactories").axisMarkFormatterFactory(f,h,i)}};c=function(a){return function(c,d,e,f){if(!a||a<=0)return b("emptyFunction").thatReturnsNull;return d===k.HORIZONTAL&&c instanceof b("CandelaNumberScale")&&f!==j.TOP?function(b){if(!a)return null;b=100*b/a;return b>100?m:b.toFixed(0)+"%"}:b("emptyFunction").thatReturnsNull}};var r=function(a,c){if(a instanceof b("CandelaCategoryScale")&&c===k.HORIZONTAL)return function(a){return a.format("M j",l)};else if(a instanceof b("CandelaCurrencyScale"))return function(c){a instanceof b("CandelaCurrencyScale")||g(0,1531);return q(a.currencyCode,c)};return b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)},s=function(a,c){return a instanceof b("CandelaCurrencyScale")?function(c){a instanceof b("CandelaCurrencyScale")||g(0,1531);return q(a.currencyCode,c)}:b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)},t=function(a,c){return a instanceof b("CandelaCurrencyScale")?function(c){a instanceof b("CandelaCurrencyScale")||g(0,1531);return q(a.currencyCode,c*100)}:b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)},u=function(a,c,d){return function(e,f,g,h){return e instanceof b("CandelaNumberScale")&&h===j.TOP?function(e){if(!c||!d)return m;e=b("AdsReachFrequencyHelper").getNearestPoint(c,e,function(a){return a.x});return q(a,b("AdsPlannerCurrencyConverter").getInCurrency(e.y,d,a))}:b("InsightsFormatterFactories").axisMarkFormatterFactory(e,f,g)}},v=function(a,c,d){return function(e,f){return f===k.HORIZONTAL&&e instanceof b("CandelaCategoryScale")?function(b){if(d.length>1&&(!a||b>c.length||!Object.prototype.hasOwnProperty.call(c[b-1],a)))return null;var e;a?e=c[b-1][a]:e=c[b-1][0];return i(Number(e))}:b("emptyFunction").thatReturnsNull}},w=function(a,c){return function(d,e){return(c.length===1||a===e)&&d instanceof b("CandelaPercentageScale")?i:b("emptyFunction").thatReturnsNull}};e.exports={createOneDayBarLabelFormatterFactory:d,cumulativeFrequencyCurveAxisFormatterFactory:s,pacingCurveFormatterFactory:t,percentageBarLabelFormatterFactory:w,percentageSubMarkFormatterFactory:v,reachBarChartAxisFormatterFactory:u,reachCurveAxisFormatterFactory:f,reachCurvePercentageSubMarkFormatterFactory:c,spendCurveAxisFormatterFactory:n,spendCurveHoverCardFormatterFactory:a,spendCurveOneDayAxisFormatterFactory:r}}),null);
__d("AdsReachFrequencyCurveSpinner.react",["cx","AdsTestIDs","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_lfh"},b("React").createElement(b("FDSSpinner.react"),{"data-testid":b("AdsTestIDs").ADS_LOADING_SPIN}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyCurveOverlayWrapper.react",["cx","AdsReachFrequencyCurveSpinner.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","LoadingMarker.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").Component;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){if(this.props.isCurveLoading||this.props.hasError===!0){var a=b("React").createElement(b("FBOverlayContainer.react"),null,b("React").createElement(b("FBOverlayElement.react"),null,this.props.hasError===!0?b("React").createElement("div",null):b("React").createElement("div",{className:"_m-g"},b("React").createElement(b("AdsReachFrequencyCurveSpinner.react"),null))),b("React").createElement(b("FBOverlayBase.react"),null,b("React").createElement("div",{className:"_m-h"},this.props.children)));return this.props.isCurveLoading?b("React").createElement(b("LoadingMarker.react"),null,a):a}return this.props.children};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyInstagramFrequencyCapError.react",["fbt","AdsContextualHint.react","AdsReachFrequencyHelper","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=g._("Invalid Instagram Frequency Cap"),c=g._("OK"),d=g._("Frequency can't be more than {X impressions per Y days}",[g._param("X impressions per Y days",b("AdsReachFrequencyHelper").getImpressionsPerDaysMessage(this.props.frequencyCap,this.props.resetPeriod))]);return b("React").createElement(b("AdsContextualHint.react"),{buttonLabel:c,title:a,onClick:this.props.onFrequencyCapErrorMessageConfirmed},d)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyFrequencyCapInput.react",["cx","AdsMaybeDisabledNumericInput.react","AdsReachFrequencyConstants","AdsReachFrequencyInstagramFrequencyCapError.react","AdsTestIDs","ContextualDialog.react","LayerFadeOnHide","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){return a===""||parseInt(a,10)>0&&parseInt(a,10)<=b("AdsReachFrequencyConstants").MAX_FREQUENCY_CAP}h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){return b("React").createElement(b("AdsReachFrequencyInstagramFrequencyCapError.react"),{frequencyCap:b("AdsReachFrequencyConstants").INSTAGRAM_FREQUENCY_CAP_ONE_IMPRESSION,resetPeriod:b("AdsReachFrequencyConstants").MIN_INSTAGRAM_RESET_PERIOD_PER_IMPRESSION,onFrequencyCapErrorMessageConfirmed:this.props.onFrequencyCapErrorMessageConfirmed})};a.prototype.renderLayers=function(){return this.props.errorType!==b("AdsReachFrequencyConstants").ERROR_TYPES.INSTAGRAM?null:b("React").createElement(b("ContextualDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},className:"_542u",contextRef:function(){return this.refs.frequency_cap_field}.bind(this),key:"frequencyCapChangedNotice",position:"right",shown:this.props.isFrequencyCapMessageShown},this.$1())};a.prototype.render=function(){return b("React").createElement(b("AdsMaybeDisabledNumericInput.react"),{className:"_2mdj","data-testid":b("AdsTestIDs").FREQUENCY_MAX_IMPS_PER_INTERVAL_FIELD,disabled:this.props.isReadOnly,disabledReason:this.props.disabledReason,eventType:"change",nonnegative:!0,ref:"frequency_cap_field",type:"string",validate:i,value:this.props.intervalFrequencyCap,onChange:this.props.onIntervalFrequencyCapChange})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyHighAverageFrequencyCheckBox.react",["cx","fbt","AdsCCCategory","AdsIntelligentNotificationContainer.react","BUISwitch.react","Layout.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("Layout.react"),{className:"_2pic"},b("React").createElement(j,null,b("React").createElement(b("BUISwitch.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,disabled:this.props.isDisabled,value:this.props.isHigherAverageFrequencyEnabled,onToggle:this.props.onChange})),b("React").createElement(k,null,b("React").createElement("div",{className:"_65a6"},b("React").createElement(b("SUIText.react"),{size:"meta1"},h._("Increase average frequency"))))),this.props.isHigherAverageFrequencyEnabled&&!this.props.canUseHighAverageFrequency?b("React").createElement("div",{style:{marginTop:"12px"}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"high_average_frequency_makes_no_sense_to_the_client",textData:[{type:"PARAGRAPH",data:{text:h._("Optimizing your average frequency won't affect your predicted lifetime results when your predicted frequency is 1.")}}]}})):null)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyHighAverageFrequencyCheckBoxContainer.react",["fbt","AdsFluxContainer","AdsReachFrequencyFlowChangeIsHigherAverageFrequencyAction","AdsReachFrequencyFlowStore","AdsReachFrequencyHighAverageFrequencyCheckBox.react","AdsReachFrequencyStoreUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){b("AdsReachFrequencyFlowChangeIsHigherAverageFrequencyAction").dispatch({campaignID:this.props.campaignID,isHigherAverageFrequency:a},{line:"88",module:"AdsReachFrequencyHighAverageFrequencyCheckBoxContainer.react.js"})}.bind(this),c}a.getStores=function(){return[b("AdsReachFrequencyFlowStore")]};a.calculateState=function(a,c){a=b("AdsReachFrequencyFlowStore").getState(c.campaignID);c=a.isMidCampaignEdit;var d=b("AdsReachFrequencyStoreUtils").isConversionGoal(a),e;c?e=g._("Unable to edit mid-campaign"):d?e=g._("This option isn't available when you choose to be charged on video views"):e=g._("Prioritize showing ads to people who will see your ads more than once. This means you'll reach fewer people overall.");return{canUseHighAverageFrequency:b("AdsReachFrequencyStoreUtils").canEnableHighAverageFrequency(a),isDisabled:c||d,isHigherAverageFrequencyEnabled:b("AdsReachFrequencyStoreUtils").isHigherAverageFrequencyEnabled(a),maxFrequency:b("AdsReachFrequencyStoreUtils").getMaxFrequency(a),tooltip:e}};a.prototype.render=function(){return b("React").createElement(b("AdsReachFrequencyHighAverageFrequencyCheckBox.react"),{canUseHighAverageFrequency:this.state.canUseHighAverageFrequency,isDisabled:this.state.isDisabled,isHigherAverageFrequencyEnabled:this.state.isHigherAverageFrequencyEnabled,maxFrequency:this.state.maxFrequency,tooltip:this.state.tooltip,onChange:this.$1})};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsReachFrequencyInstagramResetPeriodError.react",["fbt","AdsContextualHint.react","AdsReachFrequencyHelper","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=g._("Invalid Instagram Reset Period"),c=g._("OK"),d=g._("Frequency can't be more than {X impressions per Y days} It can't be longer than the duration of your ad set.",[g._param("X impressions per Y days",b("AdsReachFrequencyHelper").getImpressionsPerDaysMessage(this.props.frequencyCap,this.props.resetPeriod))]);return b("React").createElement(b("AdsContextualHint.react"),{buttonLabel:c,title:a,onClick:this.props.onResetPeriodErrorMessageConfirmed},d)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyResetPeriodInput.react",["cx","AdsMaybeDisabledNumericInput.react","AdsReachFrequencyCampaignDurationResetPeriodError.react","AdsReachFrequencyConstants","AdsReachFrequencyInstagramResetPeriodError.react","AdsTestIDs","ContextualDialog.react","ContextualLayerUpdateOnScroll","LayerFadeOnHide","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){return a===""||parseInt(a,10)>0}h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){switch(this.props.errorType){case b("AdsReachFrequencyConstants").ERROR_TYPES.INSTAGRAM:return b("React").createElement(b("AdsReachFrequencyInstagramResetPeriodError.react"),{frequencyCap:b("AdsReachFrequencyConstants").INSTAGRAM_FREQUENCY_CAP_ONE_IMPRESSION,resetPeriod:b("AdsReachFrequencyConstants").MIN_INSTAGRAM_RESET_PERIOD_PER_IMPRESSION,onResetPeriodErrorMessageConfirmed:this.props.onResetPeriodErrorMessageConfirmed});case b("AdsReachFrequencyConstants").ERROR_TYPES.CAMPAIGN_DURATION:return b("React").createElement(b("AdsReachFrequencyCampaignDurationResetPeriodError.react"),{onResetPeriodErrorMessageConfirmed:this.props.onResetPeriodErrorMessageConfirmed});default:return null}};a.prototype.renderLayers=function(){return b("React").createElement(b("ContextualDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},className:"_542u",contextRef:function(){return this.refs.reset_period_field}.bind(this),key:"resetPeriodChangedNotice",position:"right",shown:this.props.isResetPeriodMessageShown},this.$1())};a.prototype.render=function(){return b("React").createElement("span",null,b("React").createElement(b("AdsMaybeDisabledNumericInput.react"),{className:"_2mdj","data-testid":b("AdsTestIDs").FREQUENCY_RESET_INTERVAL_DAYS_FIELD,disabled:this.props.isReadOnly,disabledReason:this.props.disabledReason,eventType:"change",nonnegative:!0,ref:"reset_period_field",type:"number",validate:i,value:this.props.intervalFrequencyCapResetPeriod,onChange:this.props.onIntervalFrequencyCapResetPeriodChange}),this.renderLayers())};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyResetPeriodWithSelectorAndInput.react",["fbt","AdsPlannerConstants","AdsReachFrequencyConstants","AdsReachFrequencyResetPeriodInput.react","React","SUISelector.react","SUISelectorOption.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsPlannerConstants").ADS_PLANNER_RESET_PERIOD_SELECTION,j=b("AdsReachFrequencyConstants").DEFAULT_RESET_PERIOD_SELECTOR_INDEX,k=b("AdsReachFrequencyConstants").MIN_RESET_PERIOD_SELECTOR_INDEX;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onIntervalFrequencyCapResetPeriodChange(i[a].value),i[a].isCustom&&this.props.onResetPeriodModeChange("INPUT")}.bind(this),b}a.prototype.$2=function(){return b("React").createElement(b("AdsReachFrequencyResetPeriodInput.react"),{disabledReason:this.props.disabledReason,errorType:this.props.errorType,intervalFrequencyCapResetPeriod:this.props.intervalFrequencyCapResetPeriod,isReadOnly:this.props.isReadOnly,isResetPeriodMessageShown:this.props.isResetPeriodMessageShown,onIntervalFrequencyCapResetPeriodChange:this.props.onIntervalFrequencyCapResetPeriodChange,onResetPeriodErrorMessageConfirmed:this.props.onResetPeriodErrorMessageConfirmed})};a.prototype.render=function(){if(this.props.resetPeriodMode==="INPUT")return b("React").createElement("span",null,g._({"*":"{interval_frequency_reset_period} days","_1":"{interval_frequency_reset_period} day"},[g._param("interval_frequency_reset_period",this.$2()),g._plural(this.props.intervalFrequencyCapResetPeriod)]));var a=i.map(function(a,c){if(a.value<=this.props.campaignLength)return b("React").createElement(b("SUISelectorOption.react"),{key:c,value:c},a.label)}.bind(this));return b("React").createElement("span",null,b("React").createElement(b("SUISelector.react"),{placeholder:this.props.campaignLength>=i[j].value?i[j].label:i[k].label,ref:"reset_period_selector",value:this.props.resetPeriodIndex,onChange:this.$1},a))};e.exports=a}),null);
__d("AdsReachFrequencyIntervalFrequencyCap.react",["cx","fbt","AdsReachFrequencyFrequencyCapInput.react","AdsReachFrequencyResetPeriodInput.react","AdsReachFrequencyResetPeriodWithSelectorAndInput.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){return b("React").createElement("span",{className:"_47ia"},b("React").createElement(b("AdsReachFrequencyFrequencyCapInput.react"),{disabledReason:this.props.disabledReason,errorType:this.props.errorType,intervalFrequencyCap:this.props.intervalFrequencyCap,isFrequencyCapMessageShown:this.props.isFrequencyCapMessageShown,isReadOnly:this.props.isReadOnly,onFrequencyCapErrorMessageConfirmed:this.props.onFrequencyCapErrorMessageConfirmed,onIntervalFrequencyCapChange:this.props.onIntervalFrequencyCapChange}))};a.prototype.$2=function(){return b("React").createElement("span",{className:"_47ia"},b("React").createElement(b("AdsReachFrequencyResetPeriodWithSelectorAndInput.react"),{campaignLength:this.props.campaignLength,disabledReason:this.props.disabledReason,errorType:this.props.errorType,intervalFrequencyCapResetPeriod:this.props.intervalFrequencyCapResetPeriod,isReadOnly:this.props.isReadOnly,isResetPeriodMessageShown:this.props.isResetPeriodMessageShown,resetPeriodIndex:this.props.resetPeriodIndex,resetPeriodMode:this.props.resetPeriodMode,onIntervalFrequencyCapResetPeriodChange:this.props.onIntervalFrequencyCapResetPeriodChange,onResetPeriodErrorMessageConfirmed:this.props.onResetPeriodErrorMessageConfirmed,onResetPeriodModeChange:this.props.onResetPeriodModeChange}))};a.prototype.$3=function(){return b("React").createElement("span",{className:"_47ia"},b("React").createElement(b("AdsReachFrequencyResetPeriodInput.react"),{disabledReason:this.props.disabledReason,errorType:this.props.errorType,intervalFrequencyCapResetPeriod:this.props.intervalFrequencyCapResetPeriod,isReadOnly:this.props.isReadOnly,isResetPeriodMessageShown:this.props.isResetPeriodMessageShown,onIntervalFrequencyCapResetPeriodChange:this.props.onIntervalFrequencyCapResetPeriodChange,onResetPeriodErrorMessageConfirmed:this.props.onResetPeriodErrorMessageConfirmed}))};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("span",{className:"_2tt3"},this.props.isConversionGoal?h._({"*":"{interval_frequency} views every","_1":"{interval_frequency} view every"},[h._param("interval_frequency",this.$1()),h._plural(this.props.intervalFrequencyCap)]):h._({"*":"{interval_frequency} impressions every","_1":"{interval_frequency} impression every"},[h._param("interval_frequency",this.$1()),h._plural(this.props.intervalFrequencyCap)]))," ",b("React").createElement("span",{className:this.props.resetPeriodMode==="INPUT"?"_2tt3":""},h._("{interval_frequency_reset_period}",[h._param("interval_frequency_reset_period",this.props.resetPeriodMode==="SELECTOR"?this.$2():this.$3())]),this.props.resetPeriodMode==="SELECTOR"?null:h._({"*":"days","_1":" day"},[h._plural(this.props.intervalFrequencyCapResetPeriod)])))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyIntervalFrequencyCapContainer.react",["AdsDeliveryContainerUtils","AdsEngagementAudienceUILogger","AdsFluxContainer","AdsReachFrequencyConstants","AdsReachFrequencyEnvironment","AdsReachFrequencyFlowChangeFrequencyCapAction","AdsReachFrequencyFlowChangeIsFrequencyCapErr0RShownAction","AdsReachFrequencyFlowChangeIsResetPeriodErr0RShownAction","AdsReachFrequencyFlowChangeResetPeriodAction","AdsReachFrequencyFlowChangeResetPeriodModeAction","AdsReachFrequencyFlowStore","AdsReachFrequencyIntervalFrequencyCap.react","AdsReachFrequencyStoreUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsReachFrequencyConstants").ERROR_TYPES;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a&&b("AdsReachFrequencyFlowChangeFrequencyCapAction").dispatch({campaignID:this.props.campaignID,frequencyCap:Math.floor(a),source:this.state.isCustomResetPeriodSelectorEnabled?"RF_BALANCE_OPTIONS_CUSTOM":null},{line:"125",module:"AdsReachFrequencyIntervalFrequencyCapContainer.react.js"})}.bind(this),this.$2=function(a){a&&b("AdsReachFrequencyFlowChangeResetPeriodAction").dispatch({campaignID:this.props.campaignID,intervalFrequencyCapResetPeriod:a,source:this.state.isCustomResetPeriodSelectorEnabled?"RF_BALANCE_OPTIONS_CUSTOM":null},{line:"137",module:"AdsReachFrequencyIntervalFrequencyCapContainer.react.js"})}.bind(this),this.$3=function(){b("AdsReachFrequencyFlowChangeIsFrequencyCapErr0RShownAction").dispatch({campaignID:this.props.campaignID,isFrequencyCapErrorShown:!1},{line:"148",module:"AdsReachFrequencyIntervalFrequencyCapContainer.react.js"})}.bind(this),this.$5=function(){b("AdsReachFrequencyFlowChangeIsResetPeriodErr0RShownAction").dispatch({campaignID:this.props.campaignID,isResetPeriodErrorShown:!1},{line:"161",module:"AdsReachFrequencyIntervalFrequencyCapContainer.react.js"})}.bind(this),c}a.getStores=function(){return[b("AdsReachFrequencyFlowStore")]};a.calculateState=function(a,c){a=c.campaignID;c=b("AdsReachFrequencyFlowStore").getState(a);a=c.frequencyCap;var d=c.intervalFrequencyCapResetPeriod,e=!!c.hasFrequencyCapError,f=!!c.hasResetPeriodError,g=b("AdsReachFrequencyStoreUtils").getHasInstagramPlacementOnly(c)?h.INSTAGRAM:h.CAMPAIGN_DURATION,i=c.isFrequencyCapErrorShown,j=c.isResetPeriodErrorShown,k=b("AdsReachFrequencyStoreUtils").isFrequencyReadOnly(b("AdsReachFrequencyEnvironment").get(),c),l=k.disabledReason;k=k.isReadOnly;var m=b("AdsReachFrequencyStoreUtils").isCustomResetPeriodSelectorEnabled(c),n=m&&!k?b("AdsReachFrequencyFlowStore").getResetPeriodMode():"INPUT",o=b("AdsReachFrequencyStoreUtils").getCampaignLength(c),p=b("AdsReachFrequencyStoreUtils").getResetPeriodIndex(c);(n==="INPUT"||p===-1)&&(p=0);c=b("AdsReachFrequencyStoreUtils").isConversionGoal(c);return{campaignLength:o,disabledReason:l,errorType:g,hasFrequencyCapError:e,hasResetPeriodError:f,intervalFrequencyCap:a,intervalFrequencyCapResetPeriod:d,isConversionGoal:c,isCustomResetPeriodSelectorEnabled:m,isFrequencyCapErrorShown:i,isReadOnly:k,isResetPeriodErrorShown:j,resetPeriodIndex:p,resetPeriodMode:n}};a.prototype.$4=function(a){b("AdsReachFrequencyFlowChangeResetPeriodModeAction").dispatch({resetPeriodMode:a},{line:"155",module:"AdsReachFrequencyIntervalFrequencyCapContainer.react.js"})};a.prototype.componentDidMount=function(){b("AdsReachFrequencyEnvironment").isPlanner()&&b("AdsEngagementAudienceUILogger").setAppName("RF Planner"),b("AdsDeliveryContainerUtils").logDeliveryImpressionLegacy(this.constructor.displayName)};a.prototype.render=function(){return b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCap.react"),{campaignLength:this.state.campaignLength,disabledReason:this.state.disabledReason,errorType:this.state.errorType,intervalFrequencyCap:this.state.intervalFrequencyCap,intervalFrequencyCapResetPeriod:this.state.intervalFrequencyCapResetPeriod,isConversionGoal:this.state.isConversionGoal,isFrequencyCapMessageShown:this.state.hasFrequencyCapError&&this.state.isFrequencyCapErrorShown,isReadOnly:this.state.isReadOnly,isResetPeriodMessageShown:this.state.hasResetPeriodError&&this.state.isResetPeriodErrorShown,resetPeriodIndex:this.state.resetPeriodIndex,resetPeriodMode:this.state.resetPeriodMode,onFrequencyCapErrorMessageConfirmed:this.$3,onIntervalFrequencyCapChange:this.$1,onIntervalFrequencyCapResetPeriodChange:this.$2,onResetPeriodErrorMessageConfirmed:this.$5,onResetPeriodModeChange:this.$4})};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsReachFrequencyIntervalFrequencyCapWrapper.react",["cx","fbt","AdsFrequencyIntervalField.react","AdsReachFrequencyHighAverageFrequencyCheckBoxContainer.react","AdsReachFrequencyIntervalFrequencyCapContainer.react","FDSSimplePopover.react","HelpLink.react","Layout.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){if(this.props.isFrequencyControlFromAuction){var a=this.props,c=a.account,d=a.frequencyCap,e=a.resetPeriod;a=a.onFrequencyChange;return b("React").createElement(b("AdsFrequencyIntervalField.react"),{account:c,errorSpec:this.props.defaultSpec.errorSpec,frequencyInterval:e,isConversionGoal:this.props.defaultSpec.isConversionGoal,maxFrequency:d,readOnly:this.props.defaultSpec.isMidCampaignEdit,onChange:a})}return b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCapContainer.react"),{campaignID:this.props.campaignID})};a.prototype.$2=function(){return b("React").createElement("div",{className:"_2mnb"},this.$1())};a.prototype.$3=function(){return b("React").createElement("div",{className:(this.props.defaultSpec.resetPeriodMode==="INPUT"?"_3424":"")+(this.props.defaultSpec.resetPeriodMode==="SELECTOR"?" _342v":"")},b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1"},this.props.defaultSpec.isConversionGoal?h._("Frequency Cap for Video Views"):h._("Frequency Cap")),b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Set the maximum number of times you want to show your ad to people during a specific period of time"),position:"above"}))};a.prototype.render=function(){return b("React").createElement("div",{className:"_2jua"+(this.props.isFrequencyControlFromAuction?" _1yas":"")},b("React").createElement(b("Layout.react"),null,b("React").createElement(k,null,this.props.isFrequencyControlFromAuction?this.$2():this.$3()),b("React").createElement(j,{className:(this.props.defaultSpec.resetPeriodMode==="INPUT"?"_4rig":"")+(this.props.defaultSpec.resetPeriodMode==="SELECTOR"?" _4rih":"")},b("React").createElement(b("HelpLink.react"),{alignv:"bottom",href:"https://www.facebook.com/business/help/1461336133922536",target:"_blank",tooltip:"Learn more about setting the right frequency cap for your campaign"}))),this.props.isFrequencyControlFromAuction?null:this.$2(),this.props.defaultSpec.canShowHigherAverageFrequency&&!this.props.isFrequencyControlFromAuction?b("React").createElement(b("AdsReachFrequencyHighAverageFrequencyCheckBoxContainer.react"),{campaignID:this.props.campaignID}):null)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyFrequencyOptionsWithSelector.react",["cx","fbt","AdsReachFrequencyIntervalFrequencyCapWrapper.react","React","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;var j=200;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.$1=function(){var a=this.props.staticOptionList,c=a.map(function(a,c){return b("React").createElement(b("SUISelectorOption.react"),{description:a.description,disabled:a.isDisabled,key:"static_frequecy_option_"+c,tooltip:a.tooltip,value:c},b("React").createElement(b("SUIText.react"),{shade:a.isDisabled?"light":"dark",size:"meta1",weight:"bold"},a.label))});c.push(b("React").createElement(b("SUISelectorOption.react"),{description:h._("Set a custom frequency cap and lifetime frequency optimization"),disabled:this.props.campaignLength===1,key:"auction_entry_custom_frequency_option",value:a.length},b("React").createElement(b("SUIText.react"),{shade:this.props.campaignLength===1?"light":"dark",size:"meta1",weight:"bold"},h._("Custom"))));return b("React").createElement(b("SUISelector.react"),{button:b("React").createElement(b("SUISelectorButton.react"),{height:"normal",textAlign:"center",width:j}),value:this.props.selectedValue,onChange:this.props.onFrequencySelection},c)};a.prototype.$2=function(){return this.props.selectedValue===this.props.staticOptionList.length?b("React").createElement("div",{className:"_66hr"},b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCapWrapper.react"),{campaignID:this.props.campaignID,defaultSpec:this.props.defaultSpec,isFrequencyControlFromAuction:!1})):null};a.prototype.render=function(){return b("React").createElement("div",null,this.$1(),this.$2())};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyIntervalFrequencyCapSummary.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("span",null,g._({"*":"Show ads no more than {number} times","_1":"Show ads no more than 1 time"},[g._plural(this.props.intervalFrequencyCap,"number")])," ",g._({"*":"every {number} days","_1":"every 1 day"},[g._plural(this.props.intervalFrequencyCapResetPeriod,"number")]))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyIntervalFrequencyCapSummaryContainer.react",["AdsFluxContainer","AdsReachFrequencyFlowStore","AdsReachFrequencyIntervalFrequencyCapSummary.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(){return[b("AdsReachFrequencyFlowStore")]};a.calculateState=function(a,c){a=b("AdsReachFrequencyFlowStore").getState(c.campaignID);return{intervalFrequencyCap:a.frequencyCap,intervalFrequencyCapResetPeriod:a.intervalFrequencyCapResetPeriod}};a.prototype.render=function(){return b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCapSummary.react"),{intervalFrequencyCap:this.state.intervalFrequencyCap,intervalFrequencyCapResetPeriod:this.state.intervalFrequencyCapResetPeriod})};function a(){g.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsReachFrequencyMetricConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a="#1C1D1D";b=2;c="\u2013";d=2;e.exports={DEFAULT_BLACK_COLOR:a,DEFAULT_METRIC_GRID_COLUMNS:b,ENCODED_DASH:c,PLANNER_METRIC_GRID_COLUMNS:d}}),null);
__d("AdsReachFrequencyNewCurveOverlay.react",["cx","fbt","ix","AdsReachFrequencyConstants","AdsReachFrequencyCurveSpinner.react","AdsTestIDs","Image.react","React","SUIBusinessTheme","SUIButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsReachFrequencyConstants").BLOCKING_ERROR_MESSAGE_GRAPH,l=b("AdsReachFrequencyConstants").SHOW_REFRESH_TARGETING_MESSAGE,m=i("89721");c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.$1=function(){if(this.props.hasBlockingError)return k;else if(this.props.showRefreshTargeting)return l;else return null};a.prototype.$2=function(){return this.props.showRefreshTargeting||this.props.isPredictionStale||this.props.hasBlockingError?b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("SUIButton.react"),{"data-testid":b("AdsTestIDs").RF_UPDATE_PREDICTION_BUTTON,height:"normal",icon:b("React").createElement(b("Image.react"),{src:m}),label:this.props.showRefreshTargeting?h._("Refresh Now"):h._("Update Prediction"),theme:b("SUIBusinessTheme"),use:"confirm",onClick:this.props.onRefresh})):null};a.prototype.$3=function(){return this.props.isCurveLoading?b("React").createElement("div",{className:"_3mv2"},b("React").createElement(b("AdsReachFrequencyCurveSpinner.react"),null)):b("React").createElement("div",{className:"_3mv2"},this.$1(),this.$2())};a.prototype.render=function(){return this.props.hasBlockingError||this.props.showRefreshTargeting||this.props.isPredictionStale||this.props.isCurveLoading?this.$3():null};function a(){j.apply(this,arguments)}a.propTypes={hasBlockingError:c.bool.isRequired,isCurveLoading:c.bool.isRequired,isPredictionStale:c.bool.isRequired,showRefreshTargeting:c.bool.isRequired,onRefresh:c.func.isRequired};e.exports=a}),null);
__d("AdsReachFrequencyReachCurve.react",["cx","fbt","AdsPlannerCurveConstants","AdsReachFrequencyConstants","AdsReachFrequencyCurveConstants","AdsReachFrequencyCurveFormatter","AdsReachFrequencyCurveOverlayWrapper.react","AdsReachFrequencyEnvironment","AdsReachFrequencyMetricUtils","AdsReachFrequencyNewCurveOverlay.react","AdsReachFrequencyReachCurveMountedAction","AdsReachFrequencyUtils","BUIInsightsHoverCardChart.react","BUIInsightsLineAreaChart.react","CandelaGroupScaleBuilder","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","React","ReactDOM","areEqual","emptyFunction","gkx","immutable","AdsReachFrequencyGraphUtils","CandelaConstants","AdsPlannerConstants","shallowEqual"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").OrderedSet;c=b("React").PropTypes;var k=b("AdsReachFrequencyCurveFormatter").reachCurveAxisFormatterFactory,l=b("AdsReachFrequencyCurveFormatter").reachCurvePercentageSubMarkFormatterFactory,m=b("AdsReachFrequencyCurveConstants").MIN_DENSITY_THRESHOLD,n=b("AdsReachFrequencyGraphUtils").getReachBudgetCurveStyles,o=b("immutable").List,p=b("CandelaConstants").ScaleType,q=b("CandelaConstants").ShapeType,r=b("AdsReachFrequencyConstants").DISPLAY_MODE,s=b("AdsPlannerConstants").THEMES,t=b("CandelaGroupScaleBuilder").group,u=20,v=500,w=b("gkx")("678121");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$3=function(event){event.target.shapeType===q.GUIDE&&this.props.onMouseDown(event)}.bind(this),this.$5=function(event){var a=event.data,c=a.reach_upper_bound;a=a.reach_lower_bound;b("AdsReachFrequencyEnvironment").isPlanner()&&c&&a&&c.value&&a.value&&this.setState({reachUpper:c.value,reachLower:a.value})}.bind(this),this.$3=this.$3.bind(this),this.state={width:window.outerWidth-u,height:window.outerHeight,reachUpper:a.currentSelection.reachUpperValue||0,reachLower:a.currentSelection.reachLowerValue||0}}a.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};a.prototype.componentDidMount=function(){this.setState({width:b("ReactDOM").findDOMNode(this).offsetWidth-u}),b("AdsReachFrequencyReachCurveMountedAction").dispatch({predictionID:this.props.predictionID},{line:"237",module:"AdsReachFrequencyReachCurve.react.js"}),this.$2=b("Event").listen(window,"resize",function(a){this.$1&&this.setState({height:window.outerHeight,width:b("ReactDOM").findDOMNode(this).offsetWidth-u})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.remove()};a.prototype.render=function(){return this.props.displayMode===r.POWER_EDITOR?b("React").createElement("div",{className:"_3-99"},b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasBlockingError,isCurveLoading:this.props.isCurveLoading},this.$4())):b("React").createElement("div",{className:this.props.hasBlockingError||this.props.showRefreshTargeting||this.props.isPredictionStale||this.props.isCurveLoading?"_5h7a":""},b("React").createElement(b("FBOverlayContainer.react"),null,b("React").createElement(b("FBOverlayElement.react"),null,b("React").createElement(b("AdsReachFrequencyNewCurveOverlay.react"),{hasBlockingError:this.props.hasBlockingError,isCurveLoading:this.props.isCurveLoading,isPredictionStale:this.props.isPredictionStale,showRefreshTargeting:this.props.showRefreshTargeting,onRefresh:this.props.onRefresh})),b("React").createElement(b("FBOverlayBase.react"),null,this.$4())))};a.prototype.$4=function(){__p&&__p();var a=this.props.shouldFlipCurve,c=a?{budget:{currencyCode:this.props.currencyCode,label:"XValue",type:p.CURRENCY},reach:{label:"YValue",renderAs:"area",type:p.NUMBER},reach_lower_bound:{className:"interval",intervalOf:"reach",renderAs:"area",type:p.NUMBER},reach_upper_bound:{className:"interval",intervalOf:"reach",renderAs:"area",type:p.NUMBER}}:{x:{label:"XValue",type:p.NUMBER},y:{currencyCode:this.props.currencyCode,label:"YValue",renderAs:"area",type:p.CURRENCY}},d=k(this.props.budgetReachCurve,this.props.currencyCode,this.props.displayMode===r.RF_PLANNER,a),e=this.props.displayMode===r.SIDE_BAR||this.props.maxReach<=0||a?function(){return b("emptyFunction").thatReturnsNull}:l(this.props.maxReach),f=null;this.props.displayMode===r.RF_PLANNER&&this.props.selectedVersionIndex>-1&&(f=s[this.props.selectedVersionIndex%s.length].chart);f=n(this.props.displayMode,f,a);var g=this.props.isInteractive?o([this.props.currentSelection]):o(),i=b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT;this.props.displayMode===r.SIDE_BAR?i=b("AdsReachFrequencyCurveConstants").SIDE_BAR_CURVE_HEIGHT:this.props.displayMode===r.RF_PLANNER&&(i=b("AdsPlannerCurveConstants").PLANNER_HERO_CHART_HEIGHT);var q=this.state.width;this.props.width?q=this.props.width:this.props.displayMode===r.SIDE_BAR?q+=b("AdsReachFrequencyCurveConstants").SIDE_BAR_EXTRA_WIDTH:this.props.displayMode===r.RF_PLANNER&&(q=v);var u=j([{key:"reach",label:h._("Estimated Reach Value")}]),w=function(a){return b("AdsReachFrequencyUtils").abbrevLargeNumber(a,0)};w=this.state.reachUpper!==this.state.reachLower&&b("AdsReachFrequencyEnvironment").isPlanner()?j([{key:"average",label:h._("Estimated Reach Range"),value:b("AdsReachFrequencyMetricUtils").getMetricRange(this.state.reachUpper,this.state.reachLower,w)}]):null;g=b("React").createElement(b("BUIInsightsLineAreaChart.react"),{annotations:g,axisMarkFormatterFactory:d,axisSubMarkFormatterFactory:e,data:this.props.budgetReachCurve,dragPreventDefault:!1,height:this.props.height?this.props.height:i,interactive:this.props.isInteractive,minDensityThreshold:m,plotX:a?t("budget"):t("x"),plotY:a?[t("reach","reach_lower_bound","reach_upper_bound").stepCountHint(5)]:[t("y").stepCountHint(5)],schema:c,selectedAnnotationIndex:0,styles:f,useDualIndenpendentAxes:!(this.props.displayMode===r.RF_PLANNER||this.props.displayMode===r.POWER_EDITOR&&a),width:q,onClick:this.$3,onDrag:this.props.onDrag,onDragEnd:this.props.onDragEnd,onMouseMove:this.$5});d=!(this.props.displayMode===r.POWER_EDITOR)&&(this.props.hasBlockingError||this.props.showRefreshTargeting||this.props.isPredictionStale||this.props.isCurveLoading);return b("React").createElement("div",{className:(d?"_5h7b":"")+(this.props.displayMode===r.RF_PLANNER?" _1i82":"")+(this.props.displayMode===r.SIDE_BAR?" _2u78":"")+(this.props.displayMode===r.RF_PLANNER?" _3-9d":"")},b("React").createElement("div",{className:"_3-97"},b("AdsReachFrequencyEnvironment").isPlanner()&&w?b("React").createElement(b("BUIInsightsHoverCardChart.react"),{auxiliaryItems:w,isHoverCardActionable:!0,items:u,label:null,titleKey:"time"},g):g))};a.prototype.shouldComponentUpdate=function(a,c){return!w?!0:!(b("areEqual")(this.props,a)&&b("shallowEqual")(this.state,c))};a.defaultProps={shouldFlipCurve:!0};a.propTypes={budgetReachCurve:c.arrayOf(c.shape({budget:c.number.isRequired,impression:c.number.isRequired,reach:c.number.isRequired,x:c.number.isRequired,y:c.number.isRequired})).isRequired,currencyCode:c.string.isRequired,currentSelection:c.shape({renderAs:c.arrayOf(c.string),variableName:c.string,value:c.number}),displayMode:c.oneOf(Object.keys(r)).isRequired,hasBlockingError:c.bool.isRequired,height:c.number,isCurveLoading:c.bool.isRequired,isInteractive:c.bool.isRequired,isPredictionStale:c.bool.isRequired,maxReach:c.number.isRequired,selectedVersionIndex:c.number.isRequired,shouldFlipCurve:c.bool.isRequired,showRefreshTargeting:c.bool.isRequired,width:c.number,onDrag:c.func.isRequired,onDragEnd:c.func.isRequired,onMouseDown:c.func.isRequired,onRefresh:c.func.isRequired};e.exports=a}),null);
__d("AdsReachFrequencyReachCurveContainer.react",["cx","AdsAccountCapabilities","AdsFluxContainer","AdsPlannerExpandVersionReachGraphDataProvider","AdsReachFrequencyConstants","AdsReachFrequencyCreationConstants","AdsReachFrequencyCurveSpinner.react","AdsReachFrequencyFlowChangeRefreshedAudienceAction","AdsReachFrequencyFlowStore","AdsReachFrequencyFlowUpdateReachCurveSelectionAction","AdsReachFrequencyGraphUtils","AdsReachFrequencyMetricUtils","AdsReachFrequencyReachCurve.react","AdsReachFrequencyStoreUtils","BinarySearch","CandelaConstants","React","clamp","getByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsReachFrequencyCreationConstants").DEFAULT_BUDGET_MULTIPLER,j=b("AdsReachFrequencyCreationConstants").DEFAULT_MINIMUM_BUDGET,k=b("AdsReachFrequencyConstants").DISPLAY_MODE,l=b("AdsReachFrequencyConstants").BLOCKING_ERROR_MESSAGE_GRAPH;c=b("React").PropTypes;var m=b("CandelaConstants").RenderAs,n=b("AdsPlannerExpandVersionReachGraphDataProvider").toFluxStore();d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(event){var a=b("AdsReachFrequencyMetricUtils").getEffectiveReachMetric(this.state.rfState);a=this.state.shouldFlipCurve?b("AdsReachFrequencyMetricUtils").toMetric(this.state.rfState,event.data.budget.value,"budget",a):event.data.x.value;var c=this.state.curveData,d=c.length;a=b("clamp")(a,c[0].reach,c[d-1].reach);b("AdsReachFrequencyFlowUpdateReachCurveSelectionAction").dispatch({campaignID:this.state.campaignID,curveData:this.state.curveData,xValue:a,scaleX:this.state.scaleX,scaleY:this.state.scaleY,updateActionType:event.type,planID:this.props.planID},{line:"286",module:"AdsReachFrequencyReachCurveContainer.react.js"})}.bind(this),this.$2=function(event){var a=this.state.shouldFlipCurve?"reach":"x";if(!event.data[a])return;b("AdsReachFrequencyFlowUpdateReachCurveSelectionAction").dispatch({campaignID:this.state.campaignID,curveData:this.state.curveData,xValue:event.data[a].value,scaleX:this.state.scaleX,scaleY:this.state.scaleY,updateActionType:event.type,planID:this.props.planID},{line:"303",module:"AdsReachFrequencyReachCurveContainer.react.js"})}.bind(this),c}a.getStores=function(){return[b("AdsReachFrequencyFlowStore"),n]};a.calculateState=function(a,c){__p&&__p();var d;a=c.displayMode===k.RF_PLANNER;if(a){var e=n.getState();e=e.expandedVersionID;e=e;d=e?b("AdsReachFrequencyFlowStore").getState(e):{}}else d=b("AdsReachFrequencyFlowStore").getCurrentState(),e=b("AdsReachFrequencyFlowStore").getCampaignID();var f=b("AdsReachFrequencyStoreUtils").areAnyErrorsBlocking(d);if(!d.previous_prediction||d.isPredictionPending||!e)return{hasBlockingError:f,isCurveLoading:!0};var g=b("AdsReachFrequencyStoreUtils").getCurrency(d),h=b("AdsReachFrequencyStoreUtils").getAudienceSize(d),l=d.budgetReachCurve;if(l.length===0)return{hasBlockingError:f,isCurveLoading:!0};var o=b("AdsReachFrequencyMetricUtils").getEffectiveReach(d),p=b("AdsReachFrequencyGraphUtils").getScaleX(d.previous_prediction.external_maximum_reach),q=b("AdsReachFrequencyGraphUtils").getScaleY(l),r=a?"budget":"x",s=Math.min(b("BinarySearch").findBoundInArray(l.map(function(a){return a.reach}),o,function(a,b){return!a||!b?0:a-b},b("BinarySearch").LEAST_UPPER_BOUND),l.length-1);s={draggable:!0,reachValue:l[s].reach,reachUpperValue:l[s].reach,reachLowerValue:l[s].reach,renderAs:[m.MARKER,m.LINE],variableName:r,value:l[s][r],className:"selected"};r=Number.MAX_VALUE;if(d.accountInfo.capabilities!=null&&d.accountInfo.capabilities.includes(b("AdsAccountCapabilities").ADS_RF_L2_ENTRY)&&!c.isInteractive){c=b("AdsReachFrequencyMetricUtils").adsReachFrequencyEffectiveMetricValue(d,"budget");c=Math.max(j,i*c,b("getByPath")(d,["accountInfo","rf_spec","default_creation_data","default_reach_curve_max_budget"],0));c=b("AdsReachFrequencyStoreUtils").getBudgetInterpolatedCurvePoint(d,c);r=c.reach}c=Math.min(b("AdsReachFrequencyStoreUtils").getMinimumReach(d),o,s.reachValue);o=b("AdsReachFrequencyGraphUtils").getProcessedCurveDataForDisplay(b("AdsReachFrequencyGraphUtils").getFilteredBudgetReachCurveData(l,c,Math.max(r,c)),a?s.reachValue:s.value,d.buyingType,d.prediction?d.prediction:d.previous_prediction);l=b("AdsReachFrequencyStoreUtils").shouldShowRefreshTargeting(d);r=b("AdsReachFrequencyStoreUtils").isPredictionStale(d);return{campaignID:e,currency:g,currentSelection:s,curveData:o,hasBlockingError:f,isCurveLoading:!1,isPredictionStale:r,maxReach:h,predictionID:d.prediction&&d.prediction.id,rfState:d,scaleX:p,scaleY:q,shouldFlipCurve:a,showRefreshTargeting:l}};a.prototype.$3=function(){b("AdsReachFrequencyFlowChangeRefreshedAudienceAction").dispatch({refreshedAudience:!0},{line:"315",module:"AdsReachFrequencyReachCurveContainer.react.js"})};a.prototype.render=function(){if(!this.state.curveData)return b("React").createElement("div",{className:"_4ab7"},this.state.hasBlockingError?l:b("React").createElement(b("AdsReachFrequencyCurveSpinner.react"),null));var a=this.props.selectedVersionIndex!==void 0?this.props.selectedVersionIndex:-1;return b("React").createElement(b("AdsReachFrequencyReachCurve.react"),{budgetReachCurve:this.state.curveData,currencyCode:this.state.currency,currentSelection:this.state.currentSelection,displayMode:this.props.displayMode,hasBlockingError:this.state.hasBlockingError,isCurveLoading:this.state.isCurveLoading,isInteractive:this.props.isInteractive,isPredictionStale:this.state.isPredictionStale,maxReach:this.state.maxReach,predictionID:this.state.predictionID,selectedVersionIndex:a,shouldFlipCurve:this.state.shouldFlipCurve,showRefreshTargeting:this.state.showRefreshTargeting,onDrag:this.$1,onDragEnd:this.$1,onMouseDown:this.$2,onRefresh:this.$3})};a.defaultProps={isInteractive:!0};a.propTypes={displayMode:c.oneOf(Object.keys(k)).isRequired,planID:c.string,selectedVersionIndex:c.number};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsReachFrequencyVideoOptions",["fbt","AdsLearnMore.react","AdsReachFrequencyEnvironment","AdsReachFrequencyOptimization","AdsReachFrequencyStoreUtils","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsReachFrequencyOptimization").EVENTS;c=b("AdsReachFrequencyStoreUtils").getMrcVideoViewGrayOutReason;d=b("AdsReachFrequencyEnvironment").isPlanner();f=[{description:d?g._("Predict the number of people who will see your ad, but not who will watch your video."):g._("We'll optimize delivery to people who will watch your video for at least 10 seconds."),eventType:a.IMPRESSION_10_SECONDS,getChargedBy:g._("Impression"),getChargedHelptext:g._("Pay for your ad when it's shown on screen. If your ad delivers more impressions than predicted, you'll only be charged for the predicted impressions. You will never be charged more than the budget you set."),isNew:!1,label:d?g._("Impressions"):g._("10-Second Video Views"),optimizationDeliveryHelptext:b("React").createElement(b("React").Fragment,null,g._("We'll deliver your ads to get the most video views of at least 10 seconds in aggregate, or for nearly its total length, whichever happens first."),b("React").createElement("p",null,b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1582420952009573",isStandalone:!0}))),planTypes:["REACH_AND_FREQUENCY","TRP"],predictableResultDescription:g._("Predict the number of people who will see your ad, but not who will watch your video. Lock in CPM."),predictableResultLabel:g._("Reach"),isEnabled:function(){return!0},grayOutReason:function(){return null}},{description:d?g._("Predict the number of people who will watch your video."):g._("We'll optimize delivery to people who will watch your video for at least 2 continuous seconds."),eventType:a.VIDEO_VIEW_2_SECONDS,getChargedBy:g._("2-Second Continuous Video View"),getChargedHelptext:b("React").createElement(b("React").Fragment,null,g._("Pay for your ad when your video is viewed for 2 continuous seconds or more. Most 2-second continuous video views will have at least 50\u0025 of the video pixels on screen."),b("React").createElement("p",null,b("React").createElement(b("AdsLearnMore.react"),{cmsID:"144013386262607",isStandalone:!0}))),isNew:!0,label:g._("2-Second Continuous Video Views"),optimizationDeliveryHelptext:b("React").createElement(b("React").Fragment,null,g._("We'll deliver your ads to get the most video views of 2 continuous seconds or more. Most 2-second continuous video views will have at least 50\u0025 of the video pixels on screen."),b("React").createElement("p",null,b("React").createElement(b("AdsLearnMore.react"),{cmsID:"144013386262607",isStandalone:!0}))),planTypes:["REACH_AND_FREQUENCY"],predictableResultDescription:g._("Predict the number of people who will watch your video. Lock in cost per 2-second continuous video view."),predictableResultLabel:g._("Video Views"),isEnabled:function(){return!0},grayOutReason:c}];e.exports=f}),null);
__d("AdsReachFrequencyVideoSelection.react",["AdsReachFrequencyVideoOptions"],(function(a,b,c,d,e,f){"use strict";var g=new Map(b("AdsReachFrequencyVideoOptions").map(function(a){return[a.eventType,a.label]}));a=function(a){return g.get(a.eventType)};e.exports=a}),null);
__d("AdsReachFrequencyVideoView.react",["React","SUISelector.react","SUISelectorOption.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=function(a){return b("React").createElement(b("SUISelector.react"),{value:a.eventType,onChange:a.onSelectionChange},a.videoOptions.map(function(a,c){return b("React").createElement(b("SUISelectorOption.react"),{description:a.description,key:"vv_"+c,value:a.eventType},a.label)}))};g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){switch(this.props.renderAs){case"selector":return b("React").createElement(h,this.props);default:return null}};function a(){g.apply(this,arguments)}a.defaultProps={shouldDisableSelector:!1};e.exports=a}),null);
__d("AdsSchedulingUtils",["AdsReachFrequencyConstants","DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsReachFrequencyConstants").DEFAULT_MINIMUM_TIMESPAN_IN_HOURS,h=b("DateConsts").HOUR_PER_DAY,i=b("DateConsts").MIN_PER_HOUR*b("DateConsts").HOUR_PER_DAY,j={intervalToSchedule:function(a,c){var d=a.min;a=a.max;return[{start_minute:d*c*b("DateConsts").MIN_PER_HOUR,end_minute:a*c*b("DateConsts").MIN_PER_HOUR,days:[0,1,2,3,4,5,6]}]},scheduleToInterval:function(a,c){return{min:a[0].start_minute/(b("DateConsts").MIN_PER_HOUR*c),max:a[0].end_minute/(b("DateConsts").MIN_PER_HOUR*c)}},isLessThanMinimumTimespan:function(a){return a[1]-a[0]<g},isFullInterval:function(a){return a[0].start_minute<=0&&a[a.length-1].end_minute>=i},getSnappedValues:function(a,b){if(j.isLessThanMinimumTimespan(a))if(b===0)return[Math.max(a[1]-g,0),a[1]];else return[a[0],Math.min(a[0]+g,h)];return a}};e.exports=j}),null);
__d("AdsSchedulingSlider.react",["cx","fbt","AdsAbstractSlider.react","AdsAbstractSliderUtils","AdsReachFrequencyConstants","AdsSchedulingUtils","DateConsts","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsReachFrequencyConstants").DAY_PARTING_DISPLAY_FORMAT,k=b("AdsReachFrequencyConstants").DEFAULT_MINIMUM_TIMESPAN_IN_HOURS;a=babelHelpers.inherits(l,b("React").Component);i=a&&a.prototype;function l(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isOnDrag:!1,isMouseOver:!1,lessThanMinTimespan:!1,values:l.getValues(this.props)},this.getLabel=function(a,b,c){a=this.props.hoursBetweenLabels;var d=j[b];if(this.state.isOnDrag||this.state.isMouseOver)return b%a===0?d:"";else return c.includes(b)?d:""}.bind(this),this.onDrag=function(a){this.setState({isOnDrag:!0,lessThanMinTimespan:b("AdsSchedulingUtils").isLessThanMinimumTimespan(a),values:a})}.bind(this),this.onDrop=function(a,c){a=b("AdsSchedulingUtils").getSnappedValues(a,c);this.setState({isOnDrag:!1,lessThanMinTimespan:b("AdsSchedulingUtils").isLessThanMinimumTimespan(a),values:a});this.props.onChange(b("AdsSchedulingUtils").intervalToSchedule({min:a[0],max:a[1]},this.props.hoursPerSegment))}.bind(this),this.onMouseOver=function(a){this.setState({isMouseOver:!0})}.bind(this),this.onMouseLeave=function(a){this.setState({isMouseOver:!1})}.bind(this),this.renderDragHandleTooltip=function(){return this.state.lessThanMinTimespan?b("React").createElement("span",null,h._({"*":"Ads must run for at least {DayPartMinimumTimespan} hours at a time."},[h._param("DayPartMinimumTimespan",k,[0])])):null}.bind(this),this.getPipStyle=function(a,b){var c={};c.fontSize="11px";b.includes(a)?(c.fontWeight="bold",c.color="rgba(106, 113, 127, 1)"):c.opacity=this.state.isOnDrag||this.state.isMouseOver?.4:0;return c}.bind(this),c}l.getValues=function(a){a=b("AdsSchedulingUtils").scheduleToInterval(a.campaignSchedule,a.hoursPerSegment);return[a.min,a.max]};l.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.campaignSchedule!=a.campaignSchedule&&this.setState({values:l.getValues(a)})};l.prototype.getAxisTicker=function(a,c,d){d=a>=d[0]&&a<=d[1]?1:0;return b("React").createElement("span",{className:"_28m0",key:"axisTicker_"+a,style:{background:c[d],borderColor:c[d]}})};l.prototype.render=function(){return b("React").createElement(b("AdsAbstractSlider.react"),{displayDragHandleTooltip:this.state.lessThanMinTimespan&&this.state.isMouseOver,getAxisTicker:this.getAxisTicker,getLabel:this.getLabel,getPipStyle:this.getPipStyle,maxValue:b("DateConsts").HOUR_PER_DAY/this.props.hoursPerSegment,minValue:0,normalize:b("AdsAbstractSliderUtils").getNormalizeFunction(b("DateConsts").HOUR_PER_DAY/this.props.hoursPerSegment+1),renderDragHandleTooltip:this.renderDragHandleTooltip,renderLegend:b("emptyFunction"),step:1,values:this.state.values,onDrag:this.onDrag,onDrop:this.onDrop,onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseOver})};e.exports=l}),null);
__d("AdsSchedulingSummary.react",["fbt","AdsReachFrequencyConstants","AdsSchedulingUtils","DateConsts","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsReachFrequencyConstants").DAY_PARTING_DISPLAY_FORMAT;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.campaignSchedule[0].start_minute/b("DateConsts").MIN_PER_HOUR,c=this.props.campaignSchedule[0].end_minute/b("DateConsts").MIN_PER_HOUR;if(b("AdsSchedulingUtils").isFullInterval(this.props.campaignSchedule))return b("React").createElement("span",null,g._("Ads run all day (Local time)"));else return b("React").createElement("span",null,g._("{start time label} - {end time label} (Local time for {total hours} hours)",[g._param("start time label",i[a]),g._param("end time label",i[c]),g._param("total hours",c-a)]))};function a(){h.apply(this,arguments)}a.propTypes={campaignSchedule:c.arrayOf(c.shape({start_minute:c.number.isRequired,end_minute:c.number.isRequired,days:c.arrayOf(c.number).isRequired})).isRequired};e.exports=a}),null);
__d("AdsReachFrequencyFrequencyOptions.react",["fbt","AdsLearnMore.react","AdsReachFrequencyIntervalFrequencyCapWrapper.react","BUIFormElement.react","React","SUIRadioList.react","SUIText.react","suiMargin","AdsFrequencyControlEditorConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").Component;var i=b("SUIRadioList.react").Item,j=b("AdsFrequencyControlEditorConstants").DEFAULT_BALANCED_OPTION_INDEX,k=b("AdsFrequencyControlEditorConstants").SLICE_OPTIONS_INDEX;d="1461336133922536";var l=g._("We'll show your ads to people at a frequency that for other advertisers drives purchase intent while still reaching enough people. {newLineForFormatting} You can choose higher reach if you want more people to see your ads, but they'll see them less frequently. Choose higher frequency if you want to show your ads more often, but they'll be shown to fewer people. {=learn more}",[g._param("newLineForFormatting","\n"),g._param("=learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:d}))]),m=g._("Select an option for balancing the tradeoffs between reaching more people and showing ads more often"),n=g._("Reach and Frequency Balance"),o=g._("Reach and Frequency Balance for Video Views");h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.$1=function(){__p&&__p();var a=this.props.staticOptionList,c=this.props.staticOptionList,d=g._("Unable to edit in mid campaign");if(this.props.isFrequencyControlFromAuction){var e=this.props,f=e.onFrequencySelection,h=e.selectedValue;a=a.slice(0,k);e=function(b){var d=b===a.length?j:b;d=c[d];var e=d.frequency;d=d.interval;f(b,e,d,h)}}else e=this.props.onFrequencySelection;var l=a.map(function(a,c){return b("React").createElement(i,{disabled:a.isDisabled||this.props.defaultSpec.isMidCampaignEdit,key:"static_frequecy_option_"+c,margin:"_3-8w _3-96",tooltip:this.props.isFrequencyControlFromAuction?"":this.props.defaultSpec.isMidCampaignEdit?d:a.tooltip,value:c},b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),{color:a.isDisabled?"disabled":"primary",size:"meta1",weight:"bold"},a.label)," ",b("React").createElement(b("SUIText.react"),{color:a.isDisabled?"disabled":"secondary",size:"meta1"},a.description)))}.bind(this));l.push(b("React").createElement(i,{disabled:this.props.campaignLength===1||this.props.defaultSpec.isMidCampaignEdit,key:"auction_entry_custom_frequency_option",margin:"_3-8w _3-96",tooltip:this.props.defaultSpec.isMidCampaignEdit&&!this.props.isFrequencyControlFromAuction?d:"",value:a.length},b("React").createElement(b("SUIText.react"),{color:this.props.campaignLength===1?"disabled":"primary",size:"meta1",weight:"bold"},g._("Custom"))," ",this.props.isFrequencyControlFromAuction?b("React").createElement(b("SUIText.react"),{color:this.props.campaignLength===1?"disabled":"secondary",size:"meta1"},g._("- Show ads a maximum number of times within a set interval")):null));return b("React").createElement(b("SUIRadioList.react"),{margin:"_3-96",value:this.props.selectedValue,onChange:e},l)};a.prototype.$2=function(){__p&&__p();var a=this.props.staticOptionList;this.props.isFrequencyControlFromAuction&&(a=a.slice(0,k));if(this.props.selectedValue===a.length)if(this.props.isFrequencyControlFromAuction){a=this.props;var c=a.account,d=a.defaultSpec,e=a.frequencyCap,f=a.resetPeriod;a=a.onFrequencyChange;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCapWrapper.react"),{account:c,defaultSpec:d,frequencyCap:e,isFrequencyControlFromAuction:!0,resetPeriod:f,onFrequencyChange:a}),b("React").createElement("div",null," ",this.$3()," "))}else{c=this.props;d=c.campaignID;e=c.defaultSpec;return b("React").createElement(b("AdsReachFrequencyIntervalFrequencyCapWrapper.react"),{campaignID:d,defaultSpec:e,isFrequencyControlFromAuction:!1})}return null};a.prototype.$3=function(){if(this.props.maxFrequency===0)return null;return this.props.defaultSpec.isConversionGoal?b("React").createElement(b("SUIText.react"),{margin:"_3-8w",size:"meta1"},g._("Your ads will be seen a maximum of {=view} per person.",[g._param("=view",b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},g._({"*":"{number} views","_1":"1 view"},[g._plural(this.props.maxFrequency,"number")])))])):b("React").createElement(b("SUIText.react"),{margin:"_3-8w",size:"meta1"},g._("Your ads will be seen a maximum of {=time} per person.",[g._param("=time",b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},g._({"*":"{number} times","_1":"1 time"},[g._plural(this.props.maxFrequency,"number")])))]))};a.prototype.render=function(){return this.props.isFrequencyControlFromAuction?b("React").createElement("div",null,this.$1(),this.$2()):b("React").createElement(b("BUIFormElement.react"),{helpText:this.props.isAuctionEntry?l:m,helpTextPosition:"above",label:this.props.defaultSpec.isConversionGoal?o:n},this.$1(),this.$2(),this.$3())};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsReachFrequencyFrequencyOptionContainer.react",["AdsDeliveryViewStateSelectReachFrequencyOptionDataAction","AdsFluxContainer","AdsReachFrequencyEnvironment","AdsReachFrequencyFlowChangeFrequencyCapAction","AdsReachFrequencyFlowChangeIsHigherAverageFrequencyAction","AdsReachFrequencyFlowChangeResetPeriodAction","AdsReachFrequencyFlowStore","AdsReachFrequencyFrequencyOptions.react","AdsReachFrequencyFrequencyOptionsWithSelector.react","AdsReachFrequencyStoreUtils","FDSSpinner.react","React","suiMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={},i=1,j=7,k="INPUT";c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){__p&&__p();if(this.state.isLoading)return;var c=this.state,d=c.staticOptionList,e=c.canShowHigherAverageFrequency;c=c.intervalFrequencyCapResetPeriod;b("AdsDeliveryViewStateSelectReachFrequencyOptionDataAction").dispatch({id:this.props.campaignID,index:a},{line:"166",module:"AdsReachFrequencyFrequencyOptionContainer.react.js"});if(a<d.length){b("AdsReachFrequencyFlowChangeFrequencyCapAction").dispatch({campaignID:this.props.campaignID,frequencyCap:d[a].frequency||i,source:"RF_BALANCE_OPTIONS"},{line:"171",module:"AdsReachFrequencyFrequencyOptionContainer.react.js"});d=d[a].interval||j;c!==d&&b("AdsReachFrequencyFlowChangeResetPeriodAction").dispatch({campaignID:this.props.campaignID,intervalFrequencyCapResetPeriod:d,source:"RF_BALANCE_OPTIONS"},{line:"180",module:"AdsReachFrequencyFrequencyOptionContainer.react.js"});e&&b("AdsReachFrequencyFlowChangeIsHigherAverageFrequencyAction").dispatch({campaignID:this.props.campaignID,isHigherAverageFrequency:!1},{line:"189",module:"AdsReachFrequencyFrequencyOptionContainer.react.js"})}}.bind(this),c}a.getStores=function(){return[b("AdsReachFrequencyFlowStore")]};a.calculateState=function(a,c){a=c.campaignID;c=b("AdsReachFrequencyFlowStore").getState(a);a=b("AdsReachFrequencyStoreUtils").canShowHigherAverageFrequency(c);var d=c.intervalFrequencyCapResetPeriod;if(!b("AdsReachFrequencyStoreUtils").hasAuctionEntryOptionIndex(c))return{isLoading:!0,staticOptionList:[]};var e=b("AdsReachFrequencyStoreUtils").getMaxFrequency(c),f=b("AdsReachFrequencyStoreUtils").getAuctionEntryFrequencyStaticOptions(c),g=b("AdsReachFrequencyStoreUtils").getCampaignLength(c),h=b("AdsReachFrequencyStoreUtils").isCustomResetPeriodSelectorEnabled(c);h=h?b("AdsReachFrequencyFlowStore").getResetPeriodMode():k;return{campaignLength:g,canShowHigherAverageFrequency:a,intervalFrequencyCapResetPeriod:d,isLoading:!1,isConversionGoal:b("AdsReachFrequencyStoreUtils").isConversionGoal(c),isMidCampaignEdit:c.isMidCampaignEdit,maxFrequency:e,resetPeriodMode:h,selectedValue:c.auctionEntryOptionIndex,staticOptionList:f}};a.prototype.render=function(){if(this.state.isLoading)return b("React").createElement(b("FDSSpinner.react"),{margin:"_3-8j"});var a=this.state,c=a.campaignLength,d=a.canShowHigherAverageFrequency,e=a.isMidCampaignEdit,f=a.isConversionGoal,g=a.maxFrequency,i=a.resetPeriodMode,j=a.selectedValue;a=a.staticOptionList;d={canShowHigherAverageFrequency:d,errorSpec:h,isConversionGoal:f,isMidCampaignEdit:e,resetPeriodMode:i};return b("AdsReachFrequencyEnvironment").isPlanner()?b("React").createElement(b("AdsReachFrequencyFrequencyOptionsWithSelector.react"),{campaignID:this.props.campaignID,campaignLength:c,defaultSpec:d,isAuctionEntry:!1,isFrequencyControlFromAuction:!1,maxFrequency:g,selectedValue:j,staticOptionList:a,onFrequencySelection:this.$1}):b("React").createElement(b("AdsReachFrequencyFrequencyOptions.react"),{campaignID:this.props.campaignID,campaignLength:c,defaultSpec:d,isAuctionEntry:this.props.isAuctionEntry,isFrequencyControlFromAuction:!1,maxFrequency:g,selectedValue:j,staticOptionList:a,onFrequencySelection:this.$1})};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsPlannerFrequencyOverview.react",["cx","fbt","AdsPlannerCurveConstants","AdsPlannerStyleUtils","AdsPlannerUtils","AdsReachFrequencyCurveFormatter","AdsReachFrequencyCurveOverlayWrapper.react","AdsReachFrequencyGraphUtils","BUIInsightsHoverCardChart.react","BUIInsightsVerticalBarChart.react","CandelaCategoryScale","CandelaConstants","CandelaGroupScaleBuilder","Event","InsightsFormatterFactories","InsightsFormatters","React","ReactDOM","emptyFunction","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CandelaConstants").Alignment,k=b("CandelaConstants").ScaleType,l=b("CandelaConstants").ShapeType,m=b("CandelaGroupScaleBuilder").group,n=b("CandelaConstants").Orientation;c=b("React").Component;var o=b("immutable").OrderedSet,p=function(){return b("emptyFunction").thatReturnsNull};d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.viewLabelFormatter=function(a){while(a.valueOf()<=this.props.maxColumns)return h._("{frequency}",[h._param("frequency",a)]);return h._("{max frequency shows in separate bar}{optional + sign for graph label}",[h._param("max frequency shows in separate bar",this.props.maxColumns+1),h._param("optional + sign for graph label",b("AdsPlannerUtils").shouldShowSeeMoreLink(this.props.data,this.props.maxColumns)?"+":"")])}.bind(this),this.frequencyCurveAxisFormatterFactory=function(a,c){if(c===n.HORIZONTAL&&a instanceof b("CandelaCategoryScale"))return this.viewLabelFormatter;else return b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)}.bind(this),this.state={width:b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH}}a.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};a.prototype.componentDidMount=function(){this.setState({width:this.$3()}),this.$2=b("Event").listen(window,"resize",function(a){this.$1&&this.setState({width:this.$3()})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&this.$2.remove()};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this);return a&&a.offsetWidth?parseInt(a.offsetWidth,10):b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH};a.prototype.render=function(){__p&&__p();if(this.props.data.length===0)return null;var a=b("AdsPlannerUtils").getAggregatedData(this.props.data.map(function(a){return Object.assign({},a)}),this.props.versions.map(function(a){return a.versionID}),this.props.maxColumns);a=b("AdsPlannerUtils").addFrequencyCurveData(a);var c={frequency:{label:"Frequency",type:k.CATEGORY}};this.props.versions.forEach(function(a){c[a.versionID]={label:a,type:k.PERCENTAGE}});var d=b("AdsReachFrequencyGraphUtils").getThemedStyleForVerticalBars(b("AdsPlannerCurveConstants").PLANNER_FREQUENCY_CURVE_STYLES,this.props.currentVersion,this.props.versions),e=b("AdsReachFrequencyCurveFormatter").percentageBarLabelFormatterFactory(this.props.currentVersion,this.props.versions),f=p,g=b("AdsPlannerStyleUtils").getAutoColorsForVersions(this.props.versions);g=b("React").createElement(b("BUIInsightsVerticalBarChart.react"),{alignment:j.BOTTOM,autoColors:g,axisMarkFormatterFactory:this.frequencyCurveAxisFormatterFactory,axisSubMarkFormatterFactory:f,barLabelFormatterFactory:e,data:a,height:b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT,plotX:m("frequency"),plotY:[m.apply(void 0,this.props.versions.map(function(a){return a.versionID})).from(0).extendInput(0,.25).to(1).roundInput()],schema:c,series:c,styles:d,width:this.state.width});f=function(){return function(a){return b("InsightsFormatters").percentageFormatter(Math.round(a*1e3)/1e3)}};e=b("immutable").Set([l.BAR_GROUP]);a=this.props.hoverCardChartItems;d=a?[h._("Frequency"),a]:[void 0,o()];a=d[0];d=d[1];return b("React").createElement("div",{className:"_3k1w"},b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasError,isCurveLoading:this.props.isCurveLoading},b("React").createElement(b("BUIInsightsHoverCardChart.react"),{formatterFactory:f,hoverCardPosition:"above",isHoverCardActionable:!1,items:d,targetShapeTypes:e,title:a},g)))};e.exports=a}),null);
__d("AdsReachFrequencyVideoBenchmarkUtils",["AdsAPIReachFrequencyPredictionFields","AdsReachFrequencyConstants","AdsReachFrequencyGraphMetricsPlugins","AdsReachFrequencyHelper","AdsReachFrequencyMetricUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsReachFrequencyConstants").COST_COMPARISON_IMAGINARY_MAX_FACTOR,h=b("AdsReachFrequencyConstants").COST_COMPARISON_MINIMUM_PERCENTAGE,i=b("AdsReachFrequencyConstants").COST_COMPARISON_MINIMUM_REACH,j=b("AdsReachFrequencyConstants").EMPTY_POINT,k=b("AdsReachFrequencyConstants").PERCENTAGE_PRECISION,l=b("AdsReachFrequencyConstants").VideoBenchmarkCPVGraphErrorCodes,m=b("AdsReachFrequencyConstants").VideoViewBenchmarkStatusCodes,n={getCurrentVideoBenchmarkBucket:function(a){var c=null,d=n.getVideoBenchmarkDistributionByMetric(a,"cpv"),e=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValue(a,"cpv"),f=Number.MAX_VALUE;d.forEach(function(a,b){a=Math.abs(a-e);a<f&&(f=a,c=b.toString())});return c},getVideoBenchmarkDistributionByMetric:function(a,c){var d=new Map(),e=n.getVideoBenchmarkDistribution(a);a=b("AdsReachFrequencyGraphMetricsPlugins").get(c);var f=a.fromPoint;e&&Array.from(e.keys()).forEach(function(a){var b=e.get(a);b&&d.set(a,f(b))});return d},getVideoBenchmarkDistribution:function(a){__p&&__p();var c=a.rawVideoBenchmarkCurve;if(c&&c.size!=null){var d=Array.from(c.keys()),e=b("AdsReachFrequencyMetricUtils").getPoint(a),f=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValue(a,"cpv"),h=d.map(function(a){a=c.get(a);return a!=null?b("AdsReachFrequencyHelper").getSelectedCurvePoint(a,e.conversionReach):j}),i=f;f=h.map(function(c){var d=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValueForPoint(a,"cpv",c||j);i=Math.max(i,d);return[c,d]});h=f.map(function(a){return a[0]?a:[j,i*g]});h.sort(function(a,b){a[0];a=a[1];b[0];b=b[1];return a-b});var k=h.map(function(a){var b=a[0];a[1];return b});return new Map(d.map(function(a){var b=k[parseInt(a,10)-1];return[a,b?b:j]}))}return new Map()},getVideoBenchmarkValue:function(a,c,d,e){a=b("AdsReachFrequencyGraphMetricsPlugins").get(a);a=a.fromPoint;c=c.get(e);if(c!=null){e=b("AdsReachFrequencyHelper").getSelectedCurvePoint(c,d);if(e)return a(e)}return 0},getVideoBenchmarkHoverCardData:function(a){var c=[],d=a.rawVideoBenchmarkCurve,e=n.getVideoBenchmarkDistribution(a),f=n.getCurrentVideoBenchmarkBucket(a),g=b("AdsReachFrequencyMetricUtils").getPoint(a);d&&d.size!=null&&Array.from(d.keys()).map(function(a){var b=e.get(a)||j;a===f&&(b=g);c.push({percentile:parseInt(a,10)*10,point:b})});return c},getVideoBenchmarkErrorCode:function(a,c,d){__p&&__p();if(!n.doesPageHaveHistory(d))return l.NO_PAGE_HISTORY;if(!n.isAudienceEnough(d))return l.AUDIENCE_TOO_SMALL;d=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValueForPoint(a,"reach_2s_vv",c);if(d<i)return l.REACH_2S_VV_TOO_SMALL;d=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValueForPoint(a,"reach_percent_2s_vv",c)*100;c=parseFloat(d.toFixed(k));if(c<h)return l.REACH_2S_VV_TOO_SMALL;d=n.getVideoBenchmarkDistributionByMetric(a,"cpv");return Array.from(d.values()).every(function(a){return a==0})?l.NO_VALID_DATA:null},doesPageHaveHistory:function(a){a=b("getByPath")(a,[b("AdsAPIReachFrequencyPredictionFields").VIDEO_VIEW_BENCHMARK_STATUS],null);return a!==m.FAILURE_NO_PAGE_HISTORY},isAudienceEnough:function(a){a=b("getByPath")(a,[b("AdsAPIReachFrequencyPredictionFields").VIDEO_VIEW_BENCHMARK_STATUS],null);return a!==m.FAILURE_NOT_ENOUGH_AUDIENCE}};e.exports=n}),null);
__d("AdsReachFrequencyCurveUtils",["AdsAPIFacebookPosition","AdsPlacementAPISpecReaderUtils","AdsReachFrequencyConstants","AdsReachFrequencyCurveConstants","AdsReachFrequencyEnvironment","AdsReachFrequencyMetricUtils","AdsReachFrequencyStoreUtils","AdsReachFrequencyUtils","AdsReachFrequencyVideoBenchmarkUtils","DateConsts","DateTime","Timezone","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsReachFrequencyConstants").COST_COMPARISON_IMAGINARY_MAX_FACTOR,h=b("AdsReachFrequencyConstants").CUMULATIVE_FREQUENCY_CURVE_DEFAULT_FREQUENCIES,i=b("DateConsts").SEC_PER_DAY,j=b("Timezone").UTC,k=b("AdsReachFrequencyCurveConstants").PLACEMENT_BREAKDOWN_MAP,l=b("AdsReachFrequencyCurveConstants").PLACEMENT_INDEX,m=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_BEGINNING_TO_REMAINING_RATIO,n=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_FIRST_DAYS_PROPORTION,o=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_INTERVAL_THRESHOLD,p=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_MIN_FIRST_DAYS,q=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_MIN_REACH_LEVEL,r=b("AdsReachFrequencyCurveConstants").SPEND_CURVE_MIN_REMAINING_DAYS,s=b("AdsReachFrequencyCurveConstants").TV_VIEW_PARAMS,t="F d",u="d",v={getVersionID:function(a,c){c=b("nullthrows")(b("AdsReachFrequencyEnvironment").isAdsInterfaces()?c:a.plannerVersionID);return c},getDateRangeFromStates:function(a){var c=Math.min.apply(Math,a.map(function(a){return b("nullthrows")(a.startDate).startOfDay().getUnixTimestampSeconds()}));a=Math.max.apply(Math,a.map(function(a){return b("nullthrows")(a.endDate).startOfDay().getUnixTimestampSeconds()}));return{minDate:c,maxDate:a}},getUnifiedSpendCurveFromStates:function(a,c,d,e,f){__p&&__p();c=v.getDateRangeFromStates(a);e=c.minDate;c=c.maxDate;var g=[];c=Math.ceil((c-e)/i);for(var h=0;h<=c;h++){var k=new(b("DateTime"))(e,j).addDays(h);g.push({datetime:k.getParallel(d),timestamp:k.getUnixTimestampSeconds()})}a.forEach(function(a){var c=v.getSpendCurveFromState(a),d=b("nullthrows")(a.startDate).startOfDay().getUnixTimestampSeconds(),e=b("nullthrows")(a.endDate).startOfDay().getUnixTimestampSeconds();a=b("nullthrows")(b("AdsReachFrequencyEnvironment").isAdsInterfaces()?f:a.plannerVersionID);for(var h=0;h<g.length;h++){var j=g[h].timestamp,k=Math.ceil((j-d)/i);g[h][a]=d>j||e<j&&k<c.length-1||k>=c.length?null:c[k].spend}});return g},getSpendCurveFromState:function(a){if(!a.previous_prediction)return[];var c=b("getByPath")(a,["accountInfo","timezone_id"]),d=b("AdsReachFrequencyStoreUtils").getImpressionCurve(a);d.length===0&&(d=b("getByPath")(a,["previous_prediction","impression_curve"]));if(!d)return[];var e=b("getByPath")(a,["previous_prediction","campaign_time_start"]);e=b("nullthrows")(e?new(b("DateTime"))(e,c):a.startDate);return v.getComputedSpendCurve(b("AdsReachFrequencyMetricUtils").adsReachFrequencyEffectiveMetricValue(a,"budget"),d,e)},getComputedSpendCurve:function(a,c,d){var e=a/Math.max.apply(Math,c);return c.map(function(a,f){var g=f===0?0:c[f-1];a=(a-g)*e;g=f===0||f===c.length-1?t:u;g=b("AdsReachFrequencyUtils").getFormattedDate(d.addDays(f),g);return{datetime:d.addDays(f).getUnixTimestampSeconds(),dayOfMonth:g,spend:a}})},getUnifiedPlacementCurveFromStates:function(a,c,d){__p&&__p();var e=[];Object.keys(l).forEach(function(a){e.push({$meta:{className:".version"},placement:a})});a.forEach(function(a){__p&&__p();var c=b("AdsReachFrequencyStoreUtils").getPlacementBreakdown(a);v.isPlacementDistributionMapEmpty(c)&&(c=b("getByPath")(a,["previous_prediction","placement_breakdown"]));var f=b("nullthrows")(b("AdsReachFrequencyEnvironment").isAdsInterfaces()?d:a.plannerVersionID);a=v.isOnlyRHC(b("nullthrows")(a.placement));if(a||!c)e[l.RHC][f]=1;else for(var a=k.keys(),g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;var j=b("nullthrows")(k.get(i));if(Object.prototype.hasOwnProperty.call(j,"index")&&Object.prototype.hasOwnProperty.call(j,"name")){i=(c[i]||[]).reduce(function(a,b){return a+b},0);e[j.index][f]?e[j.index][f]+=i:e[j.index][f]=i;e[j.index].placement=j.name}}});return e},isPlacementDistributionMapEmpty:function(a){return Object.prototype.hasOwnProperty.call(a,"length")?!1:Object.keys(a).filter(function(b){return a[b].length>0}).length===0},getNonZeroPlannerPlacement:function(a){return a.filter(function(a){var b=!1;Object.keys(a).forEach(function(c){typeof a[c]==="number"&&a[c]>0&&(b=!0)});return b})},getPlacementCurveFromState:function(a){var c=b("getByPath")(a,["previous_prediction","placement_breakdown"])||{},d=a.placement;a=b("AdsReachFrequencyMetricUtils").adsReachFrequencyEffectiveMetricValue(a,"impression");d=v.isOnlyRHC(d);return v.getPlacementCurve(c,a,d)},getPlacementCurve:function(a,c,d){__p&&__p();var e=Object.keys(l),f=e.length;e=e.sort(function(a,b){return l[a]-l[b]});var g=[];for(var h=0;h<f;h++)g.push({position:e[h],impressions:0});if(d)g[l.RHC].impressions=1;else for(var h=k.keys(),e=Array.isArray(h),d=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(d>=h.length)break;i=h[d++]}else{d=h.next();if(d.done)break;i=d.value}i=i;var j=b("nullthrows")(k.get(i));Object.prototype.hasOwnProperty.call(j,"index")&&Object.prototype.hasOwnProperty.call(j,"name")&&(g[j.index].impressions+=(a[i]||[]).reduce(function(a,b){return a+b},0))}for(var j=0;j<f;j++)g[j].impressions*=c;return g},isOnlyRHC:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveFacebookPosition(a,b("AdsAPIFacebookPosition").RHC)&&b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(a,"facebook")},getNonZeroSpendCurveData:function(a){return a.filter(function(a){return!Object.keys(a).some(function(b){return a[b]===null})})},isCurveLoading:function(a){return a.some(function(a){return!a.previous_prediction||a.isPredictionPending})},getUnifiedTvViewCurveDataFromStates:function(a,c,d){var e=[];Object.keys(s).forEach(function(a){e.push({$meta:{className:".version"},tvViewership:s[a].index})});a.forEach(function(a){var c=b("AdsReachFrequencyStoreUtils").getTvViewDistribution(a),f=b("nullthrows")(b("AdsReachFrequencyEnvironment").isAdsInterfaces()?d:a.plannerVersionID);c.forEach(function(a,b){e.length>b&&(e[b][f]=a)})});return e},getVideoBenchmarkCurveFromState:function(a){var c=[],d=b("AdsReachFrequencyVideoBenchmarkUtils").getVideoBenchmarkDistributionByMetric(a,"cpv"),e=b("AdsReachFrequencyMetricUtils").adsReachFrequencyMetricValue(a,"cpv"),f=b("AdsReachFrequencyVideoBenchmarkUtils").getCurrentVideoBenchmarkBucket(a);a=Math.max.apply(Math,Array.from(d.values()).concat([e]));var h=a*g;d.forEach(function(a,b){b=f===b?{bucket:b,budget:e,$meta:{className:"important"}}:{bucket:b,budget:a||h,$meta:{className:a?"":"imaginary"}};c.push(b)});return c},getCumulativeFrequencyCurveAdjustedSelectedFrequencies:function(a,b){if(b<=0)return[];a=a.filter(function(a){return a<=b});return a.length===0?h.slice(0,b):a},shouldHideCurveNotice:function(a,c,d,e){__p&&__p();var f=b("AdsReachFrequencyStoreUtils").getCampaignLength(a),g=b("getByPath")(a,["previous_prediction","target_audience_size"]);g=g>0?b("nullthrows")(a.reachValue)/g:0;var h=Math.max(Math.floor(b("nullthrows")(a.intervalFrequencyCapResetPeriod)*n),p);e=f<=1||e||g<q||a.intervalFrequencyCapResetPeriod===a.frequencyCap||b("nullthrows")(a.intervalFrequencyCapResetPeriod)-h<r;e||(function(){var g=v.getVersionID(a,c),i=0;for(var j=0;j+h<f;j+=a.intervalFrequencyCapResetPeriod){var k=Math.min(j+a.intervalFrequencyCapResetPeriod,f),l=d.slice(j,j+h).reduce(function(a,b){return a+b[g]},0)/h;k=d.slice(j+h,k).reduce(function(a,b){return a+b[g]},0)/(k-j-h);l>=m*k&&i++}e=i<o*(f/b("nullthrows")(a.intervalFrequencyCapResetPeriod))})();return e}};e.exports=v}),null);
__d("AdsPlannerPlacementOverview.react",["cx","AdsPlannerCurveConstants","AdsPlannerStyleUtils","AdsReachFrequencyCurveConstants","AdsReachFrequencyCurveFormatter","AdsReachFrequencyCurveOverlayWrapper.react","AdsReachFrequencyCurveUtils","AdsReachFrequencyGraphUtils","BUIInsightsHoverCardChart.react","BUIInsightsVerticalBarChart.react","CandelaCategoryScale","CandelaConstants","CandelaGroupScaleBuilder","Event","InsightsFormatterFactories","InsightsFormatters","React","ReactDOM","ads-lib-formatters","emptyFunction","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ads-lib-formatters").createIntlPercentFormatter(0),j=b("CandelaConstants").Alignment,k=b("CandelaConstants").ScaleType,l=b("CandelaConstants").ShapeType,m=b("CandelaGroupScaleBuilder").group;b("immutable").OrderedSet;var n=b("CandelaConstants").Orientation,o=function(){return b("emptyFunction").thatReturnsNull};a=babelHelpers.inherits(p,b("React").Component);h=a&&a.prototype;function p(a){h.constructor.call(this,a),this.state={width:b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH}}p.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};p.prototype.componentDidMount=function(){this.setState({width:this.$3()}),this.$2=b("Event").listen(window,"resize",function(a){this.$1&&this.setState({width:this.$3()})}.bind(this))};p.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&this.$2.remove()};p.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this);return a&&a.offsetWidth?parseInt(a.offsetWidth,10):b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH};p.viewLabelFormatter=function(a){return b("AdsReachFrequencyCurveConstants").PLACEMENT_LABEL_MAP.get(a)||""};p.placementCurveAxisFormatterFactory=function(a,c){if(c===n.HORIZONTAL&&a instanceof b("CandelaCategoryScale"))return p.viewLabelFormatter;else return b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)};p.createPercentageSubMarkFormatterFactory=function(a,c){__p&&__p();return function(d,e){return e===n.HORIZONTAL&&d instanceof b("CandelaCategoryScale")?function(b){if(!a)return"";var d=c.filter(function(a){return a.placement===b});if(d.length!==1||!Object.prototype.hasOwnProperty.call(d[0],a))return"";d=d[0][a];return i(Number(d))}:b("emptyFunction").thatReturnsNull}};p.prototype.render=function(){var a={placement:{label:"Placement",type:k.CATEGORY}};this.props.versions.forEach(function(b){a[b.versionID]={label:b,type:k.PERCENTAGE}});var c=b("AdsReachFrequencyGraphUtils").getThemedStyleForVerticalBars(b("AdsPlannerCurveConstants").PLANNER_PLACEMENT_CURVE_STYLES,this.props.currentVersion,this.props.versions),d=o,e=b("AdsReachFrequencyCurveFormatter").percentageBarLabelFormatterFactory(this.props.currentVersion,this.props.versions),f=b("immutable").Set([l.BAR_GROUP]),g=b("AdsPlannerStyleUtils").getAutoColorsForVersions(this.props.versions);g=b("React").createElement(b("BUIInsightsVerticalBarChart.react"),{alignment:j.BOTTOM,autoColors:g,axisMarkFormatterFactory:p.placementCurveAxisFormatterFactory,axisSubMarkFormatterFactory:d,barLabelFormatterFactory:e,data:b("AdsReachFrequencyCurveUtils").getNonZeroPlannerPlacement(this.props.data),height:b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT,plotX:m("placement"),plotY:[m.apply(void 0,this.props.versions.map(function(a){return a.versionID})).from(0).extendInput(0,.25).to(1).roundInput()],schema:a,series:a,styles:c,width:this.state.width});d=this.props.hoverCardChartItems?b("React").createElement(b("BUIInsightsHoverCardChart.react"),{formatterFactory:p.placementHoverCardFormatterFactory,hoverCardPosition:"above",isHoverCardActionable:!1,items:this.props.hoverCardChartItems,targetShapeTypes:f,titleKey:"placement"},g):g;return b("React").createElement("div",{className:"_3k1w"},b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasError,isCurveLoading:this.props.isCurveLoading},d))};p.placementHoverCardFormatterFactory=function(a){return a instanceof b("CandelaCategoryScale")?p.placementCurveAxisFormatterFactory(a,n.HORIZONTAL):function(a){return b("InsightsFormatters").percentageFormatter(Math.round(a*100)/100)}};e.exports=p}),null);
__d("AdsPlannerPaginator.react",["ix","cx","fbt","xuiglyph","Image.react","React","ShimButton.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;k=babelHelpers.inherits(a,b("React").Component);k&&k.prototype;a.prototype.render=function(){var a=this.props.annotationIndexesLength;return a===0?null:b("React").createElement("div",{className:"_37jy"},this.$1(),b("React").createElement("span",{className:"_37jz"},i._("{current tip index} of {total tips}",[i._param("current tip index",this.props.selectedAnnotationIndex+1),i._param("total tips",a)])),this.$2())};a.prototype.$1=function(){var a=this.props.selectedAnnotationIndex===0,c=a?g("88865"):g("88862");return b("React").createElement(b("ShimButton.react"),{className:"_37ju"+(a?"":" _17dy"),onClick:a?b("emptyFunction"):this.props.onLeftClick},b("React").createElement(b("Image.react"),{className:"_37jv",src:c}))};a.prototype.$2=function(){var a=this.props.selectedAnnotationIndex>=this.props.annotationIndexesLength-1,c=a?g("88877"):g("88874");return b("React").createElement(b("ShimButton.react"),{className:"_37jw"+(a?"":" _17dy"),onClick:a?b("emptyFunction"):this.props.onRightClick},b("React").createElement(b("Image.react"),{className:"_37jx",src:c}))};function a(){k.apply(this,arguments)}a.propTypes={annotationIndexesLength:c.number.isRequired,selectedAnnotationIndex:c.number.isRequired,onLeftClick:c.func.isRequired,onRightClick:c.func.isRequired};e.exports=a}),null);
__d("AdsPlannerSpendOverview.react",["cssVar","cx","AdsPlannerCurveConstants","AdsPlannerSpendOverviewTooltip.react","AdsPlannerStoreUtils","AdsPlannerStyleUtils","AdsReachFrequencyCurveConstants","AdsReachFrequencyCurveFormatter","AdsReachFrequencyCurveOverlayWrapper.react","AdsReachFrequencyCurveUtils","BUIInsightsHoverCardChart.react","BUIInsightsLineAreaChart.react","BUIInsightsVerticalBarChart.react","CandelaConstants","CandelaGroupScaleBuilder","Event","React","ReactDOM","getByPath","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsReachFrequencyCurveConstants").MIN_DENSITY_THRESHOLD,k=b("AdsReachFrequencyCurveFormatter").spendCurveAxisFormatterFactory,l=b("AdsReachFrequencyCurveFormatter").spendCurveHoverCardFormatterFactory,m=b("AdsReachFrequencyCurveFormatter").spendCurveOneDayAxisFormatterFactory,n=b("AdsReachFrequencyCurveFormatter").createOneDayBarLabelFormatterFactory,o=b("CandelaConstants").Alignment,p=b("CandelaConstants").ScaleType;b("immutable").OrderedSet;var q=b("CandelaGroupScaleBuilder").group;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={width:b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH}}a.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};a.prototype.componentDidMount=function(){this.setState({width:this.$3()}),this.$2=b("Event").listen(window,"resize",function(a){this.$1&&this.setState({width:this.$3()})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&this.$2.remove()};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this);return a&&a.offsetWidth?parseInt(a.offsetWidth,10):b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH};a.prototype.render=function(){__p&&__p();var a={datetime:{type:p.TIME,timezoneID:this.props.timezoneID}},c=babelHelpers["extends"]({},b("AdsPlannerCurveConstants").PLANNER_SPEND_CURVE_STYLES);this.props.versions.forEach(function(d){a[d.versionID]={className:"version"+d.versionID,label:d,type:p.CURRENCY,renderAs:"line",currencyCode:this.props.currency};var e=b("AdsPlannerStoreUtils").isSpendCurveHiddenForTooltipType(b("getByPath")(d,["tooltip","type"]));if(e)c["line.version"+d.versionID]={stroke:"#FFFFFF"},c["guide>point.version"+d.versionID]={stroke:"#FFFFFF",fill:"#FFFFFF"};else if(this.props.currentVersions===null||(this.props.currentVersions||[]).includes(d.versionID)||this.props.versions.length===1){e=b("AdsPlannerStyleUtils").getTheme(d.versionIndex).chart;c["line.version"+d.versionID]={stroke:e}}else c["line.version"+d.versionID]={stroke:"#dddfe2"}}.bind(this));var d=b("AdsReachFrequencyCurveUtils").getNonZeroSpendCurveData(this.props.data);if(this.props.versions.length===1&&d.length===1){var e=babelHelpers["extends"]({},a,{datetime:{type:p.CATEGORY}}),f=babelHelpers["extends"]({},c,{barGroup:{maxWidth:50}});return b("React").createElement("div",{className:"_3k1w"},b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasError,isCurveLoading:this.props.isCurveLoading},b("React").createElement(b("BUIInsightsVerticalBarChart.react"),{alignment:o.BOTTOM,axisMarkFormatterFactory:m,barLabelFormatterFactory:n,data:d,height:b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT,plotX:q("datetime"),plotY:[q.apply(void 0,this.props.versions.map(function(a){return a.versionID})).roundInput().from(0)],schema:e,series:a,styles:f,width:this.state.width})))}d=b("AdsPlannerStyleUtils").getAutoColorsForVersions(this.props.versions);e=b("React").createElement(b("BUIInsightsLineAreaChart.react"),{autoColors:d,axisMarkFormatterFactory:k,data:this.props.data,height:b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT,minDensityThreshold:j,plotX:q("datetime").extendInput(0,.1),plotY:[q.apply(void 0,this.props.versions.map(function(a){return a.versionID})).from(0).extendInput(0,.25).roundInput()],schema:a,styles:c,width:this.state.width});f=this.props.hoverCardChartItems?b("React").createElement(b("BUIInsightsHoverCardChart.react"),{formatterFactory:l,hoverCardPosition:"right",isHoverCardActionable:!1,items:this.props.hoverCardChartItems,titleKey:"datetime"},e):e;return b("React").createElement("div",{className:"_3k1w"},this.props.shouldShowTooltipsOnly?b("React").createElement("div",{className:"_3-96"}):b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasError,isCurveLoading:this.props.isCurveLoading},f),b("React").createElement(b("AdsPlannerSpendOverviewTooltip.react"),{data:this.props.tooltips,index:this.props.hoveredIndex||0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave}))};e.exports=a}),null);
__d("AdsReachFrequencyTvViewCurve.react",["cx","fbt","AdsPlannerCurveConstants","AdsPlannerGraphTooltipMessage.react","AdsPlannerStyleUtils","AdsReachFrequencyCurveConstants","AdsReachFrequencyCurveFormatter","AdsReachFrequencyCurveOverlayWrapper.react","AdsReachFrequencyFlowClickTvLearnMoreLinkAction","AdsReachFrequencyGraphUtils","BUIInsightsHoverCardChart.react","BUIInsightsVerticalBarChart.react","CandelaCategoryScale","CandelaConstants","CandelaGroupScaleBuilder","Event","InsightsFormatterFactories","InsightsFormatters","React","ReactDOM","SUILink.react","SUIText.react","emptyFunction","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CandelaConstants").Alignment,k=b("CandelaConstants").Orientation,l=b("CandelaConstants").ScaleType,m=b("CandelaConstants").ShapeType,n=b("CandelaGroupScaleBuilder").group;c=b("React").Component;b("immutable").OrderedSet;var o=b("AdsReachFrequencyCurveConstants").TV_VIEW_PARAMS,p=function(){return b("emptyFunction").thatReturnsNull};d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.tvCurveHoverCardFormatterFactory=function(a){return a instanceof b("CandelaCategoryScale")?this.tvCurveAxisFormatterFactory(a,k.HORIZONTAL):function(a){return b("InsightsFormatters").percentageFormatter(Math.round(a*100)/100)}}.bind(this),this.state={width:b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH}}a.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};a.prototype.componentDidMount=function(){this.setState({width:this.$3()}),this.$2=b("Event").listen(window,"resize",function(a){this.$1&&this.setState({width:this.$3()})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&this.$2.remove()};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this);return a&&a.offsetWidth?parseInt(a.offsetWidth,10):b("AdsPlannerCurveConstants").PLANNER_CURVE_MIN_WIDTH};a.prototype.tvCurveAxisFormatterFactory=function(a,c){if(c===k.HORIZONTAL&&a instanceof b("CandelaCategoryScale"))return function(a){var b=Object.keys(o).find(function(b){return o[b].index===a});return b?o[b].label:""};else return b("InsightsFormatterFactories").axisMarkFormatterFactory(a,c)};a.prototype.$4=function(){b("AdsReachFrequencyFlowClickTvLearnMoreLinkAction").dispatch({},{line:"151",module:"AdsReachFrequencyTvViewCurve.react.js"})};a.prototype.render=function(){__p&&__p();if(this.props.curveData.length===0)return null;var a={tvViewership:{label:"TV view",type:l.CATEGORY}};this.props.versions.forEach(function(b){a[b.versionID]={label:b,type:l.PERCENTAGE}});var c=b("AdsReachFrequencyGraphUtils").getThemedStyleForVerticalBars(b("AdsPlannerCurveConstants").PLANNER_TV_VIEW_CURVE_STYLES,this.props.currentVersionID,this.props.versions),d=p,e=b("AdsReachFrequencyCurveFormatter").percentageBarLabelFormatterFactory(this.props.currentVersionID,this.props.versions),f=b("immutable").Set([m.BAR_GROUP]),g=b("AdsPlannerStyleUtils").getAutoColorsForVersions(this.props.versions);g=b("React").createElement(b("BUIInsightsVerticalBarChart.react"),{alignment:j.BOTTOM,autoColors:g,axisMarkFormatterFactory:this.tvCurveAxisFormatterFactory,axisSubMarkFormatterFactory:d,barLabelFormatterFactory:e,data:this.props.curveData,height:b("AdsPlannerCurveConstants").PLANNER_CURVE_HEIGHT,plotX:n("tvViewership"),plotY:[n.apply(void 0,this.props.versions.map(function(a){return a.versionID})).from(0).extendInput(0,.25).to(1).roundInput()],schema:a,series:a,styles:c,width:this.state.width});d=this.props.hoverCardChartItems?b("React").createElement(b("BUIInsightsHoverCardChart.react"),{formatterFactory:this.tvCurveHoverCardFormatterFactory,hoverCardPosition:"above",isHoverCardActionable:!1,items:this.props.hoverCardChartItems,targetShapeTypes:f,titleKey:"tvViewership"},g):g;return b("React").createElement("div",{className:"_3k1w"},b("React").createElement(b("AdsReachFrequencyCurveOverlayWrapper.react"),{hasError:this.props.hasError,isCurveLoading:this.props.isCurveLoading},d),b("React").createElement("div",{className:"_2dfe"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},h._("Facebook uses Nielsen TV viewership data to predict how your target audience fits into their viewing behavior categories. You can target ads to people based on their TV viewership habits."))," ",b("React").createElement("span",{role:"link",tabIndex:0,onClick:this.$4},b("React").createElement(b("SUILink.react"),{href:"https://www.facebook.com/help/1645995282137247",target:"_blank"},h._("Learn more.")))),this.props.shouldShowNotice?b("React").createElement("div",{className:"_12ck"},this.props.isTVDataAvailableForCurrentTargeting?b("React").createElement(b("AdsPlannerGraphTooltipMessage.react"),{icon:null,message:h._("Not all versions of your campaign plan are included in this comparison. Edit any setting in a missing version to update its prediction and include it here.")}):b("React").createElement(b("AdsPlannerGraphTooltipMessage.react"),{icon:null,message:h._("Not all versions of your campaign plan can be compared because Nielsen TV viewership data is only available for people in the United States.")})):null)};e.exports=a}),null);
__d("XAdsPlannerRetrievePackageVideosMetadataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/videos/metadata/",{"package":{type:"Enum",required:!0,enumType:1},is_preview:{type:"Bool",defaultValue:!1}})}),null);
__d("AdsReachFrequencyGetPackageVideosMetadataUtil",["AsyncRequest","XAdsPlannerRetrievePackageVideosMetadataController"],(function(a,b,c,d,e,f){"use strict";a={requestPackageVideosMetadata:function(a,c,d){var e=b("XAdsPlannerRetrievePackageVideosMetadataController").getURIBuilder().setEnum("package",a).getURI();new(b("AsyncRequest"))().setURI(e).setMethod("POST").setHandler(function(b){c(b.payload,a)}).setErrorHandler(function(a){d(a.error)}).send()}};e.exports=a}),null);
__d("AdsParamsToResultCache",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){"use strict";a>0&&b>=a||g(0,1796),this.$1=[],this.$2={},this.$3=b,this.$4=a}a.prototype.get=function(a){"use strict";a=JSON.stringify(a);return a in this.$2?this.$2[a]:void 0};a.prototype.set=function(a,b){"use strict";a=JSON.stringify(a);a in this.$2||this.$1.unshift(a);this.$2[a]=b;if(this.$1.length>this.$3)while(this.$1.length>this.$4)delete this.$2[this.$1.pop()]};e.exports=a}),null);
__d("FBRadioSectionSelector.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={value:this.props.value!==void 0?this.props.value:this.props.children&&this.props.children.length>0?this.props.children[0].props.value:void 0},this.$1=function(a){this.setState({value:a}),this.props.onSelect&&this.props.onSelect(a)}.bind(this),b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.value!==void 0&&this.setState({value:a.value})};a.prototype.render=function(){var a=b("React").Children.map(this.props.children,function(a,c){return!a?null:b("React").cloneElement(a,{horizontal:this.props.horizontal,selected:this.state.value===(a.props.value||c),value:a.props.value||c,onSelect:a.props.onSelect||this.$1})}.bind(this)),c=this.props["data-testid"];return b("React").createElement("div",{className:b("joinClasses")((!this.props.horizontal&&!this.props.useFDSRadioInput?"_4_fk":"")+(this.props.horizontal?" _4_fl":""),this.props.className),"data-testid":c},a)};a.propTypes={"data-testid":c.string,horizontal:c.bool,value:c.any,onSelect:c.func};a.defaultProps={horizontal:!1};e.exports=a}),null);
__d("FBRadioSectionSelectorBaseItem.react",["cx","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){if(this.props.selected||this.props.disabled)return;this.props.onSelect&&this.props.onSelect(this.props.value)}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")((this.props.horizontal?"":"_4ju")+(this.props.horizontal?" _4jv":"")+(!this.props.selected&&!this.props.disabled?" _2brs":"")+(this.props.disabled?" _143h":""),this.props.className),role:"presentation",onClick:this.$1,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)};e.exports=a}),null);
__d("FBRadioSectionSelectorItem.react",["cx","FBRadioSectionSelectorBaseItem.react","React","XUIRadioInput.react","emptyFunction","fdsRadioListItemStyle","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("fdsRadioListItemStyle").fdsRadioListItemStyle;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.className,d=a.useFDSRadioInput;a=babelHelpers.objectWithoutProperties(a,["className","useFDSRadioInput"]);return b("React").createElement(b("FBRadioSectionSelectorBaseItem.react"),babelHelpers["extends"]({className:b("joinClasses")("_28d5"+(this.props.selected?" _28d6":""),c)},a),b("React").createElement("div",{className:"_28d9"},b("React").createElement("div",{className:"_28da"},d?b("React").createElement("input",babelHelpers["extends"]({},i({checked:!!this.props.selected,isFocused:!1,isDisabled:!1,size:"medium"}),{checked:this.props.selected,onChange:b("emptyFunction"),type:"radio"})):b("React").createElement(b("XUIRadioInput.react"),{checked:this.props.selected,onChange:b("emptyFunction")})),this.props.children))};function a(){h.apply(this,arguments)}a.defaultProps={disabled:!1,horizontal:!1,value:null};e.exports=a}),null);
__d("AdsAPIReachFrequencyActivityStatusFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCOUNT_ID:"account_id",CAMPAIGN_ACTIVE:"campaign_active",CAMPAIGN_STARTED:"campaign_started",CREATIVE_UPLOADED:"creative_uploaded",IO_APPROVED:"io_approved",SF_LINK:"sf_link",DELIVERED_BUDGET:"delivered_budget",DELIVERED_IMPRESSION:"delivered_impression",DELIVERED_TOTAL_IMPRESSION:"delivered_total_impression",DELIVERED_REACH:"delivered_reach",DELIVERED_DAILY_IMPRESSION:"delivered_daily_impression",DELIVERED_DAILY_GRP:"delivered_daily_grp"})}),null);
__d("AdsPlannerTRPIOStatusEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DRAFT:"Draft",APPROVED:"Approved"})}),null);
__d("AdsRFWebdriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PLANNER_CREATE_FIRST_PLAN_BUTTON:"planner-create-first-plan-button",PLANNER_DELETE_PLAN_BUTTON:"planner-delete-plan-button",PLANNER_SPINNER:"planner-spinner",PLANNER_LOGOUT_VIEW_PLAN_NAME:"planner-logout-view-plan-name",PLANNER_PLAN_SETTINGS_BUTTON:"planner-plan-settings-button",PLANNER_VERSION_TABLE_EDITOR:"planner-version-table-editor",PLANNER_VERSION_TABLE_ROW:"planner-version-table-row",RF_RIGHT_COLUMN_GRAPHS_CONTAINER:"rf-right-column-graphs-container",RF_REACH_GRAPH_LOADING_SPINNER:"rf-reach-graph-loading-spinner",RF_RECEIPT_BUDGET_ROW:"rf-receipt-budget-row",RF_RIGHT_COLUMN_CUMULATIVE_FREQUENCY_ROW:"rf-column-cumulative-frequency-row",RF_RIGHT_COLUMN_FREQUENCY_ROW:"rf-column-frequency-row",RF_RIGHT_COLUMN_FREQUENCY_GRAPH:"rf-column-frequency-graph",RF_RIGHT_COLUMN_SPEND_ROW:"rf-column-spend-row",RF_RIGHT_COLUMN_SPEND_GRAPH:"rf-column-spend-graph",RF_RIGHT_COLUMN_TV_ROW:"rf_column-tv-row",RF_RIGHT_COLUMN_TV_GRAPH:"rf_column-tv-graph",RF_RIGHT_COLUMN_PLACEMENT_ROW:"rf-column-placement-row",RF_RIGHT_COLUMN_VIDEO_BENCHMARK_ROW:"rf-column-video-benchmark-row",RF_RIGHT_COLUMN_VIDEO_BENCHMARK_GRAPH:"rf-column-video-benchmark-graph",RF_CUMULATIVE_FREQUENCY_ROW_LABEL:"rf-cumulative-frequency-row-label",RF_CUMULATIVE_FREQUENCY_GRAPH:"rf-cumulative-frequency-graph",RF_FREQUENCY_ROW_LABEL:"rf-frequency-row-label",RF_FREQUENCY_GRAPH:"rf-frequency-graph",RF_SPEND_ROW_LABEL:"rf-spend-row-label",RF_SPEND_GRAPH:"rf-spend-graph",RF_PLACEMENT_ROW_LABEL:"rf-placement-row-label",RF_PLACEMENT_GRAPH:"rf-placement-graph",RF_VIDEO_BENCHMARK_ROW_LABEL:"rf-video-benchmark-row-label",RF_VIDEO_BENCHMARK_GRAPH:"rf-video-benchmark-graph",RF_TV_ROW_LABEL:"rf-tv-row-label",RF_TV_GRAPH:"rf-tv-graph",RF_PE_RESERVE_UPLOAD_BUTTON:"rf-pe-reserve-upload-button",RF_PE_RESERVE_DIALOG:"rf-pe-reserve-dialog",RF_PE_DIALOG_RESERVE_BUTTON:"rf-pe-dialog-reserve-button",RF_PE_DIALOG_RESERVE_CONFIRMATION:"rf-pe-dialog-reserve-confirmation"})}),null);
__d("XAdsPlannerGRPPurchaseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/grp/ajax/purchase/",{bonus_flags:{type:"IntVector"},business_id:{type:"Int"},campaign_names:{type:"StringVector"},account_id:{type:"FBID",required:!0},plan_id:{type:"FBID",required:!0},prediction_ids:{type:"IntVector",required:!0},trace_id:{type:"String"}})}),null);
__d("XAdsPlannerPlanDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner_download/",{plan_id:{type:"FBID",required:!0}})}),null);
__d("XAdsRFPlannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/",{account_id:{type:"String"},business_id:{type:"String"},import_prediction_id:{type:"String"},version_id:{type:"String"},create_plan:{type:"Bool",defaultValue:!1},debug:{type:"Bool",defaultValue:!1},request_submitted:{type:"Bool",defaultValue:!1},saved_plan_id:{type:"String"},show_splash:{type:"Bool",defaultValue:!1},import_spec:{type:"String"}})}),null);
__d("XPlannerRememberBusinessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/planner/remember_business/",{})}),null);