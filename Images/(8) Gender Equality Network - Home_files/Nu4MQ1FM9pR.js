if (self.CavalryLogger) { CavalryLogger.start_js(["sjdjX"]); }

__d("AdsLWINewMediaEditorStrings",["fbt","invariant","AdsUIMediaFormat","BoostedComponentConstants"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsUIMediaFormat").CAROUSEL,j=b("AdsUIMediaFormat").DCO_IMAGE,k=b("AdsUIMediaFormat").SINGLE_IMAGE,l=b("AdsUIMediaFormat").SINGLE_VIDEO,m=b("AdsUIMediaFormat").SLIDESHOW,n=b("BoostedComponentConstants").MAX_NUM_OF_DCO_CREATIVES;a={BROWSE_LIBRARY_BUTTON_TEXT:g._("Browse Library"),BROWSE_IMAGE_LIBRARY_BUTTON_TOOLTIP:g._("Select an image from your image library"),FREE_STOCK_IMAGE_BUTTON_NUX_BODY:g._("Use free stock photos in your ads."),FREE_STOCK_IMAGE_BUTTON_NUX_TITLE:g._("New Feature!"),FREE_STOCK_IMAGE_BUTTON_TEXT:g._("Free Stock Images"),MEDIA_FORMAT_SELECTOR_SECTION_TITLE:g._("Format"),MEDIA_FORMAT_SELECTOR_SECTION_DESCRIPTION:g._("Choose the type of image or video format you'd like to use in this ad."),MEDIA_FORMAT_SELECTOR_SECTION_DESCRIPTION_AD_VERSION:g._("Choose the type of image or video format you'd like to use in this version."),THUMBNAIL_SECTION_TITLE:g._("Thumbnail"),UPLOAD_VIDEO_BUTTON_TEXT:g._("Upload Video"),getStringNameForMediaFormat:function(a){switch(a){case i:return g._("Carousel");case j:return g._("Image");case k:return g._("Single Image");case l:return g._("Video");case m:return g._("Slideshow");default:h(0,1699)}},getDescriptionForMediaFormat:function(a){switch(a){case i:return g._("Show multiple images that viewers can scroll through");case j:return g._("Upload or select up to {max number of ads} images",[g._param("max number of ads",n)]);case k:return g._("Upload an image or choose one from your page");case l:return g._("Upload a video or choose one from your page");case m:return g._("Create a video with up to 10 images");default:h(0,1699)}}};e.exports=a}),null);
__d("AdsLWIUpdateSelectedMediaFormatAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_LWI.UPDATE_SELECTED_MEDIA_FORMAT");e.exports=a}),null);
__d("AdsLWIMediaFormatDropdownMenu.react",["AdsLWINewMediaEditorConstants","AdsLWINewMediaEditorStrings","AdsLWIUpdateSelectedMediaFormatAction","AdsUIMediaFormat","BoostedComponentCreativeActionsV2","BoostedComponentCreativeCategory","BoostedComponentLabeledEditor.react","ContextualLayerHideOnScroll","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","React","curry","immutable","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWINewMediaEditorConstants").IMAGE_FORMATS,h=b("AdsLWINewMediaEditorConstants").VIDEO_FORMATS,i=b("BoostedComponentCreativeActionsV2").onToggleCreativeCategoryLink;function j(a,c,d){(a===b("AdsUIMediaFormat").SINGLE_VIDEO&&d===b("AdsUIMediaFormat").SLIDESHOW||a===b("AdsUIMediaFormat").SLIDESHOW&&d===b("AdsUIMediaFormat").SINGLE_VIDEO)&&c(),h.contains(a)&&g.contains(d)?i(b("BoostedComponentCreativeCategory").IMAGE):g.contains(a)&&h.contains(d)&&i(b("BoostedComponentCreativeCategory").VIDEO),b("AdsLWIUpdateSelectedMediaFormatAction").dispatch({selectedMediaFormat:a,newMediaFormat:d},{line:"73",module:"AdsLWIMediaFormatDropdownMenu.react.js"})}function a(a){return a.supportedMediaFormats.size===1?null:b("React").createElement(b("BoostedComponentLabeledEditor.react"),{label:b("AdsLWINewMediaEditorStrings").MEDIA_FORMAT_SELECTOR_SECTION_TITLE},b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-96",size:"body3"},a.useNewContentForAds?b("AdsLWINewMediaEditorStrings").MEDIA_FORMAT_SELECTOR_SECTION_DESCRIPTION_AD_VERSION:b("AdsLWINewMediaEditorStrings").MEDIA_FORMAT_SELECTOR_SECTION_DESCRIPTION),b("React").createElement(b("FDSDropdownSelector.react"),{buttonSize:"large",contextualLayerBehaviors:{ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll")},margin:"_3-96",value:a.selectedMediaFormat,onChange:b("curry")(j,a.selectedMediaFormat,a.onClearVideoCreative)},a.supportedMediaFormats.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{description:b("AdsLWINewMediaEditorStrings").getDescriptionForMediaFormat(a),key:a,value:a},b("AdsLWINewMediaEditorStrings").getStringNameForMediaFormat(a))}).toArray()))}e.exports=a}),null);
__d("BoostedComponentImageSelectorV2Container.react",["AdImageSpecsUtils","AdsFluxContainer","AdsImageSelectorV2ConfigUtils","AdsImageSelectorV2ModalContainer.react","AdsInstagramIdentityUtils","AdsPageInstagramAccountStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(a){return[b("AdsPageInstagramAccountStore")]};a.calculateState=function(a,c){a=c.pageID;c=null;if(a!=null){var d=b("AdsPageInstagramAccountStore").get(a);d=b("AdsInstagramIdentityUtils").getEligibleInstagramAccount(!1,d);d&&(c=d.id)}return{pageID:a,instagramAccountID:c}};a.prototype.render=function(){var a=b("AdImageSpecsUtils").reduceAndMergeImageSpec(this.props.imageSpecs);a=b("immutable").List([b("AdsImageSelectorV2ConfigUtils").getAccountImageConfig(this.props.accountID,a,!0),b("AdsImageSelectorV2ConfigUtils").getStockImageConfig(this.props.defaultStockSearchText),b("AdsImageSelectorV2ConfigUtils").getPageImageConfig(this.state.pageID,a,!0),b("AdsImageSelectorV2ConfigUtils").getUploadImageConfig(this.props.accountID,a.first()),b("AdsImageSelectorV2ConfigUtils").getInstagramImageConfig(this.state.instagramAccountID,a,!0)]);a=a.filter(function(a){return this.props.sourceTypeList.includes(a.type)}.bind(this));return b("React").createElement(b("AdsImageSelectorV2ModalContainer.react"),{initialSource:this.props.initialSource,isShown:this.props.isShown,maxSelectedImageIDs:this.props.maxSelectedImageIDs,selectedImageIDs:this.props.selectedImageIDs,sources:a,onConfirmLegacy:this.props.onConfirmLegacy,onHide:this.props.onHide})};function a(){g.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("BoostedComponentImageLibrarySelector.react",["AdsImageIDUtils","AdsImageSelectorV2Types","AdsLWICancelImageSelectionAction","AdsLWINewMediaEditorStrings","BoostedComponentImageSelectorV2Container.react","React","ShimButton.react","Tooltip.react","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsImageSelectorV2Types").AdsImageSource,i=b("AdsImageSelectorV2Types").ALL_SOURCE_TYPE_LIST;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={showDialog:this.props.showDialog===!0},this.$1=function(event){event.preventDefault(),this.setState({showDialog:!0}),this.props.onDialogShown()}.bind(this),this.$4=function(a){this.props.onImagesSelected(a.toArray()),this.setState({showDialog:!1})}.bind(this),this.$5=function(){this.setState({showDialog:!1}),b("AdsLWICancelImageSelectionAction").dispatch({},{line:"180",module:"BoostedComponentImageLibrarySelector.react.js"}),this.props.onImageSelectionCancelled&&this.props.onImageSelectionCancelled()}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.showDialog!==this.props.showDialog&&this.setState({showDialog:a.showDialog===!0})};a.prototype.render=function(){var a=b("React").createElement(b("ShimButton.react"),{onClick:this.props.disabled?null:this.$1},this.props.clickableTrigger);return this.props.tooltipText==null?b("React").createElement("div",null,a,this.$2()):b("React").createElement(b("Tooltip.react"),{alignH:"left",className:this.props.className,position:"above",tooltip:this.props.tooltipText},a,this.$2())};a.prototype.$2=function(){var a=this.props.enableStock;if(!this.state.showDialog)return null;var c,d=h.ACCOUNT_IMAGE,e=i;a?(c=this.props.defaultStockSearchText,this.props.buttonLabel===b("AdsLWINewMediaEditorStrings").FREE_STOCK_IMAGE_BUTTON_TEXT&&(d=h.STOCK_IMAGE)):e=e.remove(h.STOCK_IMAGE);return b("React").createElement(b("BoostedComponentImageSelectorV2Container.react"),{accountID:this.props.accountID,defaultStockSearchText:c,imageSpecs:this.props.imageSpecs||[],initialSource:d,isShown:this.state.showDialog,maxSelectedImageIDs:this.props.maxSelectedImages,pageID:this.props.pageID,selectedImageIDs:this.$3(),sourceTypeList:e,onConfirmLegacy:this.$4,onHide:this.$5})};a.prototype.$3=function(){var a=null;this.props.imageHash!=null?a={hash:this.props.imageHash}:this.props.image&&this.props.image.isStockImage()?a={stockImageID:b("nullthrows")(this.props.image.getStockImageID())}:this.props.imageUrl!=null&&(a={url:this.props.imageUrl});a=a?[a]:[];return b("AdsImageIDUtils").getImageIDsFromImageInfoArray(this.props.accountID,a)};a.defaultProps={disabled:!1,enableStock:!1,hasAddedNewAd:!1,imageSpecs:[],maxSelectedImages:1,onDialogShown:b("emptyFunction")};e.exports=a}),null);
__d("adsLWIHasAddedNewAdSelector",["adsCreateSelector","adsLWICreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWICreativeStoreDataSelector")],function(a){return!!a&&a.hasAddedNewAd},{name:e.id+".adsLWIHasAddedNewAdSelector"});e.exports=a}),null);
__d("adsLWIIsImageSelectorDialogShownSelector",["adsCreateSelector","adsLWICreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWICreativeStoreDataSelector")],function(a){return!!a&&a.imageSelectorDialogShown},{name:e.id+".adsLWIIsImageSelectorDialogShownSelector"});e.exports=a}),null);
__d("adsLWIStockImageDefaultSearchTextSelector",["AdsPageStore","adsCreateSelector","adsCreateStoreThunkSelector","adsLWICurrentInstanceDataSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsCreateStoreThunkSelector")(b("AdsPageStore"),function(a){return b("AdsPageStore").get(a)})],function(a,c){c=c(b("nullthrows")(a).pageID);return c&&c.category||""},{name:e.id+".adsLWIStockImageDefaultSearchTextSelector"});e.exports=a}),null);
__d("AdsLWIBrowseLibraryImageSelectorContainer.react",["invariant","AdsSelectorUtils","BoostedComponentCreativeActionsV2","BoostedComponentImageCreativeUtils","BoostedComponentImageLibrarySelector.react","BoostedComponentSectionV2Spinner.react","FDSButton.react","FluxContainer","React","adsLWICurrentImageDataSelector","adsLWICurrentInstanceDataSelector","adsLWIHasAddedNewAdSelector","adsLWIImageSpecsSelector","adsLWIImagesSelector","adsLWIIsImageSelectorDialogShownSelector","adsLWISelectedAccountIDSelector","adsLWISelectedAdgroupSelectors","adsLWIStockImageDefaultSearchTextSelector","curry","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("BoostedComponentCreativeActionsV2").onImageDialogShown,j=b("BoostedComponentCreativeActionsV2").updateImage,k=b("BoostedComponentImageCreativeUtils").getImageTypeForLogging,l=b("adsLWIImagesSelector").adsLWIAdgroupImageSelector,m=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(){return b("AdsSelectorUtils").getStores([b("adsLWICurrentImageDataSelector"),b("adsLWIIsImageSelectorDialogShownSelector"),b("adsLWIHasAddedNewAdSelector"),b("adsLWISelectedAccountIDSelector"),m,b("adsLWIStockImageDefaultSearchTextSelector"),b("adsLWIImageSpecsSelector")])};a.calculateState=function(){var a=m();return{accountID:b("adsLWISelectedAccountIDSelector")(),adgroupSpecLoadObject:a,defaultStockSearchText:b("adsLWIStockImageDefaultSearchTextSelector")(),hasAddedNewAd:b("adsLWIHasAddedNewAdSelector")(),image:l(a.getValueEnforcing()),imageData:b("adsLWICurrentImageDataSelector")(),instanceData:b("adsLWICurrentInstanceDataSelector")(),showDialog:b("adsLWIIsImageSelectorDialogShownSelector")(),imageSpecs:b("adsLWIImageSpecsSelector")()}};a.prototype.$1=function(){return b("React").createElement(b("FDSButton.react"),{label:this.props.buttonLabel,size:"large"})};a.prototype.$2=function(a,b,c,d){i(c,a,d,b)};a.prototype.$3=function(a,b,c,d,e){e.length!==0||g(0,4926);e=e[0];j(e,k(e),b,d,c,a)};a.prototype.render=function(){var a=this.state,c=a.accountID,d=a.adgroupSpecLoadObject,e=a.defaultStockSearchText,f=a.hasAddedNewAd,g=a.image,h=a.imageData,i=a.instanceData,j=a.showDialog;a=a.imageSpecs;if(d.isLoading()||!d.hasValue())return b("React").createElement(b("BoostedComponentSectionV2Spinner.react"),{height:100});d=b("nullthrows")(i);i=d.appID;var k=d.boostID,l=d.pageID;d=d.targetID;return b("React").createElement(b("BoostedComponentImageLibrarySelector.react"),{accountID:c,buttonLabel:this.props.buttonLabel,clickableTrigger:this.$1(),defaultStockSearchText:e,enableStock:!0,hasAddedNewAd:f,image:g,imageHash:h&&h.imageHash,imageSpecs:a,imageUrl:h&&h.imageURL,pageID:l,showDialog:j,onDialogShown:b("curry")(this.$2,i,k,l,d),onImagesSelected:b("curry")(this.$3,c,i,k,d)})};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AdsIndexedTabBar.react",["cx","React","TabBar.react","TabBarItem.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onItemSelected(+a)}.bind(this),b}a.prototype.render=function(){var a=[];for(var c=0;c<this.props.numItems;c++){var d=c+1,e="_53th"+(c>0?" _53tj":"")+(c===this.props.selectedItem?" _53tk":"")+(d!==c+1?" _x5b":"")+(this.props.size==="small"?" _r9g":"");a.push(b("React").createElement(b("TabBarItem.react"),{key:c},b("React").createElement("div",{className:e},d),b("React").createElement("div",{className:"_1_d-"}),b("React").createElement("div",{className:"_1_d_"})))}return b("React").createElement(b("TabBar.react"),{className:"_53tn",shouldCalculateVisibleTabs:this.props.shouldCalculateVisibleTabs,onTabClick:this.$1},a)};a.propTypes={numItems:c.number.isRequired,onItemSelected:c.func.isRequired,selectedItem:c.number.isRequired,shouldCalculateVisibleTabs:c.bool.isRequired,size:c.oneOf(["small","normal"])};a.defaultProps={shouldCalculateVisibleTabs:!0};e.exports=a}),null);
__d("BoostedComponentBetterProductNotice.react",["cx","AdsLWIDialogButtonWrapperContainer.react","AdsLWIProductUtils","BoostedComponentBetterProductCheckerUtils","BoostedComponentRef","BoostedComponentStrings","React","XUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsLWIProductUtils").convertAppIDToProduct,j=b("BoostedComponentBetterProductCheckerUtils").checkURI,k=b("BoostedComponentStrings").getBoostedWebsiteBetterProductString;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={suggestedProduct:null},b}a.prototype.componentDidMount=function(){var a=this.props,b=a.pageID,c=a.enteredURI;a=a.pageURI;c!=null&&this.$1(b,c,a)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=a.enteredURI;if(b!=null&&b!==this.props.enteredURI){var c=a.pageID;a=a.pageURI;this.$1(c,b,a)}};a.prototype.$1=function(a,b,c){a=j(a,b,c);a?this.setState({suggestedProduct:a.suggestedProduct}):this.setState({suggestedProduct:null})};a.prototype.render=function(){var a=this.state.suggestedProduct;return a!=null?b("React").createElement(b("XUINotice.react"),{className:this.props.className,size:"small"},k(a),b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("AdsLWIDialogButtonWrapperContainer.react"),{entryPoint:b("BoostedComponentRef").WWW_CCTA_BETTER_PRODUCT_DIALOG,inline:!0,pageID:this.props.pageID,permanentCreateMode:!0,product:i(a),targetID:null}))):null};e.exports=a}),null);
__d("BoostedComponentCreativeEditingElement",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATIVE_LINK_DATA_URL:"creative_link_data_url",CREATIVE_LINK_DATA_HEADLINE:"creative_link_data_headline",CREATIVE_LINK_DATA_OFFER:"creative_link_data_offer",CREATIVE_LINK_DATA_OFFER_EXPIRY:"creative_link_data_offer_expiry",CREATIVE_LINK_DATA_TEXT:"creative_link_data_text",CREATIVE_BODY:"creative_body",CREATIVE_LINK_DATA:"creative_link_data",CREATIVE_MULTI_PRODUCTS:"creative_multi_products",CREATIVE_IMAGE_SELECTOR:"creative_image_selector",CREATIVE_CTA:"creative_cta",CREATIVE_MAP_CARD:"creative_map_card",CREATIVE_TEMPLATE_DATA:"creative_template_data",CREATIVE_AUTOMATED_ADS_MULTI_EDITOR:"creative_automated_ads_multi_editor"})}),null);
__d("BoostedComponentCreativeEditingConfig",["BoostedComponentCreativeEditingElement"],(function(a,b,c,d,e,f){"use strict";a={BOOSTED_APP_INSTALL:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE],BOOSTED_AUTOMATED_ADS_LINK_CLICKS:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL,b("BoostedComponentCreativeEditingElement").CREATIVE_AUTOMATED_ADS_MULTI_EDITOR],BOOSTED_AUTOMATED_ADS_LOCAL_AWARENESS:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_AUTOMATED_ADS_MULTI_EDITOR],BOOSTED_CCTA:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_IMAGE_SELECTOR,b("BoostedComponentCreativeEditingElement").CREATIVE_CTA],BOOSTED_DYNAMIC_PRODUCTS:[b("BoostedComponentCreativeEditingElement").CREATIVE_TEMPLATE_DATA],BOOSTED_EVENT:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_IMAGE_SELECTOR],BOOSTED_GROUP:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT],BOOSTED_LOCAL_AWARENESS:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_OFFER,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_OFFER_EXPIRY,b("BoostedComponentCreativeEditingElement").CREATIVE_IMAGE_SELECTOR,b("BoostedComponentCreativeEditingElement").CREATIVE_MAP_CARD,b("BoostedComponentCreativeEditingElement").CREATIVE_CTA],BOOSTED_LOCAL_AWARENESS_CAROUSEL:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_MULTI_PRODUCTS,b("BoostedComponentCreativeEditingElement").CREATIVE_CTA],BOOSTED_LOCAL_AWARENESS_MPA_VIEW:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE],BOOSTED_PAGE:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_IMAGE_SELECTOR,b("BoostedComponentCreativeEditingElement").CREATIVE_CTA],BOOSTED_PAGELIKE:[b("BoostedComponentCreativeEditingElement").CREATIVE_BODY,b("BoostedComponentCreativeEditingElement").CREATIVE_IMAGE_SELECTOR],BOOSTED_POST:[b("BoostedComponentCreativeEditingElement").CREATIVE_CTA],BOOSTED_REAL_ESTATE_LISTING:[b("BoostedComponentCreativeEditingElement").CREATIVE_CTA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,b("BoostedComponentCreativeEditingElement").CREATIVE_MULTI_PRODUCTS],BOOSTED_WEBSITE:[b("BoostedComponentCreativeEditingElement").CREATIVE_CTA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,b("BoostedComponentCreativeEditingElement").CREATIVE_MULTI_PRODUCTS],BOOSTED_WEBSITE_MPA_VIEW:[b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE]};e.exports=a}),null);
__d("BoostedComponentHeadlineStyles",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DEFAULT:null,OFFER:null});e.exports=a}),null);
__d("BoostedComponentCreativeLinkDataEditor.react",["cx","fbt","AdsAPIObjectives","AdsTextInput.react","AdsValidationConfig","AdsValidationConsts","BoostedComponentAppID","BoostedComponentBetterProductNotice.react","BoostedComponentConstants","BoostedComponentContent.react","BoostedComponentCreativeEditingConfig","BoostedComponentCreativeEditingElement","BoostedComponentHeadlineStyles","BoostedComponentLabeledEditor.react","BoostedComponentStrings","BoostedComponentTestElement","OfferComposerConstants.react","React","TooltipLink.react","getObjectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=h._("This is the link people will be taken to when they click your ad.");i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.getFieldBadTextRules=function(){return{BAD_CHAR:/[\^~_=\{\}\[\]\|<>]/g,PUNC_STREAK:/[\/!.\\?\-*,;:()]{2,}/g,START_CHAR:/^[\/!\.\\?\-\*,:;()]/}};a.prototype.$1=function(a,c,d,e){__p&&__p();switch(a){case b("BoostedComponentAppID").BOOSTED_APP_INSTALL:return b("BoostedComponentCreativeEditingConfig").BOOSTED_APP_INSTALL;case b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS:return e===b("AdsAPIObjectives").LINK_CLICKS||e===b("AdsAPIObjectives").WEBSITE_CONVERSIONS?b("BoostedComponentCreativeEditingConfig").BOOSTED_AUTOMATED_ADS_LINK_CLICKS:b("BoostedComponentCreativeEditingConfig").BOOSTED_AUTOMATED_ADS_LOCAL_AWARENESS;case b("BoostedComponentAppID").BOOSTED_CCTA:return b("BoostedComponentCreativeEditingConfig").BOOSTED_CCTA;case b("BoostedComponentAppID").BOOSTED_DYNAMIC_PRODUCTS:return b("BoostedComponentCreativeEditingConfig").BOOSTED_DYNAMIC_PRODUCTS;case b("BoostedComponentAppID").BOOSTED_EVENT:return b("BoostedComponentCreativeEditingConfig").BOOSTED_EVENT;case b("BoostedComponentAppID").BOOSTED_GROUP:return b("BoostedComponentCreativeEditingConfig").BOOSTED_GROUP;case b("BoostedComponentAppID").BOOSTED_LOCAL_AWARENESS:if(c)return d===!0?b("BoostedComponentCreativeEditingConfig").BOOSTED_LOCAL_AWARENESS_MPA_VIEW:b("BoostedComponentCreativeEditingConfig").BOOSTED_LOCAL_AWARENESS_CAROUSEL;else return b("BoostedComponentCreativeEditingConfig").BOOSTED_LOCAL_AWARENESS;case b("BoostedComponentAppID").BOOSTED_PAGE:return b("BoostedComponentCreativeEditingConfig").BOOSTED_PAGE;case b("BoostedComponentAppID").BOOSTED_PAGELIKE:return b("BoostedComponentCreativeEditingConfig").BOOSTED_PAGELIKE;case b("BoostedComponentAppID").BOOSTED_POST:return b("BoostedComponentCreativeEditingConfig").BOOSTED_POST;case b("BoostedComponentAppID").BOOSTED_REAL_ESTATE_LISTING:return b("BoostedComponentCreativeEditingConfig").BOOSTED_REAL_ESTATE_LISTING;case b("BoostedComponentAppID").BOOSTED_WEBSITE:return d===!0?b("BoostedComponentCreativeEditingConfig").BOOSTED_WEBSITE_MPA_VIEW:b("BoostedComponentCreativeEditingConfig").BOOSTED_WEBSITE}return null};a.prototype.$2=function(a,b,c,d,e){a=this.$1(a,c,d,e);return!a?!1:a.indexOf(b)>-1};a.prototype.$3=function(){if(!this.$2(this.props.appID,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL,this.props.supportCarouselInLA,this.props.useMultiAdsView,this.props.objective))return null;if(this.props.shouldEdit)return b("React").createElement(b("BoostedComponentLabeledEditor.react"),{key:b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL,label:b("BoostedComponentStrings").CREATIVE_LINK_DATA_URL_LABEL,tooltip:this.props.isAdGalleryEnabled?j:b("BoostedComponentStrings").CREATIVE_LINK_DATA_URL_TOOLTIP},b("React").createElement(b("TooltipLink.react"),{tooltip:this.props.url},this.props.url),this.props.fieldActionURL);var a=b("React").createElement(b("BoostedComponentBetterProductNotice.react"),{appID:this.props.appID,className:"_3-8x",enteredURI:this.props.url,pageID:this.props.pageID,pageURI:this.props.pageURI,onButtonClick:this.props.onBetterProductNoticeButtonClick});return b("React").createElement(b("React").Fragment,{key:b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL},b("React").createElement(b("BoostedComponentLabeledEditor.react"),{label:b("BoostedComponentStrings").CREATIVE_LINK_DATA_URL_LABEL,tooltip:this.props.isAdGalleryEnabled?j:b("BoostedComponentStrings").CREATIVE_LINK_DATA_URL_TOOLTIP},b("React").createElement(b("AdsTextInput.react"),{badTextRules:null,"data-testid":b("BoostedComponentTestElement").CREATIVE_URL_INPUT,errors:this.props.onValidateLink&&this.props.onValidateLink(this.props.url),hideMaxLength:!0,maxLength:b("AdsValidationConsts").maxURLLength,multiline:!1,placeholder:b("BoostedComponentStrings").CREATIVE_LINK_DATA_URL_PLACEHOLDER,value:this.props.url,onChange:this.props.onLinkDataURLChange}),a),this.props.fieldDescriptionForURL)};a.prototype.$4=function(){return!this.$2(this.props.appID,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,this.props.supportCarouselInLA,this.props.useMultiAdsView,this.props.objective)?null:b("React").createElement("div",{key:b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE},b("React").createElement(b("BoostedComponentLabeledEditor.react"),{counterLimit:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER?b("OfferComposerConstants.react").MAX_LENGTH_TITLE:b("BoostedComponentConstants").HEADLINE_EDITOR_TEXT_LIMIT,label:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER?b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_OFFER_LABEL:b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_LABEL,showCounter:!0,tooltip:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER?b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_OFFER_TOOLTIP:b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_TOOLTIP},b("React").createElement(b("AdsTextInput.react"),{badTextRules:b("getObjectValues")(this.getFieldBadTextRules()),"data-testid":b("BoostedComponentTestElement").CREATIVE_HEADLINE_INPUT,enforceMaxLength:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER,hideMaxLength:!0,maxLength:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER?b("OfferComposerConstants.react").MAX_LENGTH_TITLE:b("AdsValidationConfig").maxTitleLength,multiline:!1,placeholder:this.props.headlineStyle===b("BoostedComponentHeadlineStyles").OFFER?b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_OFFER_PLACEHOLDER:b("BoostedComponentStrings").CREATIVE_LINK_DATA_HEADLINE_PLACEHOLDER,value:this.props.headline,onChange:this.props.onLinkDataHeadlineChange})),this.props.fieldActionHeadline)};a.prototype.$5=function(){__p&&__p();if(!this.$2(this.props.appID,b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,this.props.supportCarouselInLA,this.props.useMultiAdsView,this.props.objective))return null;var a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP;if(this.props.appID===b("BoostedComponentAppID").BOOSTED_LOCAL_AWARENESS)a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP_LA;else if(this.props.appID===b("BoostedComponentAppID").BOOSTED_EVENT)a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP_EVENT;else if(this.props.appID===b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS)switch(this.props.objective){case b("AdsAPIObjectives").LINK_CLICKS:a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP;break;case b("AdsAPIObjectives").REACH:case b("AdsAPIObjectives").LOCAL_AWARENESS:a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP_LA;break}else this.props.appID===b("BoostedComponentAppID").BOOSTED_GROUP&&(a=b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_TOOLTIP_GROUP);return b("React").createElement("div",{key:b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT},b("React").createElement(b("BoostedComponentLabeledEditor.react"),{counterLimit:b("BoostedComponentConstants").BODY_EDITOR_TEXT_LIMIT,label:b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_LABEL,tooltip:a},b("React").createElement(b("AdsTextInput.react"),{badTextRules:b("getObjectValues")(this.getFieldBadTextRules()),"data-testid":b("BoostedComponentTestElement").CREATIVE_TEXT_INPUT,hideMaxLength:!0,multiline:!0,placeholder:b("BoostedComponentStrings").CREATIVE_LINK_DATA_TEXT_PLACEHOLDER,value:this.props.text,onChange:this.props.onLinkDataTextChange})),this.props.fieldActionText)};a.prototype.reorderCreativeElements=function(a,b,c,d,e){a=this.$1(a,c,d,e);if(!a)return[];var f=[];a.forEach(function(a){b.has(a)&&f.push(b.get(a))});return f};a.prototype.render=function(){var a=new Map();a.set(b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_URL,this.$3());a.set(b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_HEADLINE,this.$4());a.set(b("BoostedComponentCreativeEditingElement").CREATIVE_LINK_DATA_TEXT,this.$5());a=this.reorderCreativeElements(this.props.appID,a,this.props.supportCarouselInLA,this.props.useMultiAdsView,this.props.objective);return b("React").createElement(b("BoostedComponentContent.react"),null,a)};function a(){i.apply(this,arguments)}a.defaultProps={fieldDescriptionForURL:null,headlineStyle:b("BoostedComponentHeadlineStyles").DEFAULT,isAdGalleryEnabled:!1,useMultiAdsView:!1,shouldEdit:!1};e.exports=a}),null);
__d("AdsCFCreativeImagePanelAction.react",["cx","BUIAdoptionUtils","FDSButton.react","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.label,c=this.props.disabled,d=c?null:this.props.onClick,e=this.props.fileInputNodeID,f=b("joinClasses")(this.props.className,"_5y_t"+(c?" _5y_u":"")),g="tooltip",h;e&&(h=b("React").createElement("span",{className:"_5y_v","data-hover":g,label:a,labelIsHidden:!0,role:"presentation",onClick:d}),d=null);if(this.props.hide)return b("React").createElement("label",{className:f,htmlFor:c?"":e},h,this.props.children);return this.props.actionStyle==="link"?b("React").createElement(b("Link.react"),{onClick:d},h,this.props.children,a):b("React").createElement("label",{className:f,htmlFor:c?"":e},h,this.props.children,b("React").createElement(b("FDSButton.react"),{"data-testid":this.props["data-testid"],icon:this.props.buttonIcon,isDisabled:c,label:a,size:b("BUIAdoptionUtils").convertSizeToFDSSize(this.props.size),onClick:d}))};function a(){h.apply(this,arguments)}a.propTypes={actionStyle:c.oneOf(["button","link"]),className:c.string,disabled:c.bool,fileInputNodeID:c.string,hide:c.bool,label:c.node,size:c.oneOf(["small","medium","large","xlarge","xxlarge"]),onClick:c.func};a.defaultProps={actionStyle:"button",children:[],disabled:!1,fileInputNodeID:"",hide:!1,size:"xlarge"};e.exports=a}),null);
__d("AdsImageCropperWindow.react",["cx","fbt","ix","CenteredContainer.react","Image.react","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={ctaFullWidth:null},this.$1=function(){if(!this.state.ctaFullWidth){var a=this.refs&&this.refs.cta;a=a&&b("ReactDOM").findDOMNode(a);a&&a.offsetWidth&&this.setState({ctaFullWidth:a.offsetWidth})}}.bind(this),this.$2=function(){var a=this.state.ctaFullWidth,c=!a||this.props.width&&this.props.width>a,d=this.props.isResizable?h._("Crop Image"):h._("Drag to Reposition Image");return b("React").createElement("div",{className:"_5tw6"+(this.props.isCropping?" _5tw7":"")+(a?"":" _5tw8"),ref:"cta"},b("React").createElement(b("Image.react"),{src:i("22701")}),b("React").createElement("div",{className:(!c&&this.props.isResizing?"hidden_elem":"")+" _5tw9"},d))}.bind(this),c}a.prototype.componentDidUpdate=function(a){this.$1()};a.prototype.shouldComponentUpdate=function(a){return!this.state.ctaFullWidth||this.props.width!==a.width||this.props.height!==a.height||this.props.isCropping!==a.isCropping};a.prototype.render=function(){return b("React").createElement(b("CenteredContainer.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5tw4 lfloat"+(this.props.useDashedGrid?" _6s84":"")),style:babelHelpers["extends"]({},this.props.style||{},{width:this.props.width,height:this.props.height}),vertical:!0}),b("React").createElement("div",{className:"_5tw5"}),this.$2())};a.propTypes={height:c.number,isCropping:c.bool,isResizable:c.bool,isResizing:c.bool,useDashedGrid:c.bool,width:c.number};a.defaultProps={isResizable:!1};e.exports=a}),null);
__d("AdsImageCropSize.react",["fbt","Arbiter","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={height:null,width:null},this.handleUpdate=function(a,b){return this.setState({height:b.height,width:b.width})}.bind(this),b}a.prototype.componentDidMount=function(){this.updateToken=b("Arbiter").subscribe("AdsImageCropSelector/update",this.handleUpdate)};a.prototype.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.updateToken)};a.prototype.render=function(){return this.state.height===null||this.state.width===null?null:b("React").createElement(b("FDSText.react"),{color:"white",size:"body3"},g._({"*":{"*":"{width} x {height}"}},[g._param("width",this.state.width,[0]),g._param("height",this.state.height,[0])]))};e.exports=a}),null);
__d("AdsImageCropperWindowSize.react",["cx","AdsImageCropSize.react","React","ReactCSSTransitionGroup"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return!a.resizeHandlePosition?null:b("React").createElement(b("ReactCSSTransitionGroup"),{transitionEnter:!0,transitionEnterTimeout:250,transitionLeave:!0,transitionLeaveTimeout:250,transitionName:{enter:"_6mop",enterActive:"_6moq",leave:"_6mor",leaveActive:"_6mos"}},a.isResizing?b("React").createElement("div",{className:"_6kr6"+(a.resizeHandlePosition==="top-left"?" _6kr7":"")+(a.resizeHandlePosition==="top-right"?" _6kr8":"")+(a.resizeHandlePosition==="bottom-right"?" _6kr9":"")+(a.resizeHandlePosition==="bottom-left"?" _6kra":"")},b("React").createElement(b("AdsImageCropSize.react"),null)):null)}e.exports=a}),null);
__d("AdsImageCropSelector.react",["cx","invariant","ix","AdsImageCropperWindow.react","AdsImageCropperWindowSize.react","AdsImageLegacy","AdsInterfacesLogEvents","AdsInterfacesLogger","Arbiter","BackgroundImage.react","Event","Image.react","React","ReactDOM","isEmpty","joinClasses","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;var j=function(a){return a*a},k=function(a,b,c){return Math.min(Math.max(a,b),c)},l=b("throttle")(function(a){return b("Arbiter").inform("AdsImageCropSelector/update",a)});c=b("React").createClass({displayName:"AdsImageCropSelector",_dragging:!1,_dragEvent:null,_handler:null,_node:null,_origin:{},_releaseEvent:null,propTypes:{className:a.string,disableResizer:a.bool.isRequired,height:a.number.isRequired,image:a.instanceOf(b("AdsImageLegacy")).isRequired,imageSpec:a.object.isRequired,isDisabled:a.bool.isRequired,isError:a.bool.isRequired,isReady:a.bool.isRequired,showCropSize:a.bool,useDashedGrid:a.bool,width:a.number.isRequired,onContextMenu:a.func.isRequired,onCropUpdate:a.func.isRequired},getInitialState:function(){return{coordinates:{},imageDimensions:{},isCropping:!1,isResizing:!1,min:{},max:{},resizeHandlePosition:null,scale:1,screenX:0,screenY:0}},UNSAFE_componentWillMount:function(){this._calculateState(this.props)},componentWillUnmount:function(){this._dragEvent&&this._dragEvent.remove(),this._releaseEvent&&this._releaseEvent.remove()},UNSAFE_componentWillReceiveProps:function(a){this._calculateState(a)},render:function(){var a=this._isCroppingAllowed();return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_5tv-"),style:babelHelpers["extends"]({},this.props.style||{},{width:this.props.width}),onContextMenu:this._onContextMenu},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:a?"contain":"containinside",className:"_537t",height:this.props.height,loadingIndicatorStyle:"large",src:this._getImageUrl(),width:this.props.width}),this._renderCropperMask(),this._renderFooter())},_getImageUrl:function(){var a=this.props.image;return a.isStockImage()?a.getFullSizeUrl():a.getUrl()},_drawCropperGrid:function(){var a=b("React").createElement("td",{className:"_35i_"+(this.props.useDashedGrid?" _6s8h":"")},"\xa0");a=b("React").createElement("tr",null,a,a,a);return b("React").createElement("table",{className:"_35j0"},b("React").createElement("tbody",null,a,a,a))},_renderCropperMask:function(){if(!this._isCroppingAllowed())return null;var a=this._getFillStyle(this.state.coordinates),c=this.state.coordinates.width+"px",d=this.state.coordinates.height+"px",e=this.props.disableResizer?"none":"block";return b("React").createElement("div",{className:"_537t _4jo2"},b("React").createElement("div",{className:"_537t _537u",ref:"selector",style:{borderWidth:a,width:c,height:d,display:e}},this._drawCropperGrid(),this._getResizeHandles(),b("React").createElement(b("AdsImageCropperWindow.react"),{className:"_537t",height:this.state.isResizing?void 0:this.state.coordinates.height,isCropping:this.state.isCropping&&this._dragging,isResizable:!0,isResizing:this.state.isResizing,useDashedGrid:this.props.useDashedGrid,width:this.state.isResizing?void 0:this.state.coordinates.width,onMouseDown:this._onCropMoveStart})))},_isCroppingAllowed:function(){return!this.props.isDisabled&&!this.props.isError&&this.props.isReady},_renderFooter:function(){if(!this.props.isReady)return null;var a=this.props.image,c=this.props.imageSpec;c=c.placement;a=a.getValidation(c);c=a.errorMessage||a.warningMessage||a.successMessage;var d=i("22275");(a.errorMessage||a.warningMessage)&&(d=i("22276"));return b("React").createElement("div",{className:"_5tw0"},b("React").createElement("div",{className:(c?"":"hidden_elem")+" lfloat"},b("React").createElement(b("Image.react"),{className:"_5tw1",src:d}),b("React").createElement("span",{className:"_5tw2"},c&&c.split("\n")[0])))},_getResizeHandles:function(){return b("React").createElement("div",{className:"_u4e",ref:"handles"},b("React").createElement("div",{className:"_u49 _u4a",key:"top_left",onMouseDown:this.props.showCropSize?this._onTopLeftCropResizeStart:this._onCropResizeStart}),b("React").createElement("div",{className:"_u49 _u4b",key:"top_right",onMouseDown:this.props.showCropSize?this._onTopRightCropResizeStart:this._onCropResizeStart}),b("React").createElement("div",{className:"_u49 _u4c",key:"bottom_right",onMouseDown:this.props.showCropSize?this._onBottomRightCropResizeStart:this._onCropResizeStart}),b("React").createElement("div",{className:"_u49 _u4d",key:"bottom_left",onMouseDown:this.props.showCropSize?this._onBottomLeftCropResizeStart:this._onCropResizeStart}),this.props.showCropSize?b("React").createElement(b("AdsImageCropperWindowSize.react"),{isResizing:this.state.isResizing,resizeHandlePosition:this.state.resizeHandlePosition}):null)},_getFillStyle:function(a){var b=Math.floor(a.top),c=Math.floor(a.left),d=Math.ceil(a.right);a=Math.ceil(a.bottom);return b+"px "+d+"px "+a+"px "+c+"px"},_updateFormats:function(){var a=this.props.image,b=this.props.imageSpec,c=b.cropKey;b=b.placement;var d=this.getOffset();d=this.getCoordinates(d);this.props.onCropUpdate(a,b,(a={},a[c]=d,a))},getOffset:function(){return{left:this.state.coordinates.left-this.state.min.x,right:this.state.coordinates.right-this.state.min.x,top:this.state.coordinates.top-this.state.min.y,bottom:this.state.coordinates.bottom-this.state.min.y}},getCoordinates:function(a){var b=this.state.imageDimensions,c={bottom:0,left:Math.round(a.left/this.state.scale),right:Math.round(b.width-a.right/this.state.scale),top:Math.round(a.top/this.state.scale)},d=this.props.imageSpec;d.aspectRatio?c.bottom=Math.floor(c.top+(c.right-c.left)/d.aspectRatio):c.bottom=Math.round(b.height-a.bottom/this.state.scale);return[[c.left,Math.max(c.top,0)],[c.right,c.bottom]]},_onTopLeftCropResizeStart:function(event){this._onCropResizeStart(event,"top-left")},_onTopRightCropResizeStart:function(event){this._onCropResizeStart(event,"top-right")},_onBottomRightCropResizeStart:function(event){this._onCropResizeStart(event,"bottom-right")},_onBottomLeftCropResizeStart:function(event){this._onCropResizeStart(event,"bottom-left")},_onCropResizeStart:function(event,a){this._onCropChangeStart(event,!0,a),b("AdsInterfacesLogger").log({eventName:"crop_image_resize_mask",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},_onCropMoveStart:function(event){this._onCropChangeStart(event,!1),b("AdsInterfacesLogger").log({eventName:"crop_image_drag_mask",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},_onCropChangeStart:function(event,a,c){__p&&__p();event.preventDefault();this._setSelectorNodeToRendered();if(!this._dragging){this._handler=this._getHandler(a);var d=b("ReactDOM").findDOMNode(this.refs.handles);d||h(0,2116);d=d.getBoundingClientRect();var e=d.left,f=d.top,g=d.width;d=d.height;this._origin={x:e+g/2,y:f+d/2};this._dragEvent=b("Event").listen(window,"mousemove",this._cropMove);this._releaseEvent=b("Event").listen(window,"mouseup",this._cropEnd);this.setState({isCropping:!0,isResizing:a,resizeHandlePosition:c,screenX:event.pageX,screenY:event.pageY});a&&this._emitUpdateEvent(g,d);this._dragging=!0;this._place(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height)}},_setSelectorNodeToRendered:function(){this._node&&h(0,2117),this._node=b("ReactDOM").findDOMNode(this.refs.selector),this._node||h(0,2118)},_cropMove:function(event){this._dragging&&(event.prevent(),this._handler||h(0,2119),this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY))},_cropEnd:function(event){this._dragging&&(this._dragging=!1,this.setState({isCropping:!1,isResizing:!1}),this._handler||h(0,2119),this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY),this._dragEvent&&this._dragEvent.remove(),this._dragEvent=null,this._releaseEvent&&this._releaseEvent.remove(),this._releaseEvent=null,this._handler=null),this._resetSelectorNode()},_resetSelectorNode:function(){delete this._node},_resize:function(a,b){__p&&__p();var c=Math.sqrt(j(this.state.screenX-this._origin.x)+j(this.state.screenY-this._origin.y));a={x:a/2+this.state.screenX,y:b/2+this.state.screenY};b=Math.sqrt(j(this._origin.x-a.x)+j(this._origin.y-a.y));a=k(b/c,this.state.min.scale,this.state.max.scale);b=Math.round(this.state.coordinates.width*a);c=Math.round(this.state.coordinates.height*a);a=this.state.screenX<this._origin.x?this.state.coordinates.width-b:0;var d=this.state.screenY<this._origin.y?this.state.coordinates.height-c:0;a=k(this.state.coordinates.left+a,this.state.min.x,this.state.max.x-b);d=k(this.state.coordinates.top+d,this.state.min.y,this.state.max.y-c);this._place(a,d,b,c);this._emitUpdateEvent(b,c)},_move:function(a,b){var c=this.state.coordinates.width,d=this.state.coordinates.height;a=k(this.state.coordinates.left+a,this.state.min.x,this.state.max.x-c);b=k(this.state.coordinates.top+b,this.state.min.y,this.state.max.y-d);this._place(a,b,c,d)},_place:function(a,b,c,d){var e=this.props.height-b-d,f=this.props.width-a-c,g=this._getFillStyle({top:b,left:a,bottom:e,right:f});this._node||h(0,2118);this._node.style.borderWidth=g;this._node.style.width=c+"px";this._node.style.height=d+"px";this._dragging||this.setState({coordinates:{top:b,left:a,bottom:e,right:f,width:c,height:d}},function(){this._updateFormats()}.bind(this))},_getHandler:function(a){return a?this._resize:this._move},_calculateState:function(a){__p&&__p();if(!a.isReady)return;var c=a.image.getCrop(a.imageSpec.cropKey),d=Math.min(a.width/a.image.getWidth(),a.height/a.image.getHeight()),e={height:a.image.getHeight(),scaledWidth:Math.round(a.image.getWidth()*d),scaledHeight:Math.round(a.image.getHeight()*d),width:a.image.getWidth()},f={scale:1,x:(a.width-e.scaledWidth)/2,y:(a.height-e.scaledHeight)/2},g={scale:1,x:f.x+e.scaledWidth,y:f.y+e.scaledHeight},h={};c&&c.length&&(h.top=f.y+c[0][1]*d,h.left=f.x+c[0][0]*d,h.bottom=f.y+(e.height-c[1][1])*d,h.right=f.x+(e.width-c[1][0])*d,h.width=a.width-h.right-h.left,h.height=a.height-h.bottom-h.top);(b("isEmpty")(h)||Object.keys(h).some(function(a){return Math.ceil(h[a])<0}))&&(e.width/a.imageSpec.aspectRatio>e.height?(h.height=e.scaledHeight,h.width=h.height*a.imageSpec.aspectRatio):(h.width=e.scaledWidth,h.height=h.width/a.imageSpec.aspectRatio),h.top=f.y+(e.scaledHeight-h.height)/2,h.left=f.x+(e.scaledWidth-h.width)/2,h.bottom=a.height-h.top-h.height,h.right=a.width-h.left-h.width);f.scale=Math.min(a.imageSpec.minWarningWidth*d/h.width,a.imageSpec.minWarningHeight*d/h.height);g.scale=Math.min(e.scaledWidth/h.width,e.scaledHeight/h.height);this.setState({max:g,min:f,imageDimensions:e,scale:d,coordinates:h},function(){return this._emitUpdateEvent(h.width,h.height)}.bind(this))},_onContextMenu:function(event){this.props.onContextMenu(this.props.image,event)},_emitUpdateEvent:function(a,b){if(this.props.showCropSize){var c=this.props.imageSpec.aspectRatio;c=c?a/c:b;l({height:Math.round(c/this.state.scale),width:Math.round(a/this.state.scale)})}}});e.exports=c}),null);
__d("AdsImageCropperResetButton.react",["ix","cx","fbt","AdsInterfacesLogEvents","AdsInterfacesLogger","FDSButton.react","Image.react","React","ReactCSSTransitionGroup","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.handleClick=function(){this.props.onClick(this.props.selectedPlacement),b("AdsInterfacesLogger").log({eventName:"crop_image_reset_changes",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),c}a.prototype.render=function(){var a=i._("Reset");return b("React").createElement(b("ReactCSSTransitionGroup"),{transitionEnter:!0,transitionEnterTimeout:250,transitionLeave:!0,transitionLeaveTimeout:250,transitionName:{enter:"_6mol",enterActive:"_6mom",leave:"_6mon",leaveActive:"_6moo"}},this.props.canResetChanges?b("React").createElement("div",{className:"_6mc7"},b("React").createElement("div",{className:"_6mc8"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("560777"),style:{marginRight:6}}),label:a,size:"small",use:"flatWhite",onClick:this.handleClick}))):null)};e.exports=a}),null);
__d("AdsImageCropperCacheUtil",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){return[a,(b||"").toString()].join()};e.exports={getCacheHashForImageTextCheck:a}}),null);
__d("AdsCache",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap;function a(a){this.$1=g(),this.$2=a}a.prototype.set=function(a,b){this.$1=this.$1.set(a,b),this.$3()};a.prototype.get=function(a){return this.$1.get(a)};a.prototype.has=function(a){return this.$1.has(a)};a.prototype.clearAll=function(){this.$1=g()};a.prototype.size=function(){return this.$1.size};a.prototype["delete"]=function(a){var b=this.has(a);this.$1=this.$1["delete"](a);return b};a.prototype.$3=function(){this.$1.size>this.$2&&this["delete"](this.$1.keySeq().first())};e.exports=a}),null);
__d("AdsTextCheckResponseCache",["AdsCache"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("AdsCache"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a(100)}),null);
__d("XAdsTextOverlayAsyncMultipleCropsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/tools/text_overlay_validation_with_crops/async/",{})}),null);
__d("AdsImageCropperTextOverlayRequester",["Promise","AdsImageCropperCacheUtil","AdsTextCheckResponseCache","AsyncRequest","URI","XAdsTextOverlayAsyncMultipleCropsController","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageCropperCacheUtil").getCacheHashForImageTextCheck;function h(a,b){__p&&__p();return a.withMutations(function(a){__p&&__p();for(var c=b,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a["delete"](f)}})}function i(a){return new(b("URI"))(a.getUrl()).getPath()==="/safe_image.php"}function j(a){var b=a.getCrops(),c=Object.keys(b);c=c[0];return JSON.stringify({url:a.getUrl(),width:a.getWidth(),height:a.getHeight(),crops:c==null?null:(a=[]).concat.apply(a,b[c])})}function k(a){var b="TEXT_PENALTY_OK";Array.isArray(a)||(b=Object.keys(a[Object.keys(a)[0]])[0]);return b}function l(a){var b=Object.keys(a);return b.length===0?null:a[b[0]]}function m(a,c){a=n(a);a!=null&&b("AdsTextCheckResponseCache").set(a,c)}function n(a){var b=a.getAdAccountHash();if(b==null)return null;a=l(a.getCrops());return g(b,a)}function a(a){this.$3=a.filter(function(a){return!i(a)})}a.prototype.request=function(){__p&&__p();var a=this.$4();if(a.size>0&&this.$3.size===a.size){this.$2=b("Promise").resolve(a);return this}var c=h(this.$3,a.keySeq()).map(function(a){return j(a)});if(c.size===0){this.$2=b("Promise").resolve();return this}this.$1=new(b("AsyncRequest"))();this.$2=new(b("Promise"))(function(d,e){__p&&__p();var f=b("XAdsTextOverlayAsyncMultipleCropsController").getURIBuilder().getURI();b("nullthrows")(this.$1).setURI(f).setData({image_position_to_crops:c.toJS()}).setHandler(function(c){c=b("immutable").Map(c.payload.penalties).map(function(a){return k(a)});c.entrySeq().forEach(function(a){var b=a[0];a=a[1];return m(this.$3.get(b),a)}.bind(this));d(c.merge(a))}.bind(this)).setErrorHandler(function(a){return e(a)}).setFinallyHandler(function(){this.$1=null}.bind(this)).send()}.bind(this));return this};a.prototype.hasValidImages=function(){return this.$3.size>0};a.prototype.getPromise=function(){return this.$2};a.prototype.abort=function(){this.$1&&this.$1.abort()};a.prototype.$4=function(){return this.$3.map(function(a){a=n(a);return a!=null&&b("AdsTextCheckResponseCache").has(a)?b("AdsTextCheckResponseCache").get(a):null}).filter(Boolean)};e.exports=a}),null);
__d("AdsImageCropperImageOverlayContent",["ix","fbt","FDSSpinner.react","Image.react","React","WaitTimeArea.react","asset","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("immutable").Map({body:h._("We're checking that this image doesn't contain too much text."),icon:b("React").createElement(b("WaitTimeArea.react"),{name:"AdsImageCropperTextPenaltyChecker",owner:"ads_advanced_creative"},b("React").createElement(b("FDSSpinner.react"),{size:"small"})),title:h._("Checking image text...")});c=b("immutable").Map({body:h._("Please try again."),icon:b("React").createElement(b("Image.react"),{src:g("657778")}),title:h._("{=An error occurred while checking the text in your image.} Close this window and try again.",[h._param("=An error occurred while checking the text in your image.",b("React").createElement("b",null,h._("An error occurred while checking the text in your image.")))])});d=b("immutable").Map({WARNING_STOCK_IMAGE:b("immutable").Map({body:h._("For best ad performance, please make sure your image includes less than 20\u0025 text."),icon:null,title:null}),TEXT_PENALTY_OK:b("immutable").Map({body:h._("This image meets our text guidelines. Great!"),icon:b("React").createElement(b("Image.react"),{src:g("657780")}),title:h._("Text amount: OK")}),TEXT_PENALTY_LOW:b("immutable").Map({body:h._("{=Your ad's reach may be slightly lower.}{=Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.}",[h._param("=Your ad's reach may be slightly lower.",b("React").createElement("p",null,h._("Your ad's reach may be slightly lower."))),h._param("=Ad images with less than 20% text perform better. Try an image with less text, a smaller font size or without text-based logos.",b("React").createElement("p",null,h._("Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.")))]),icon:b("React").createElement(b("Image.react"),{src:g("657781")}),title:h._("Text amount: Low")}),TEXT_PENALTY_MEDIUM:b("immutable").Map({body:h._("{=Your ad's reach may be much lower.}{=Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.}",[h._param("=Your ad's reach may be much lower.",b("React").createElement("p",null,h._("Your ad's reach may be much lower."))),h._param("=Ad images with less than 20% text perform better. Try an image with less text, a smaller font size or without text-based logos.",b("React").createElement("p",null,h._("Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.")))]),icon:b("React").createElement(b("Image.react"),{src:g("657781")}),title:h._("Text amount: Medium")}),TEXT_PENALTY_HIGH:b("immutable").Map({body:h._("{=Your ad may not be shown.}{=Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.}",[h._param("=Your ad may not be shown.",b("React").createElement("p",null,h._("Your ad may not be shown."))),h._param("=Ad images with less than 20% text perform better. Try an image with less text, a smaller font size or without text-based logos.",b("React").createElement("p",null,h._("Ad images with less than 20\u0025 text perform better. Try an image with less text, a smaller font size or without text-based logos.")))]),icon:b("React").createElement(b("Image.react"),{src:g("657779")}),title:h._("Text amount: High")})});f=b("immutable").Map(a);var i=c.merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("702356")})})),j=b("immutable").Map({WARNING_STOCK_IMAGE:d.get("WARNING_STOCK_IMAGE").merge(b("immutable").Map({})),TEXT_PENALTY_OK:d.get("TEXT_PENALTY_OK").merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("702358")})})),TEXT_PENALTY_LOW:d.get("TEXT_PENALTY_LOW").merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("702359")})})),TEXT_PENALTY_MEDIUM:d.get("TEXT_PENALTY_MEDIUM").merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("702359")})})),TEXT_PENALTY_HIGH:d.get("TEXT_PENALTY_HIGH").merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("702357")})}))}),k=b("immutable").Map(a),l=c.merge(b("immutable").Map({icon:b("React").createElement(b("Image.react"),{src:g("706233")})}));h=b("immutable").Map({WARNING_STOCK_IMAGE:d.get("WARNING_STOCK_IMAGE").merge(b("immutable").Map({})),TEXT_PENALTY_OK:d.get("TEXT_PENALTY_OK"),TEXT_PENALTY_LOW:d.get("TEXT_PENALTY_LOW").merge(b("immutable").Map({body:h._("Your ad's reach may be slightly lower."),icon:b("React").createElement(b("Image.react"),{src:g("706236")})})),TEXT_PENALTY_MEDIUM:d.get("TEXT_PENALTY_MEDIUM").merge(b("immutable").Map({body:h._("Your ad's reach may be much lower."),icon:b("React").createElement(b("Image.react"),{src:g("706236")})})),TEXT_PENALTY_HIGH:d.get("TEXT_PENALTY_HIGH").merge(b("immutable").Map({body:h._("Your ad may not be shown."),icon:b("React").createElement(b("Image.react"),{src:g("706234")})}))});e.exports={MAP_INFO_COMPS_FOR_LOADING:a,MAP_INFO_COMPS_FOR_LOADING_V1:f,MAP_INFO_COMPS_FOR_LOADING_CPP:k,MAP_INFO_COMPS_FOR_ERROR:c,MAP_INFO_COMPS_FOR_ERROR_V1:i,MAP_INFO_COMPS_FOR_ERROR_CPP:l,MAP_INFO_COMPONENTS_FOR_LOADED_TYPE:d,MAP_INFO_COMPONENTS_FOR_LOADED_TYPE_V1:j,MAP_INFO_COMPONENTS_FOR_LOADED_TYPE_CPP:h}}),null);
__d("AdsImageCropperTextCheckerHOC.react",["React","immutable","loadObjectComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){b=b.get(a).toJS();return babelHelpers["extends"]({},b,{type:a})};function a(a){__p&&__p();return function(){__p&&__p();var c;c=babelHelpers.inherits(d,b("React").Component);c&&c.prototype;d.prototype.render=function(){"use strict";var c=b("loadObjectComponent")({loading:function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props.loadingStateComponents.toJS(),{loaded:!1}))}.bind(this),error:function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props.loadErrorComponents.toJS(),{loaded:!1}))}.bind(this),loaded:function(c){if(!this.props.loadedStateComponents.has(c))return null;c=g(c,this.props.loadedStateComponents);return b("React").createElement(a,babelHelpers["extends"]({},c,{loaded:!0}))}.bind(this)});return b("React").createElement(c,{object:this.props.object})};function d(){"use strict";c.apply(this,arguments)}return d}()}e.exports=a}),null);
__d("AdsImageCropperTextOverlayInfoMessage.react",["cx","fbt","FDSDivider.react","FDSLink.react","FDSText.react","FlexLayout.react","React","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="https://www.facebook.com/business/help/980593475366490",k=b("immutable").Map({TEXT_PENALTY_HIGH:"#high",TEXT_PENALTY_MEDIUM:"#medium",TEXT_PENALTY_LOW:"#low"});i=babelHelpers.inherits(l,b("React").PureComponent);i&&i.prototype;l.prototype.render=function(){var a=this.props,c=a.title,d=a.body;a=a.icon;a=a!=null?b("React").createElement("div",{className:"_6rnf"},a):null;c=c!=null?b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"header4",weight:"bold"},c):null;return b("React").createElement("div",{className:"_6rnd"},b("React").createElement(b("FDSDivider.react"),null),b("React").createElement("div",{className:"_6rne"},b("React").createElement(b("FlexLayout.react"),null,a,b("React").createElement("div",null,c,b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body3"},d,b("React").createElement("p",null,b("React").createElement(b("FDSLink.react"),{display:"block",href:l.getLearnMoreUrl(this.props.type),target:"_blank"},h._("Learn More"))))))))};function l(){i.apply(this,arguments)}l.getLearnMoreUrl=function(a){if(a==null)return j;a=k.has(a)?k.get(a):"";return j+a};e.exports=l}),null);
__d("AdsImageCropperTextOverlayInfoMessageCPP.react",["fbt","React","SUIBusinessTheme","SUITooltip.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i={marginLeft:-10};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.body,d=a.title,e=a.icon;a=a.loaded;a=a===void 0?!1:a;return b("React").createElement(b("SUITooltip.react"),{alignment:"center",theme:b("SUIBusinessTheme"),tooltip:a!=null?g._("{Title of text checker status}. {Small description of text checker status}",[g._param("Title of text checker status",d),g._param("Small description of text checker status",c)]):null},b("React").createElement("div",{className:"_3-8w",style:i},e))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsImageCropperTextOverlayInfoMessageV1.react",["ix","cx","fbt","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDetailOpen:!1},this.$1=function(){this.setState(function(a){return{isDetailOpen:!a.isDetailOpen}})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.title,d=a.body,e=a.icon;a=a.loaded;a=a===void 0?!1:a;e=e!=null?b("React").createElement("div",{className:"_6-i_"},e):null;c=c!=null?b("React").createElement(b("FDSText.react"),{color:"white",display:"block",margin:"_3-8w _3-91",size:"body3",weight:"bold"},c):null;a=a?b("React").createElement("div",{className:"_6-j0"},b("React").createElement(b("FDSButton.react"),{icon:this.state.isDetailOpen?b("React").createElement(b("Image.react"),{src:g("593209")}):b("React").createElement(b("Image.react"),{src:g("500190")}),label:i._("Show More"),labelIsHidden:!0,size:"small",use:"flatWhite",onClick:this.$1})):null;return b("React").createElement("div",{className:"_6-j1"},b("React").createElement(b("FlexLayout.react"),null,e,c,a),this.state.isDetailOpen?b("React").createElement(b("FDSText.react"),{color:"white",display:"block",margin:"_3-8y",size:"body2"},d):null)};e.exports=a}),null);
__d("AdsImageCropperTextPenaltyChecker.react",["AdsImageCropperImageOverlayContent","AdsImageCropperTextCheckerHOC.react","AdsImageCropperTextOverlayInfoMessage.react","AdsImageCropperTextOverlayInfoMessageCPP.react","AdsImageCropperTextOverlayInfoMessageV1.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPONENTS_FOR_LOADED_TYPE,i=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPONENTS_FOR_LOADED_TYPE_CPP,j=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPONENTS_FOR_LOADED_TYPE_V1,k=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_ERROR,l=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_ERROR_CPP,m=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_ERROR_V1,n=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_LOADING,o=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_LOADING_CPP,p=b("AdsImageCropperImageOverlayContent").MAP_INFO_COMPS_FOR_LOADING_V1,q=b("AdsImageCropperTextCheckerHOC.react")(b("AdsImageCropperTextOverlayInfoMessage.react")),r=b("AdsImageCropperTextCheckerHOC.react")(b("AdsImageCropperTextOverlayInfoMessageV1.react")),s=b("AdsImageCropperTextCheckerHOC.react")(b("AdsImageCropperTextOverlayInfoMessageCPP.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){if(this.props.isV1==!0)return b("React").createElement(r,{loadErrorComponents:m,loadedStateComponents:j,loadingStateComponents:p,object:this.props.object});else if(this.props.isCPP==!0)return b("React").createElement(s,{loadErrorComponents:l,loadedStateComponents:i,loadingStateComponents:o,object:this.props.object});return b("React").createElement(q,{loadErrorComponents:k,loadedStateComponents:h,loadingStateComponents:n,object:this.props.object})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsImageCropperTextPenaltyCheckerContainer.react",["AdsImageCropperTextOverlayRequester","AdsImageCropperTextPenaltyChecker.react","LoadObject","React","debounce","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={loadObject:b("LoadObject").empty()},this.$4=function(a){this.setState({loadObject:b("LoadObject").withError(new Error(a.getErrorDescription()))})}.bind(this),this.$2=b("debounce")(function(){var a=this.props.image;this.$1&&this.$1.abort();this.$1=new(b("AdsImageCropperTextOverlayRequester"))(b("immutable").Map({0:a}));this.$1.hasValidImages()?(this.setState({loadObject:b("LoadObject").loading()}),b("nullthrows")(this.$1).request().getPromise().then(function(a){return a&&this.$3(a.first())}.bind(this))["catch"](this.$4)["finally"](function(){this.$1=null}.bind(this))):this.setState({loadObject:b("LoadObject").withValue("WARNING_STOCK_IMAGE")})}.bind(this)),c}a.prototype.componentDidMount=function(){this.props.initialStatus?this.setState({loadObject:this.props.initialStatus}):this.$2()};a.prototype.componentDidUpdate=function(a){if(this.props.initialStatus!==a.initialStatus){this.setState({loadObject:this.props.initialStatus});return}this.props.image.equalsWithCrops(a.image)||this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abort()};a.prototype.render=function(){var a=this.state.loadObject;return!a||a.isEmpty()||this.props.isCPP===!0&&a.hasValue()&&a.getValue()==="TEXT_PENALTY_OK"?null:b("React").createElement(b("AdsImageCropperTextPenaltyChecker.react"),{isCPP:this.props.isCPP,isV1:this.props.isV1,object:a})};a.prototype.$3=function(a){this.setState({loadObject:b("LoadObject").withValue(a)})};e.exports=a}),null);
__d("AdsImageCropperEditorHeader.react",["cx","AdsImageCropperResetButton.react","AdsImageCropperTextPenaltyCheckerContainer.react","AdsImageCropSize.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.showCropSize!==!0&&!a.onReset)return null;var c=a.isV1===!0;return b("React").createElement("div",{className:"_6s8i"+(c?" _7083":"")},c?b("React").createElement("div",{className:"_6-j2"},b("React").createElement(b("AdsImageCropperTextPenaltyCheckerContainer.react"),{image:a.image,isV1:a.isV1})):null,a.showCropSize===!0?b("React").createElement("div",{className:"_6s8j"},b("React").createElement(b("AdsImageCropSize.react"),null)):null,a.onReset?b("React").createElement(b("AdsImageCropperResetButton.react"),{canResetChanges:a.canResetChanges,selectedPlacement:a.selectedPlacement,onClick:a.onReset}):null)}e.exports=a}),null);
__d("AdsImageCropperEditorItem.react",["cx","AdsImageUtils","AdsUtils","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsUtils").isEqualWeak;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.image,c=this.props.imageSpec,d=c.placement,e=c.cropKey;c=b("AdsImageUtils").calculateDefaultCoordinates(a.getWidth(),a.getHeight(),c.aspectRatio);if(!a.getCrop(e)&&this.$3()){this.props.onCropUpdate(a,d,(a={},a[e]=c,a))}}.bind(this),this.$2=function(){var a=this.props.image;return a.isStockImage()?a.getFullSizeUrl():a.getUrl()}.bind(this),this.$3=function(){var a=this.props.isDisabled,b=this.props.isError,c=this.props.isReady;return!a&&!b&&c}.bind(this),this.$7=function(){this.props.onClick(this.props.imageSpec.placement)}.bind(this),this.$6=function(event){this.props.onContextMenu(this.props.image,event)}.bind(this),c}a.prototype.componentDidMount=function(){this.$1()};a.prototype.componentDidUpdate=function(){this.$1()};a.prototype.shouldComponentUpdate=function(a){return!i(this.props.image.getCrops(),a.image.getCrops())||this.props.isDisabled!==a.isDisabled||this.props.isError!==a.isError||this.props.isReady!==a.isReady||this.props.isSelected!==a.isSelected||this.props.imageSpec.aspectRatio!==a.imageSpec.aspectRatio||this.props.height!==a.height};a.prototype.render=function(){var a=this.props.image,c=this.props.imageSpec,d=this.$2(),e=this.$3(),f=e&&this.$4(a,c);e=e?this.$5(a,c):1;var g;d&&(g={backgroundImage:"url("+d+")",backgroundSize:Math.round(e*100)+"%",backgroundPosition:f,backgroundRepeat:"no-repeat"});a=b("React").createElement("div",{style:babelHelpers["extends"]({},g,{height:this.props.height,width:this.props.width}),onContextMenu:this.$6});return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_5twa"+(this.props.isSelected?" _5twb":"")),onClick:this.$7},a)};a.prototype.$4=function(a,c){c=a.getCrop(c.cropKey);var d="50% 50%";if(c&&c.length){var e=a.getWidth();a=a.getHeight();var f=this.props.width,g=this.props.height;d=b("AdsImageUtils").calculateCroppedPosition(e,a,f,g,c)}return d};a.prototype.$5=function(a,c){var d=1;c=a.getCrop(c.cropKey);c&&c.length&&(d=b("AdsImageUtils").calculateBackgroundScale(a.getWidth(),a.getHeight(),c));return d};a.propTypes={className:c.string,height:c.number.isRequired,image:c.object.isRequired,imageSpec:c.object.isRequired,isDisabled:c.bool.isRequired,isError:c.bool.isRequired,isReady:c.bool.isRequired,isSelected:c.bool,width:c.number.isRequired,onClick:c.func.isRequired,onContextMenu:c.func.isRequired,onCropUpdate:c.func.isRequired};e.exports=a}),null);
__d("AdsImageCropperEditorPlaceholderItem.react",["cx","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onClick(this.props.placement)}.bind(this),b}a.prototype.render=function(){var a=b("React").createElement("div",{className:"_1ai3",style:{height:this.props.height,width:this.props.width}});return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_5twa"+(this.props.isSelected?" _5twb":"")),onClick:this.$1},a)};a.propTypes={className:c.string,height:c.number.isRequired,isSelected:c.bool,placement:c.string.isRequired,width:c.number.isRequired,onClick:c.func.isRequired};e.exports=a}),null);
__d("AdsImageCropperUtils",["AdImageSpecs","AdsImageValidation","AdsPageTypes","InstagramAdImageStoryPortalSpecs"],(function(a,b,c,d,e,f){"use strict";a={filterDisabledSpecsOnly:function(a,c){var d=a.getWidth(),e=a.getHeight(),f=b("InstagramAdImageStoryPortalSpecs").INSTAGRAM_STORY;return c.filter(function(c){return d<c.minWarningWidth||e<c.minWarningHeight||c.placement===b("AdsPageTypes").INSTAGRAM_STREAM&&c.cropKey===b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.cropKey&&!b("AdsImageValidation").isValidAspectRatio(a,b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP)||c.placement===b("AdsPageTypes").INSTAGRAM_STORY&&c.cropKey===b("AdImageSpecs").INSTAGRAM_STORY.cropKey&&!b("AdsImageValidation").isValidAspectRatio(a,f)})}};e.exports=a}),null);
__d("AdsImageCropperImageSpecSelector.react",["cx","fbt","AdImageSpecCropKeys","AdImageSpecs","AdImageSpecsUtils","AdsApplicationUtils","AdsImageCropperUtils","AdsImageLegacy","AdsIntelligentBlueTip.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsObjectivesConfig","AdsPageTypes","FDSLink.react","React","SUIBusinessTheme","SUIButtonGroup.react","SUITooltip.react","XUIButton.react","ads-objectives","emptyObject"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ads-objectives").KPIObjectives,k="https://www.facebook.com/business/help/2072491112815612",l={maxWidth:300,alignment:"center",offset:10},m=[];c=b("React").PropTypes;function n(a){return b("React").createElement(b("React").Fragment,null,a.message,a.recommendedSpec!=null&&a.recommendedSpec!==""?b("React").createElement(b("React").Fragment,null," ",h._("Recommended: {recommended spec}.",[h._param("recommended spec",a.recommendedSpec)])):null,a.showLearnMore?b("React").createElement(b("React").Fragment,null," ",b("React").createElement(b("FDSLink.react"),{href:k,isInverseColor:!0,showUnderline:"always",target:"_blank"},h._("Learn More"))):null)}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={selectedSpec:this.props.selectedSpec,disabledSpecs:b("AdsImageCropperUtils").filterDisabledSpecsOnly(this.props.image,this.props.imageSpecs)},c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({selectedSpec:a.selectedSpec,disabledSpecs:b("AdsImageCropperUtils").filterDisabledSpecsOnly(a.image,a.imageSpecs)})};a.prototype.render=function(){__p&&__p();var a=this.props.imageSpecs;if(!a.length)return null;a.every(function(a){return a.placement===b("AdsPageTypes").INSTAGRAM_STORY})&&(a=a.filter(function(a){return a.cropKey===b("AdImageSpecCropKeys").NO_CROP||a.cropKey===b("AdImageSpecCropKeys")["90x160"]||this.props.isCarouselAd===!0&&a.cropKey===b("AdImageSpecCropKeys")["100x100"]}.bind(this)));this.$1(a);var c=this.state.selectedSpec;a=a.map(function(a){var d=this.$2(a);if(!a.placement||d==null)return null;var e=a.cropKey;return b("React").createElement(b("SUITooltip.react"),babelHelpers["extends"]({key:String(a.placement).concat(a.cropKey)},this.props.useNewTooltips?l:b("emptyObject"),{theme:b("SUIBusinessTheme"),tooltip:this.$3(this.props.image,a)}),b("React").createElement(b("XUIButton.react"),{className:"_5qc-"+(!c||c.aspectRatio!==a.aspectRatio||c.placement!==a.placement?" _5qc_":"")+(this.state.disabledSpecs.some(function(b){return b.cropKey===a.cropKey})?" _55oe":"")+" _5bv8",id:e,label:d,size:"large",onClick:function(){return this.$4(a)}.bind(this)}),this.$5())}.bind(this));return b("React").createElement(b("SUIButtonGroup.react"),{theme:b("SUIBusinessTheme")},a)};a.prototype.$4=function(a){if(this.state.disabledSpecs.some(function(b){return b.cropKey===a.cropKey}))return;this.setState({selectedSpec:a});this.props.onUpdateImageSpec(a);b("AdsInterfacesLogger").log({data:{source:a.cropKey},eventName:"crop_image_click_spec",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};a.prototype.$2=function(a){var c;switch(a.cropKey){case b("AdImageSpecCropKeys").NO_CROP:return this.$6("NO_CROP");case b("AdImageSpecCropKeys")["100x100"]:return this.$6("SQUARE",a.displayRatio);case b("AdImageSpecCropKeys")["191x100"]:case b("AdImageSpecCropKeys")["400x150"]:return this.$6("HORIZONTAL",a.displayRatio);case b("AdImageSpecCropKeys")["90x160"]:return this.$6("VERTICAL",a.displayRatio)}return(c=a.displayRatio)!=null?c:String(a.aspectRatio)};a.prototype.$1=function(a){var c=this.$7(),d=this.props.useNewTooltips?[].concat(c?[c.cropKey]:m,[b("AdImageSpecCropKeys")["90x160"],b("AdImageSpecCropKeys")["100x100"],b("AdImageSpecCropKeys")["191x100"],b("AdImageSpecCropKeys").NO_CROP]):[b("AdImageSpecCropKeys").NO_CROP,b("AdImageSpecCropKeys")["191x100"],b("AdImageSpecCropKeys")["90x160"],b("AdImageSpecCropKeys")["100x100"]];a.sort(function(a,b){return d.indexOf(a.cropKey)-d.indexOf(b.cropKey)})};a.prototype.$7=function(){return b("AdImageSpecsUtils").getRecommendedImageSpec(this.props.imageSpecs)};a.prototype.$3=function(a,c){__p&&__p();var d=null,e=this.props.useNewTooltips,f=a.getWidth();a=a.getHeight();var g=this.state.disabledSpecs.some(function(a){return a.cropKey===c.cropKey});if(g)if(c.placement===b("AdsPageTypes").INSTAGRAM_STREAM)switch(c.cropKey){case b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.cropKey:if(f<c.minWarningWidth||a<c.minWarningHeight)break;d=e?h._({"wide":"This aspect ratio is disabled because the original image is too wide. Try uploading a larger image.","tall":"This aspect ratio is disabled because the original image is too tall. Try uploading a larger image."},[h._enum(f>a?"wide":"tall",{wide:"wide",tall:"tall"})]):h._({"wide":"This aspect ratio is disabled because the original image is too wide","tall":"This aspect ratio is disabled because the original image is too tall"},[h._enum(f>a?"wide":"tall",{wide:"wide",tall:"tall"})]);break;case b("AdImageSpecs").INSTAGRAM_STREAM.cropKey:d=e?h._("This aspect ratio is disabled because the resulting image will be smaller than 500x500 pixels. Try uploading a larger image."):h._("This aspect ratio is disabled because the resulting image will be smaller than 500x500 pixels");break;case b("AdImageSpecs").INSTAGRAM_STREAM_LANDSCAPE.cropKey:d=e?h._("This aspect ratio is disabled because the resulting image will be smaller than 500x262 pixels. Try uploading a larger image."):h._("This aspect ratio is disabled because the resulting image will be smaller than 500x262 pixels");break}else if(c.placement===b("AdsPageTypes").INSTAGRAM_STORY)switch(c.cropKey){case b("AdImageSpecs").INSTAGRAM_STORY.cropKey:if(f<c.minWarningWidth||a<c.minWarningHeight)break;d=e?h._({"wide":"This aspect ratio is disabled because the original image is too wide. Try uploading a larger image.","tall":"This aspect ratio is disabled because the original image is too tall. Try uploading a larger image."},[h._enum(f/a>.5625?"wide":"tall",{wide:"wide",tall:"tall"})]):h._({"wide":"This aspect ratio is disabled because the original image is too wide","tall":"This aspect ratio is disabled because the original image is too tall"},[h._enum(f/a>.5625?"wide":"tall",{wide:"wide",tall:"tall"})]);break;case b("AdImageSpecs").INSTAGRAM_STORY_CROP.cropKey:d=e?h._("This aspect ratio is disabled because the resulting image will be smaller than 500x889 pixels. Try uploading a larger image."):h._("This aspect ratio is disabled because the resulting image will be smaller than 500x889 pixels");break}g=this.$7();if(!d&&e&&g){f=this.props;a=f.imageSpecs;e=f.objective;f=f.isAutomaticPlacements;if(a.length===1){a=null;e!=null&&e!==j.NONE&&!b("AdsApplicationUtils").isCreativeStudio()?(a=b("AdsObjectivesConfig").getShortName(e),d=b("React").createElement(n,{message:f===!0?h._("This is the only available ratio for the {objective} objective using Automatic Placements.",[h._param("objective",a)]):h._("This is the only available ratio for the {objective} objective using the placements you've selected.",[h._param("objective",a)]),showLearnMore:!0})):d=b("React").createElement(n,{message:h._("This is the only available ratio.")})}else switch(c.cropKey){case b("AdImageSpecCropKeys").NO_CROP:d=b("React").createElement(n,{message:h._("Custom cropped images may not deliver to all placements."),recommendedSpec:this.$2(g),showLearnMore:!0});break;case g.cropKey:d=b("React").createElement(n,{message:h._("Recommended")});break;default:d=b("React").createElement(n,{message:h._("This ratio is not recommended for your placements."),recommendedSpec:this.$2(g),showLearnMore:!0});break}}return d};a.prototype.$6=function(a,b){__p&&__p();var c=this.props.useNewLabels;if(a==="NO_CROP")return h._("Original");var d=b;switch(a){case"HORIZONTAL":d=c?h._("Horizontal"):h._("Landscape");break;case"SQUARE":d=h._("Square");break;case"VERTICAL":d=c?h._("Vertical"):h._("Portrait");break}return c&&b!=null&&b!==""?h._("{Friendly human readable name of the aspect ratio} ({Aspect ratio e.g. 1.91:1})",[h._param("Friendly human readable name of the aspect ratio",d),h._param("Aspect ratio e.g. 1.91:1",b)]):d};a.prototype.$5=function(){return this.props.imageSpecs.every(function(a){return a.position!==b("AdsPageTypes").DESKTOP_FEED&&a.position!==b("AdsPageTypes").MOBILE_FEED&&a.cropKey!==b("AdImageSpecCropKeys")["100x100"]})?null:b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:b("AdImageSpecCropKeys")["100x100"],messageID:"ads_increase_image_aspect_ratio_nux",position:"above"})};a.propTypes={image:c.instanceOf(b("AdsImageLegacy")).isRequired,imageSpecs:c.arrayOf(c.object).isRequired,isAutomaticPlacements:c.bool,objective:c.string,selectedSpec:c.object,useNewLabels:c.bool,useNewTooltips:c.bool,onUpdateImageSpec:c.func.isRequired};e.exports=a}),null);
__d("adsImageCropperSpecSelectorSelector",["AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsBulkValueUtils","AdsPlacementSelectionUIStore","adsCreateSelector","adsUEditorSelectedAdgroupsSelector","adsUEditorSelectedCampaignGroupsSelector","adsUEditorSelectedCampaignIDsSelector","firstx"],(function(a,b,c,d,e,f){"use strict";e.exports=b("adsCreateSelector")([b("adsUEditorSelectedCampaignGroupsSelector"),b("adsUEditorSelectedCampaignIDsSelector"),b("AdsPlacementSelectionUIStore").getShowCustomSelectionSelector,b("adsUEditorSelectedAdgroupsSelector")],function(a,c,d,e){e=b("AdsBulkValueUtils").aggregate(e.map(function(a){return b("AdsAPIAdgroupRecordUtils").isCarouselAd(a)}));return{objective:b("AdsAPICampaignGroupRecordUtils").getObjective(b("firstx")(a)),isAutomaticPlacements:c.length>0&&!d(b("firstx")(c)),isCarouselAd:!!b("AdsBulkValueUtils").getUniformValue(e,!1)}},{name:e.id+".exports"})}),null);
__d("AdsImageCropperImageSpecSelectorContainer.react",["AdsFluxContainer","AdsImageCropperImageSpecSelector.react","AdsUEditorContextType","React","adsImageCropperSpecSelectorSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsImageCropperSpecSelectorSelector").getStores(a)};a.calculateState=function(a,c,d){a=d.adgroupEditorContext;d=b("adsImageCropperSpecSelectorSelector")(a);return c&&!c.useNewTooltips?{objective:null,isAutomaticPlacements:!1,isCarouselAd:d.isCarouselAd}:d};a.prototype.render=function(){return b("React").createElement(b("AdsImageCropperImageSpecSelector.react"),{image:this.props.image,imageSpecs:this.props.imageSpecs,isAutomaticPlacements:this.state.isAutomaticPlacements,isCarouselAd:this.state.isCarouselAd,objective:this.state.objective,selectedSpec:this.props.selectedSpec,useNewLabels:this.props.useNewLabels,useNewTooltips:this.props.useNewTooltips,onUpdateImageSpec:this.props.onUpdateImageSpec})};function a(){g.apply(this,arguments)}a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:e.id+".exports"})}),null);
__d("AdsImageCollection",["invariant","AdsImageCollectionViews","ArbiterMixin","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;function a(a){h.constructor.call(this),a=Object.assign({maxSelectedImages:1},a),this.$AdsImageCollection1=a.maxSelectedImages,this.$AdsImageCollection1%1===0||g(0,3736),this.reset()}a.prototype.reset=function(){this.$AdsImageCollection2=[],this.$AdsImageCollection3={},this.$AdsImageCollection4=[]};a.prototype.addImagesToFront=function(a,b){this.$AdsImageCollection5(a),this.$AdsImageCollection6(a,0,b)};a.prototype.addImagesToBack=function(a,b){this.$AdsImageCollection5(a),this.addImagesToBack_UNSAFE(a,b)};a.prototype.addImagesToBack_UNSAFE=function(a,b){this.$AdsImageCollection6(a,this.$AdsImageCollection2.length,b)};a.prototype.$AdsImageCollection6=function(a,c,d){__p&&__p();b("AdsImageCollectionViews").assertIsValidView(d);a=a.filter(function(a){var b=this.$AdsImageCollection3[a.getUniqueIdentifier()];if(b){b.view=d;return!1}else{this.$AdsImageCollection3[a.getUniqueIdentifier()]={selected:!1,view:d,image:a};return!0}}.bind(this),this);Array.prototype.splice.apply(this.$AdsImageCollection2,[c,0].concat(a));this.inform("onChange")};a.prototype.replaceImageInImageList=function(a,b){a=this.$AdsImageCollection7(a,b);a&&this.inform("onChange")};a.prototype.$AdsImageCollection7=function(a,b){if(this.isImageSelected(a))return!1;var c=this.$AdsImageCollection4[b].getUniqueIdentifier();this.$AdsImageCollection3[c].selected=!1;this.$AdsImageCollection3[a.getUniqueIdentifier()].selected=!0;this.$AdsImageCollection4[b]=a;return!0};a.prototype.$AdsImageCollection5=function(a){a.forEach(function(a){var c=this.$AdsImageCollection3[a.getUniqueIdentifier()];c&&(0===(c.view&b("AdsImageCollectionViews").views.ALL)||g(0,3737,a.getUniqueIdentifier()))}.bind(this))};a.prototype.isImageSelected=function(a){return!!this.$AdsImageCollection3[a.getUniqueIdentifier()].selected};a.prototype.toggleImageSelected=function(a){var b=!this.isImageSelected(a);this.setImageSelected(a,b);return b};a.prototype.setImageSelected=function(a,b){a=this.$AdsImageCollection8(a,b);a&&this.inform("onChange")};a.prototype.setImagesSelected=function(a,b){var c;for(var d=0,e=a.length;d<e;d++)this.$AdsImageCollection8(a[d],b)&&(c=!0);c&&this.inform("onChange")};a.prototype.$AdsImageCollection8=function(a,b){__p&&__p();a=this.$AdsImageCollection3[a.getUniqueIdentifier()].image;this.assertHasImage(a);if(b===this.isImageSelected(a))return!1;b?this.$AdsImageCollection4.push(a):this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(b){return!a.equals(b)});this.$AdsImageCollection3[a.getUniqueIdentifier()].selected=b;if(this.$AdsImageCollection1>0)while(this.getSelectedImageCount()>this.$AdsImageCollection1){b=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[b.getUniqueIdentifier()].selected=!1}return!0};a.prototype.setMaxSelectableImages=function(a){for(var b=a;b<this.getSelectedImageCount();b++){var c=this.$AdsImageCollection4[b];this.$AdsImageCollection3[c.getUniqueIdentifier()].selected=!1}this.$AdsImageCollection1=a};a.prototype.deselectAllImages=function(){if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(a){this.$AdsImageCollection3[a.getUniqueIdentifier()].selected=!1},this);this.$AdsImageCollection4=[];this.inform("onChange")};a.prototype.clearImagesByViewBitmask=function(a){b("AdsImageCollectionViews").assertIsValidViewBitmask(a);var c=!1;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(d){var e=0!==(a&this.$AdsImageCollection3[d.getUniqueIdentifier()].view);e&&(c=!0,this.isImageSelected(d)?(this.$AdsImageCollection3[d.getUniqueIdentifier()].view=b("AdsImageCollectionViews").views.INVISIBLE,e=!1):delete this.$AdsImageCollection3[d.getUniqueIdentifier()]);return!e}.bind(this),this);c&&this.inform("onChange")};a.prototype.hasImage=function(a){return this.$AdsImageCollection3[a.getUniqueIdentifier()]!==void 0};a.prototype.hasImageInView=function(a,b){a=this.$AdsImageCollection3[a.getUniqueIdentifier()];return!!a&&(a.view&b)!==0};a.prototype.assertHasImage=function(a){this.hasImage(a)||g(0,3738)};a.prototype.getSelectedImages=function(){return this.$AdsImageCollection4.slice(0)};a.prototype.getSelectedImageCount=function(){return this.$AdsImageCollection4.length};a.prototype.hasSelectedImages=function(){return this.getSelectedImageCount()!==0};a.prototype.getImageByIndex=function(a){return this.$AdsImageCollection2[a]};a.prototype.getImageByUniqueID=function(a){return this.$AdsImageCollection3[a]&&this.$AdsImageCollection3[a].image};a.prototype.getImages=function(a){b("AdsImageCollectionViews").assertIsValidViewBitmask(a);return this.$AdsImageCollection2.filter(function(b){return 0!==(a&this.$AdsImageCollection3[b.getUniqueIdentifier()].view)}.bind(this),this)};a.prototype.getImageCount=function(a){return this.getImages(a).length};a.prototype.isEmpty=function(){return this.getImageCount(b("AdsImageCollectionViews").views.ALL)===0};e.exports=a}),null);
__d("AdsImageSecondaryActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({X:null});e.exports=a}),null);
__d("AdsImageUploadProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("immutable").Map()};c={initialState:a()};e.exports=c}),null);
__d("AdsImageUploadProvider",["AdsImageUploadProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsImageUploadProviderPlugin"),"AdsImageUploadProviderPlugin")}),null);
__d("AdsImageUploadLoadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){b=b.imageData;if(b.reasonForFail&&b.reasonForFail==="INVALID_FORMAT")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_FORMAT"},b));else if(b.reasonForFail&&b.reasonForFail==="INVALID_SIZE")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_SIZE"},b));return a.set(b.id,babelHelpers["extends"]({status:"LOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};e.exports=a}),null);
__d("AdsImageUploadLoadFailDataAction",["Laminar","AdsImageUploadLoadFailDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadLoadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.LOAD_FAIL");e.exports=a}),null);
__d("AdsImageUploadReadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"READ_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};e.exports=a}),null);
__d("AdsImageUploadReadFailDataAction",["Laminar","AdsImageUploadReadFailDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadReadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.READ_FAIL");e.exports=a}),null);
__d("AdsImageUploadUploadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"UPLOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};e.exports=a}),null);
__d("AdsImageUploadUploadFailDataAction",["Laminar","AdsImageUploadUploadFailDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadUploadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.UPLOAD_FAIL");e.exports=a}),null);
__d("AdsAccountImageSourceDataLoaderV2",["AdsAPIAdAccountFields","AdsAssetListBaseDataLoader","AdsGraphAPI","AdsImageDialogPanelUtils","AdsImageIDClasses","AdsImageSelectorV2Types","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsImageDialogPanelUtils").logEmptySearchResult,i=b("AdsImageIDClasses").AdsImageID,j=b("AdsImageSelectorV2Types").AdsImageSource,k=["hash"],l=25;c=babelHelpers.inherits(a,b("AdsAssetListBaseDataLoader"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.load=function(a,c){return this.sendRequest(a,c).then(function(c){var d;return{imageIDs:b("immutable").OrderedSet(c.data.map(function(b){return i.fromAcountAndHash(a.accountID,b.hash)})),uploadedImageIDs:b("immutable").OrderedSet([]),after:(c==null?void 0:(d=c.paging)==null?void 0:d.next)?c==null?void 0:(d=c.paging)==null?void 0:(c=d.cursors)==null?void 0:c.after:void 0}})}.bind(this),c}a.prototype.sendRequest=function(a,c){var d=a.accountID,f=a.minAspectRatio,g=a.maxAspectRatio,i=a.businessID,m=a.sortBy,n=a.nameQuery,o=a.minWidth;a=a.minHeight;var p=[];f!=null&&g!=null&&p.push({field:"aspect_ratio",operator:"IN_RANGE",value:[f,g]});f={date_format:"U",fields:k,filtering:p,limit:l,sort:m,name:n||null,minwidth:o||null,minheight:a||null,business_id:i,after:c};return b("AdsGraphAPI").get(e.id).adaccount(d).edge(b("AdsAPIAdAccountFields").ADIMAGES).batched().get(f).then(function(a){a.data.length===0&&n!==""&&h(j.ACCOUNT_IMAGE,n);return a})};e.exports=new a()}),null);
__d("AdsAccountImageSourceImageListProviderPlugin",["AdsAccountImageSourceDataLoaderV2","LoadObject","PaginationLoadObjectMap","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return new(b("PaginationLoadObjectMap"))({imageIDs:b("immutable").OrderedSet([]),uploadedImageIDs:b("immutable").OrderedSet([]),after:null},b("AdsAccountImageSourceDataLoaderV2").load,function(c,d){a(function(a){return a.update(c,function(e){return b("LoadObject").withValue({after:d.after,imageIDs:a.get(c).getValueEnforcing().imageIDs.union(d.imageIDs),uploadedImageIDs:a.get(c).getValueEnforcing().uploadedImageIDs.subtract(d.imageIDs)})})})},function(b,c){a(function(a){return a.update(b,function(a){return a.setError(c).done()})})})}};e.exports=a}),null);
__d("AdsAccountImageSourceImageListProvider",["AdsAccountImageSourceImageListProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAccountImageSourceImageListProviderPlugin"),"AdsAccountImageSourceImageListProviderPlugin")}),null);
__d("AdsImageUploadUploadSuccessDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"UPLOADED"},b))}a={reduce:function(a,b){return b.imageData!==void 0?g(a,b):a}};e.exports=a}),null);
__d("AdsAccountImagesQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({accountID:void 0,minAspectRatio:null,maxAspectRatio:null,sortBy:"",minWidth:0,minHeight:0,nameQuery:"",businessID:""});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsImageUploadUploadSuccessReducerPlugin",["AdsAccountImagesQuery","AdsImageIDClasses","LoadObject","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsImageID;a={reduce:function(a,c){__p&&__p();if(!b("gkx")("677847")||c.imageData==void 0)return a;var d=c.imageData.accountID;d=new(b("AdsAccountImagesQuery"))({accountID:d});c=g.fromAcountAndHash(c.imageData.accountID,c.imageData.hash);var e=a.get(d).getValueEnforcing(),f=e.imageIDs,h=e.after;e=e.uploadedImageIDs;if(e.has(c)||f.has(c))return a;c=b("immutable").OrderedSet([c]).union(e);e=b("LoadObject").withValue({after:h,imageIDs:f,uploadedImageIDs:c});return a.set(d,e)}};e.exports=a}),null);
__d("AdsImageUploadUploadSuccessDataAction",["Laminar","AdsImageUploadUploadSuccessDataReducerPlugin","AdsImageUploadProvider","AdsImageUploadUploadSuccessReducerPlugin","AdsAccountImageSourceImageListProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadUploadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{}),b("Laminar").__createReducer(b("AdsImageUploadUploadSuccessReducerPlugin"),b("AdsAccountImageSourceImageListProvider"),{})]},"IMAGE_UPLOAD.UPLOAD_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadDataLoader",["invariant","regeneratorRuntime","AdsDaoGraph","AdsImageUploadConstants","AdsImageUploadLoadFailDataAction","AdsImageUploadLoadSuccessDataAction","AdsImageUploadReadFailDataAction","AdsImageUploadReadSuccessDataAction","AdsImageUploadTypes","AdsImageUploadUploadFailDataAction","AdsImageUploadUploadSuccessDataAction","AdsImageValidation","ImageReader","SphericalImage","getDOMImageSize"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageUploadTypes").UploadFailedReason;function a(a){b("getDOMImageSize")(URL.createObjectURL(a.file),function(c,d){var e=c<a.minDimensions.width||d<a.minDimensions.height,f=b("AdsImageValidation").isValidFormat(a.file.type);if(c&&d&&f&&!e)b("AdsImageUploadLoadSuccessDataAction").dispatch({imageData:babelHelpers["extends"]({},a,{dimensions:{width:c,height:d}})},{line:"53",module:"AdsImageUploadDataLoader.js"});else{c=h.DEFAULT;!f?c=h.INVALID_FORMAT:e&&(c=h.INVALID_SIZE);b("AdsImageUploadLoadFailDataAction").dispatch({imageData:babelHelpers["extends"]({reasonForFail:c},a)},{line:"68",module:"AdsImageUploadDataLoader.js"})}})}function c(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:d=!1;h.prev=1;h.next=4;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(a.file));case 4:e=h.sent;e.isSpherical()&&(d=!0);h.next=10;break;case 8:h.prev=8,h.t0=h["catch"](1);case 10:h.prev=10;h.next=13;return b("regeneratorRuntime").awrap(b("ImageReader").promiseRead(a.file,b("AdsImageUploadConstants").maxWidth,b("AdsImageUploadConstants").maxHeight,d));case 13:c=h.sent;c!=null&&c!==""||g(0,2651);h.next=21;break;case 17:h.prev=17;h.t1=h["catch"](10);b("AdsImageUploadReadFailDataAction").dispatch({imageData:a},{line:"112",module:"AdsImageUploadDataLoader.js"});return h.abrupt("return");case 21:f=babelHelpers["extends"]({},a,{dataURI:c}),b("AdsImageUploadReadSuccessDataAction").dispatch({imageData:f},{line:"121",module:"AdsImageUploadDataLoader.js"});case 23:case"end":return h.stop()}},null,this,[[1,8],[10,17]])}function d(a){var c=a.dataURI.split(","),d=c[0];c=c[1];var e=function(c){b("AdsImageUploadUploadSuccessDataAction").dispatch({imageData:babelHelpers["extends"]({},a,c.images[a.file.name])},{line:"134",module:"AdsImageUploadDataLoader.js"})},f=function(c,d){c=babelHelpers["extends"]({},a,{errorMessage:d.error});b("AdsImageUploadUploadFailDataAction").dispatch({imageData:c},{line:"159",module:"AdsImageUploadDataLoader.js"})};b("AdsDaoGraph").add.imageForAccount.one(e,{accountId:a.accountID,bytes:c,encoding:d,handleError:f,name:a.file.name})}e.exports={startLoad:a,startRead:c,startUpload:d}}),null);
__d("AdsImageUploadLoadSuccessDataAction",["Laminar","AdsImageUploadLoadSuccessDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadLoadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadReadSuccessDataAction",["Laminar","AdsImageUploadReadSuccessDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadReadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.READ_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadLoadSuccessDataReducerPlugin",["AdsImageUploadDataLoader"],(function(a,b,c,d,e,f){"use strict";function g(a,c){c=c.imageData;b("AdsImageUploadDataLoader").startRead(c);return a.set(c.id,babelHelpers["extends"]({status:"READING"},c))}a={reduce:function(a,b){return g(a,b)}};e.exports=a}),null);
__d("AdsImageUploadReadSuccessDataReducerPlugin",["AdsImageUploadDataLoader"],(function(a,b,c,d,e,f){"use strict";function g(a,c){c=c.imageData;b("AdsImageUploadDataLoader").startUpload(c);return a.set(c.id,babelHelpers["extends"]({status:"UPLOADING"},c))}a={reduce:function(a,b){return g(a,b)}};e.exports=a}),null);
__d("AdsImageUploadStartDataReducerPlugin",["AdsImageUploadDataLoader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){var f=a;d.forEach(function(a){a={accountID:c,file:a,id:"image-upload-"+f.size,minDimensions:e};b("AdsImageUploadDataLoader").startLoad(a);f=f.set(a.id,babelHelpers["extends"]({status:"LOADING"},a))});return f}a={reduce:function(a,b){return b.files!=void 0&&b.minDimensions!=void 0&&b.accountID!=void 0?g(a,b.accountID,b.files,b.minDimensions):a}};e.exports=a}),null);
__d("AdsImageUploadStartDataAction",["Laminar","AdsImageUploadStartDataReducerPlugin","AdsImageUploadProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadStartDataReducerPlugin"),b("AdsImageUploadProvider"),{})]},"IMAGE_UPLOAD.START");e.exports=a}),null);
__d("AdsImageLoadNextPageDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"AdsImageAction.LOAD_NEXT_PAGE");e.exports=a}),null);
__d("AdsMediaPanelMessage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=b("joinClasses")("_3suv",a.className);return b("React").createElement("div",{className:c,style:a.style},b("React").createElement("div",{className:"_5y4t"},b("React").createElement(b("Image.react"),{src:a.icon}),b("React").createElement("div",{className:"_5y4u"},b("React").createElement("div",null,a.title),b("React").createElement("div",null,a.subtitle))))}e.exports=a}),null);
__d("AdsInstagramAccountPageLinkAccountDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"AdsInstagramAccounts.PAGE.LINK_ACCOUNT");e.exports=a}),null);
__d("AdsMediaPanelPageLinkInstagramAccountUnit.react",["cx","fbt","ix","ActionList.react","AdsCCCardComponent.react","AdsCCCategory","AdsCCCategoryConfig","AdsCCContentComponent.react","AdsCCLogContext.react","AdsCCMigrationCategory","AdsCCSingleCardComponent.react","AdsContentCardMigrationUtils","AdsImageLegacy","AdsInstagramAccountPageLinkAccountDataAction","AdsLoadState_LEGACY","AdsMediaLibrary.react","CenteredContainer.react","FDSSpinner.react","Grid.react","Image.react","Link.react","React","ScrollableArea.react","SUIBusinessTheme","SUINotice.react","SUINoticeGroup.react","SUIText.react","XPagesManagerSettingsController","XUIButton.react","XUITextInput.react","PageSettingsRef"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsCCCategoryConfig").CardLayout,l=b("AdsCCMigrationCategory").MigrationCategory,m=b("AdsContentCardMigrationUtils").getErrorHeader,n=b("AdsContentCardMigrationUtils").shouldRenderCC,o=b("Grid.react").GridItem;c=b("React").PropTypes;var p=30,q=32,r=36,s="https://instagram.com/accounts/password/reset/",t="https://www.facebook.com/business/help/898752960195806";d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={password:"",username:""},this.$9=function(event){this.setState({password:event.target.value})}.bind(this),this.$8=function(event){this.setState({username:event.target.value})}.bind(this),this.$10=function(){this.props.pageID!=null&&this.props.pageID!==""&&b("AdsInstagramAccountPageLinkAccountDataAction").dispatch({data:{pageID:this.props.pageID,password:this.state.password,username:this.state.username}},{line:"403",module:"AdsMediaPanelPageLinkInstagramAccountUnit.react.js"})}.bind(this),c}a.prototype.render=function(){if(this.props.instagramAccount&&this.props.instagramAccount.is_published)return this.$1();else if(this.props.instagramAccountLoadState===b("AdsLoadState_LEGACY").LOADING)return this.$2();else return this.$3()};a.prototype.$2=function(){return b("React").createElement(b("ScrollableArea.react"),{height:this.props.totalHeight},this.$4(),b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},this.$5(),b("React").createElement(b("CenteredContainer.react"),{className:"_hrr",horizontal:!0,vertical:!0},b("React").createElement(b("FDSSpinner.react"),null))))};a.prototype.$3=function(){return b("React").createElement(b("ScrollableArea.react"),{height:this.props.totalHeight},this.$4(),b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},this.$5(),this.props.pageID!=null&&this.props.pageID!==""?this.$6():null))};a.prototype.$1=function(){var a=this.$4()?this.props.totalHeight-q-r:this.props.totalHeight-q,c=this.props.instagramAccountLoadState===b("AdsLoadState_LEGACY").LOADING?b("React").createElement(b("FDSSpinner.react"),null):this.$7();return b("React").createElement("div",{style:{height:this.props.totalHeight}},this.$4(),b("React").createElement(b("AdsMediaLibrary.react"),babelHelpers["extends"]({},this.props,{height:a})),b("React").createElement("div",{className:"_hrs"},c))};a.prototype.$5=function(){var a=h._("Connect an Instagram Account"),c=null;this.props.instagramAccount?c=h._("Log into Instagram to select images for your Facebook ads. The Instagram account you add will represent your business in your Instagram ads. You can only connect one Instagram account to your Page."):c=b("React").createElement("div",null,h._("Log into an Instagram account to select Instagram images to use in your Facebook ads.")," ",b("React").createElement(b("Link.react"),{href:t,target:"_blank"},h._("Learn more")),".");return b("React").createElement(b("CenteredContainer.react"),{className:"_2pie",horizontal:!0},b("React").createElement(b("Image.react"),{src:i("22909")}),b("React").createElement("div",{className:"_hru"},a),b("React").createElement("div",{className:"_hrx"},c))};a.prototype.$6=function(){return b("React").createElement(b("Grid.react"),{className:"_3-8k",cols:2,spacing:"prl pts"},b("React").createElement(o,null,b("React").createElement(b("XUITextInput.react"),{className:"_hry",height:"tall",maxLength:p,placeholder:h._("Username"),value:this.state.username,onChange:this.$8})),b("React").createElement(o,null,b("React").createElement(b("XUITextInput.react"),{className:"_hry",height:"tall",placeholder:h._("Password"),type:"password",value:this.state.password,onChange:this.$9})),b("React").createElement(o,null,b("React").createElement(b("SUIText.react"),{className:"lfloat",size:"meta1",theme:b("SUIBusinessTheme")},b("React").createElement(b("Link.react"),{href:s,target:"_blank"},h._("Forgot password?")))),b("React").createElement(o,null,b("React").createElement(b("XUIButton.react"),{className:"rfloat",disabled:this.state.username===""||this.state.password==="",label:h._("Connect"),use:"confirm",onClick:this.$10})))};a.prototype.$7=function(){var a=this.props.instagramAccount?"@"+this.props.instagramAccount.username:"",c;if(this.props.pageID!=null&&this.props.pageID!==""){var d=b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","instagram_ads").setString("ref",b("PageSettingsRef").INSTAGRAM_ADS).getURI();c=b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")},b("React").createElement(b("Link.react"),{href:d,target:"_blank"},h._("Edit")))}return b("React").createElement(b("ActionList.react"),{className:"rfloat"},b("React").createElement(b("SUIText.react"),{shade:"dark",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a),c)};a.prototype.$4=function(){__p&&__p();var a=this.props.pageLinkOrUnlinkAccountError,c=a.length;if(c===0)return null;if(n(l.ERROR)){if(c===1)return b("React").createElement(b("AdsCCSingleCardComponent.react"),{category:b("AdsCCCategory").ERROR,layout:k.HORIZONTAL,messageID:"editorLoadingError",textData:[{data:{text:a[0]},type:"PARAGRAPH"}]});c=m(c);return b("React").createElement(b("AdsCCLogContext.react"),null,b("React").createElement(b("AdsCCCardComponent.react"),{category:b("AdsCCCategory").ERROR,headerData:{type:"TEXT",data:{text:c}},layout:k.HORIZONTAL,messageID:"pageLinkOrUnlinkAccountError_stack"},a.map(function(a,c){return b("React").createElement(b("AdsCCContentComponent.react"),{key:"pageLinkOrUnlinkAccountError_stack_"+c,messageID:"pageLinkOrUnlinkAccountError_stack_"+c,textData:[{data:{text:a},type:"PARAGRAPH"}]})})))}else return b("React").createElement(b("SUINoticeGroup.react"),{theme:b("SUIBusinessTheme")},a.map(function(a,c){return b("React").createElement(b("SUINotice.react"),{key:c,type:"error"},a)}))};a.propTypes={imageList:c.arrayOf(c.instanceOf(b("AdsImageLegacy"))).isRequired,instagramAccount:c.shape({id:c.string.isRequired,is_published:c.bool.isRequired,profile_pic:c.string.isRequired,username:c.string.isRequired}),instagramAccountLoadState:c.oneOf(Object.keys(b("AdsLoadState_LEGACY"))).isRequired,isClickEnabled:c.bool.isRequired,pageID:c.string,pageLinkOrUnlinkAccountError:c.arrayOf(c.string).isRequired,totalHeight:c.number.isRequired};a.defaultProps={imageList:[],instagramAccount:null,instagramAccountLoadState:b("AdsLoadState_LEGACY").NOT_LOADED,pageLinkOrUnlinkAccountError:[]};e.exports=a}),null);
__d("AdsMediaPanelViewFilterBar.react",["cx","fbt","AdsImageCollectionViews","Link.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){if(a.view===b("AdsImageCollectionViews").views.INSTAGRAM&&!this.props.instagramAccountLinked)return b("React").createElement(m,{key:a.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:!1,viewFilter:a,onViewFilterChoose:this.props.onViewFilterChoose});else return b("React").createElement(l,{key:a.view||"ALL",selectedFilter:this.props.viewFilter,showImageCount:!0,viewFilter:a,onViewFilterChoose:this.props.onViewFilterChoose})}.bind(this),c}a.prototype.render=function(){var a="_5y6l"+(this.props.useMediaPanelRedesign?" _2wrx":"");if(this.props.availableViewFilters.length===0)return b("React").createElement("div",{className:a});a="_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"");return b("React").createElement("div",{className:a},this.props.availableViewFilters.map(this.$1))};a.propTypes={availableViewFilters:c.array.isRequired,instagramAccountLinked:c.bool.isRequired,viewFilter:c.object.isRequired,onViewFilterChoose:c.func};f=babelHelpers.inherits(l,b("React").Component);j=f&&f.prototype;function l(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter)}.bind(this),b}l.prototype.render=function(){var a=this.props.showImageCount?b("React").createElement("span",{className:"_5y6p"},this.props.viewFilter.count):null;return b("React").createElement(b("Link.react"),{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?" _5y6o":""),onClick:this.$1},b("React").createElement("span",null,b("React").createElement("span",null,this.props.viewFilter.text),a))};g=babelHelpers.inherits(m,b("React").Component);k=g&&g.prototype;function m(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY)},this.renderLayers=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.$1,position:"above",shown:this.state.nuxShown,onCloseButtonClick:this.$2,key:"nux_above"},h._("Connect an Instagram account to use its photos in your ads."))}.bind(this),this.$1=function(){return this.refs.instagram_view_filter}.bind(this),this.$2=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").BOOSTED_COMPONENT_INSTAGRAM_LIBRARY),this.setState({nuxShown:!1})}.bind(this),c}m.prototype.render=function(){return b("React").createElement("span",null,b("React").createElement(l,babelHelpers["extends"]({},this.props,{ref:"instagram_view_filter"})),this.renderLayers())};e.exports=a}),null);
__d("AdsMediaPanelViewFilters",["fbt","AdsImageCollectionViews"],(function(a,b,c,d,e,f,g){"use strict";a=[{view:b("AdsImageCollectionViews").views.LIBRARY,text:g._("Ad Images")},{view:b("AdsImageCollectionViews").views.INSTAGRAM,text:g._("Instagram Images")},{view:b("AdsImageCollectionViews").views.PAGE,text:g._("Page Images")},{view:b("AdsImageCollectionViews").views.SCRAPED,text:g._("Website Images")}];var h=0;a.forEach(function(a){h|=a.view});c={view:h,text:g._("All")};a.unshift(c);e.exports={filters:a,all:c}}),null);
__d("AdsShutterstockEndReachedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"SHUTTERSTOCK.END_REACHED");e.exports=a}),null);
__d("AdsShutterstockSearchLoader",["AdsGraphAPI"],(function(a,b,c,d,e,f){"use strict";var g=25;a={loadSearchResults:function(a,c){return c?c():b("AdsGraphAPI").get(e.id).search("adstockimage").get({limit:g,locale:"user",q:a})}};e.exports=a}),null);
__d("AdsShutterstockSearchResultsErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"SHUTTERSTOCK.SEARCH_RESULTS_ERROR");e.exports=a}),null);
__d("AdsShutterstockSearchResultsLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"SHUTTERSTOCK.SEARCH_RESULTS_LOADED");e.exports=a}),null);
__d("AdsShutterstockSearchDispatcher",["AdsImageLegacy","AdsShutterstockSearchLoader","AdsShutterstockSearchResultsErrorDataAction","AdsShutterstockSearchResultsLoadedDataAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertStockImages:function(a){return a.map(function(a){return new(b("AdsImageLegacy"))({previewHeight:a.preview.height,previewUrl:a.preview.url,previewWidth:a.preview.width,stockImageID:a.id,thumbHeight:a.thumbnail.height,thumbWidth:a.thumbnail.width,url:a.thumbnail.url})})},loadSearchResults:function(a,c){var d=Date.now();b("promiseDone")(b("AdsShutterstockSearchLoader").loadSearchResults(a,c),function(c){var e=Date.now();e=e-d;var f={images:this.convertStockImages(c.data),next:null};c.next&&(f.next=c.next.bind(c));b("AdsShutterstockSearchResultsLoadedDataAction").dispatch({data:{query:a,results:f,duration:e}},{line:"68",module:"AdsShutterstockSearchDispatcher.js"})}.bind(this),function(c){b("AdsShutterstockSearchResultsErrorDataAction").dispatch({data:{error:c,query:a}},{line:"77",module:"AdsShutterstockSearchDispatcher.js"})})}};e.exports=a}),null);
__d("AdsShutterstockSearchResultsErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SHUTTERSTOCK.SEARCH_RESULTS_ERROR";e.exports={actionType:a}}),null);
__d("AdsShutterstockSearchResultsLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SHUTTERSTOCK.SEARCH_RESULTS_LOADED";e.exports={actionType:a}}),null);
__d("AdsShutterstockSearchStore",["AdsDataAtom","AdsShutterstockSearchDispatcher","AdsShutterstockSearchResultsErrorDataActionFlux","AdsShutterstockSearchResultsLoadedDataActionFlux","FluxStore","LoadObject","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom")),this.$AdsShutterstockSearchStoreClass1=new Map(),this.$AdsShutterstockSearchStoreClass2=new Map()}a.prototype.__getActionTypes=function(){return h?[b("AdsShutterstockSearchResultsErrorDataActionFlux").actionType,b("AdsShutterstockSearchResultsLoadedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsShutterstockSearchResultsLoadedDataActionFlux").actionType:var c=this.$AdsShutterstockSearchStoreClass1.get(a.data.query),d=null;c&&c.hasValue()?d=c.getValueEnforcing().images.concat(a.data.results.images):d=b("immutable").OrderedSet(a.data.results.images);this.$AdsShutterstockSearchStoreClass3(a.data.results.images);this.$AdsShutterstockSearchStoreClass1.set(a.data.query,c.setValue(babelHelpers["extends"]({},a.data.results,{images:d})).done());this.__emitChange();break;case b("AdsShutterstockSearchResultsErrorDataActionFlux").actionType:this.$AdsShutterstockSearchStoreClass1.set(a.data.query,this.$AdsShutterstockSearchStoreClass1.get(a.data.query).setError(a.data.error).done());this.__emitChange();break}};a.prototype.$AdsShutterstockSearchStoreClass3=function(a){a.forEach(function(a){var c=b("nullthrows")(a.getStockImageID());this.$AdsShutterstockSearchStoreClass2.set(c,a)}.bind(this))};a.prototype.getSearchResults=function(a,c){var d=this.$AdsShutterstockSearchStoreClass1.get(a);if(!d)d=b("LoadObject").loading(),this.$AdsShutterstockSearchStoreClass1.set(a,d),b("AdsShutterstockSearchDispatcher").loadSearchResults(a);else if(d&&d.hasValue()&&!d.hasOperation()&&d.getValueEnforcing().images.size<=c){c=d.getValueEnforcing().next;c&&(d=d.loading(),this.$AdsShutterstockSearchStoreClass1.set(a,d),b("AdsShutterstockSearchDispatcher").loadSearchResults(a,c))}return d};a.prototype.getShutterstockImageByID=function(a){return this.$AdsShutterstockSearchStoreClass2.get(a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsShutterstockSearchTextChangedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"SHUTTERSTOCK.SEARCH_TEXT_CHANGED");e.exports=a}),null);
__d("AdsShutterstockEndReachedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SHUTTERSTOCK.END_REACHED";e.exports={actionType:a}}),null);
__d("AdsShutterstockSearchTextChangedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SHUTTERSTOCK.SEARCH_TEXT_CHANGED";e.exports={actionType:a}}),null);
__d("AdsShutterstockViewStore",["AdsDataAtom","AdsShutterstockEndReachedDataActionFlux","AdsShutterstockSearchDoneDataActionFlux","AdsShutterstockSearchTextChangedDataActionFlux","FluxStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom")),this.$AdsShutterstockViewStoreClass3=new Map()}a.prototype.__getActionTypes=function(){return h?[b("AdsShutterstockEndReachedDataActionFlux").actionType,b("AdsShutterstockSearchDoneDataActionFlux").actionType,b("AdsShutterstockSearchTextChangedDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsShutterstockSearchTextChangedDataActionFlux").actionType:this.$AdsShutterstockViewStoreClass1=a.data.searchText;this.__emitChange();break;case b("AdsShutterstockSearchDoneDataActionFlux").actionType:this.$AdsShutterstockViewStoreClass2=a.data.searchText;this.$AdsShutterstockViewStoreClass3.get(this.$AdsShutterstockViewStoreClass2)||this.$AdsShutterstockViewStoreClass3.set(this.$AdsShutterstockViewStoreClass2,1);this.__emitChange();break;case b("AdsShutterstockEndReachedDataActionFlux").actionType:var c=this.$AdsShutterstockViewStoreClass3.get(a.data.searchText);c!=null&&c>0?this.$AdsShutterstockViewStoreClass3.set(a.data.searchText,2):this.$AdsShutterstockViewStoreClass3.set(a.data.searchText,c+1);this.__emitChange();break}};a.prototype.getNumPagesForQuery=function(a){a=this.$AdsShutterstockViewStoreClass3.get(a);return a||0};a.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass1};a.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass2};a.prototype.isTyping=function(){var a=this.$AdsShutterstockViewStoreClass1!==null&&this.$AdsShutterstockViewStoreClass1!==void 0;return a&&this.$AdsShutterstockViewStoreClass1!==this.$AdsShutterstockViewStoreClass2};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsShutterstockLibrary.react",["cx","fbt","ix","AdsFluxContainer","AdsMediaLibrary.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsShutterstockEndReachedDataAction","AdsShutterstockSearchBar.react","AdsShutterstockSearchDoneDataAction","AdsShutterstockSearchStore","AdsShutterstockSearchTextChangedDataAction","AdsShutterstockUseGuidelines.react","AdsShutterstockViewStore","React","ShutterstockApiStatus","adsFormatErrorMessage","debounce","keyMirror","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=25,l=b("keyMirror")({ERROR:null,HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),m=b("debounce")(function(a){return b("AdsShutterstockSearchDoneDataAction").dispatch({data:{searchText:a}},{line:"55",module:"AdsShutterstockLibrary.react.js"})},200);d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$4=function(){var a=this.$2();a=a.state;a===l.HAS_MORE&&b("setImmediate")(function(){return b("AdsShutterstockEndReachedDataAction").dispatch({data:{searchText:this.state.query}},{line:"312",module:"AdsShutterstockLibrary.react.js"})}.bind(this))}.bind(this),c}a.getStores=function(){return[b("AdsShutterstockSearchStore"),b("AdsShutterstockViewStore")]};a.calculateState=function(a,c){a=b("AdsShutterstockViewStore").getDelayedText()||c.defaultSearchText;c=b("AdsShutterstockViewStore").getNumPagesForQuery(a)||1;var d=null;a&&(d=b("AdsShutterstockSearchStore").getSearchResults(a,k*c));return{currentSearchText:b("AdsShutterstockViewStore").getCurrentText(),isTyping:b("AdsShutterstockViewStore").isTyping(),query:a,results:d}};a.prototype.$1=function(a,c,d){return b("React").createElement(b("AdsMediaPanelMessage.react"),{icon:a,style:{height:this.props.imageContainerHeight},subtitle:c,title:d})};a.prototype.$2=function(){var a=this.state.results,b,c=[];!a?this.state.isTyping?b=l.LOADING_INITIAL:b=l.NO_REQUEST:a.hasError()?b=l.ERROR:!a.hasValue()?b=l.LOADING_INITIAL:!a.getValueEnforcing().next?(c=a.getValueEnforcing().images.toArray(),c.length===0?b=l.NO_RESULTS:b=l.NO_MORE_RESULTS):(c=a.getValueEnforcing().images.toArray(),a.hasOperation()?b=l.LOADING_MORE:b=l.HAS_MORE);return{state:b,imageList:c}};a.prototype.$3=function(){__p&&__p();var a=this.$2(),c=a.state;a=a.imageList;switch(c){case l.NO_REQUEST:return this.$1(i("22542"),h._("Any images you select will be saved in your image library."),h._("Search for professional images to use in your ads."));case l.NO_RESULTS:return this.$1(i("22544"),h._("Try using other keywords."),h._("There aren't any images that match what you searched."));case l.ERROR:return this.$1(i("22544"),null,h._("An error occurred while searching for stock images: {error message}",[h._param("error message",b("adsFormatErrorMessage")(this.state.results.error))]));default:var d=c===l.HAS_MORE||c===l.LOADING_MORE;d=b("React").createElement(b("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:d,imagesLoaded:c!==l.LOADING_INITIAL});c=c===l.LOADING_INITIAL||this.state.isTyping;return b("React").createElement(b("AdsMediaLibrary.react"),{disableTooSmallImages:this.props.disableTooSmallImages,height:this.props.imageContainerHeight,imageList:a,imageSpec:this.props.imageSpec,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:c,scrollingAreaFooter:d,selectedImageList:this.props.selectedImageList,onEndReached:this.$4,onImageClick:this.props.onImageClick},b("React").createElement(b("AdsShutterstockUseGuidelines.react"),{className:"_3cl1",dialogPosition:"left"}))}};a.prototype.render=function(){return!b("ShutterstockApiStatus").available?b("React").createElement(b("AdsMediaPanelMessage.react"),{className:this.props.className,icon:i("22544"),style:{height:this.props.imageContainerHeight},subtitle:h._("Please try again later."),title:h._("Sorry, stock images aren't available right now.")}):b("React").createElement("div",{className:this.props.className},b("React").createElement(b("AdsShutterstockSearchBar.react"),{searchText:this.state.currentSearchText,onTextChange:this.$5}),this.$3())};a.prototype.$5=function(a){b("AdsShutterstockSearchTextChangedDataAction").dispatch({data:{searchText:a}},{line:"320",module:"AdsShutterstockLibrary.react.js"}),m(a)};a.defaultProps={disableTooSmallImages:!1,isClickEnabled:!0,selectedImageList:[]};a.propTypes={defaultSearchText:c.string,disableTooSmallImages:c.bool,imageContainerHeight:c.number.isRequired,imageSpec:c.shape({minWarningWidth:c.number.isRequired,minWarningHeight:c.number.isRequired}),isClickEnabled:c.bool.isRequired,selectedImageList:c.array.isRequired,onImageClick:c.func.isRequired};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsMediaPanel.react",["cx","fbt","ix","Promise","AdsArrowedCarouselEnhanced.react","AdsEditInlinePostWarning.react","AdsFluxContainer","AdsImageCollectionViews","AdsImageDimensionDataLoader","AdsImageLoadNextPageDataAction","AdsImageSecondaryActionTypes","AdsImageStore","AdsImageUploadRemoveErrorsDataAction","AdsImageValidation","AdsMediaLibrary.react","AdsMediaPanelFilters","AdsMediaPanelHeader.react","AdsMediaPanelImageBox.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaPanelMessage.react","AdsMediaPanelPageLinkInstagramAccountUnit.react","AdsMediaPanelTabs","AdsMediaPanelViewFilterBar.react","AdsMediaPanelViewFilters","AdsShutterstockLibrary.react","AdsTestIDs","BootloadedComponent.react","Event","FDSSpinner.react","JSResource","React","ReactDOM","SUIThemeContainer.react","emptyFunction","getViewportDimensions","joinClasses","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=49,l=25,m=84,n=144,o=215,p=332,q=658,r=523,s=100,t=60,u=60,v=50,w=0,x=12,y=0,z=0,A=100,B=80,C=(c={},c[b("AdsMediaPanelTabs").UPLOAD]={className:"_5xhy",title:h._("Upload Images"),renderer:"_renderUploadTab"},c[b("AdsMediaPanelTabs").LIBRARY]={className:"_5xh-",title:h._("Image Library"),renderer:"_renderLibraryTab"},c[b("AdsMediaPanelTabs").STOCK]={className:"_5xh_",title:h._("Stock Images"),renderer:"_renderStockTab"},c);d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={canFetchNextLibraryPage:!1,fetchingNextLibraryPage:!1,filterSet:null,multiImageRowHeight:0,selectedTab:this.props.initialSelectedTab||b("AdsMediaPanelTabs").LIBRARY,uploadedImages:[],viewFilter:b("AdsMediaPanelViewFilters").all},this.$8=function(a){this.setState({selectedTab:a}),this.props.onTabSwitch(a)}.bind(this),this.$14=function(a){__p&&__p();b("promiseDone")(b("Promise").all(a.map(function(a){return b("AdsImageDimensionDataLoader").getDimensionByURL(b("nullthrows")(a.getUrl())).then(function(b){var c=b.width;b=b.height;return a.clone({width:c,height:b})})})),function(a){this.props.uploadHandlers.onEnd&&this.props.uploadHandlers.onEnd(a);if(!a.length)return;var c=this.state.uploadedImages||[],d=this.$15(c,a);c=c.concat(d);this.setState({uploadedImages:c});this.props.maxSelectedImages===1&&this.setState({selectedTab:b("AdsMediaPanelTabs").LIBRARY,filterSet:null},function(){return this.scrollToImage(a[0])}.bind(this))}.bind(this))}.bind(this),this.$17=function(){this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage&&b("AdsImageLoadNextPageDataAction").dispatch({accountID:this.props.accountID},{line:"720",module:"AdsMediaPanel.react.js"})}.bind(this),this.$20=function(a){if(a.view===this.state.viewFilter.view)return;this.setState({viewFilter:a})}.bind(this),this.$19=function(a){this.setState({filterSet:a})}.bind(this),this.$21=function(a){this.props.imageCollection.addImagesToBack_UNSAFE([a],b("AdsImageCollectionViews").views.STOCK);var c=this.props.imageHandlers.onClick;c&&c.call(this.props.imageHandlers,a)}.bind(this),c}a.getStores=function(){return[b("AdsImageStore")]};a.calculateState=function(a,c){return babelHelpers["extends"]({},a,{canFetchNextLibraryPage:b("AdsImageStore").hasCursorForNextPage(c.accountID),fetchingNextLibraryPage:b("AdsImageStore").isFetchingNextPage(c.accountID)})};a.prototype.UNSAFE_componentWillMount=function(){this.$2(b("Event").listen(window,"resize",function(){return this.forceUpdate()}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$3(),this.$2(null)};a.prototype.componentDidMount=function(){this.$4()};a.prototype.componentDidUpdate=function(){this.$4()};a.prototype.$5=function(){var a=this.props.useMediaPanelRedesign?m:n,c=0,d=0,e=0;this.props.useMediaPanelRedesign?(c=k+l,this.props.maxSelectedImages>1&&(c+=a),d=o+c,e=r):(d=o+k,e=p+k,c=q-e);a=b("getViewportDimensions")().height;a=a-s-c;return Math.max(d,Math.min(e,a))};a.prototype.$3=function(){var a=this;a.$1!=null&&a.$1.remove()};a.prototype.$2=function(a){var b=this;b.$1=a};a.prototype.$6=function(a){return this.props.tabKeys.indexOf(a)!==-1};a.prototype.$7=function(){var a=this.state.multiImageRowHeight===0?0:this.state.multiImageRowHeight/A,c=null;if(this.props.maxSelectedImages>1){var d=this.props.selectedImageList.map(function(c,d){return b("React").createElement(b("AdsMediaPanelImageBox.react"),{alt:h._("Selected Image {number} of {total}",[h._param("number",d+1),h._param("total",this.props.selectedImageList.length)]),buyingTypes:this.props.buyingTypes,className:"_16es",decoration:"removable",image:c,imageSpec:this.props.imageSpec,key:c.getUniqueIdentifier(),scaleImageFactor:a,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,c,b("AdsImageSecondaryActionTypes").X)})}.bind(this)),e="_16et _5xi2"+(this.props.useMediaPanelRedesign?" _2xcc":"")+" clearfix";c=b("React").createElement("div",{className:e,"data-testid":b("AdsTestIDs").SELECTED_IMAGE_PANEL},b("React").createElement("div",{className:"_16eu"},b("React").createElement("h2",{className:"_5xht"},h._("Selected Images")),b("React").createElement("span",{className:"_5xi4"},h._({"*":{"*":"({images} of {max-images})"}},[h._param("images",this.props.selectedImageList.length,[0]),h._param("max-images",this.props.maxSelectedImages,[0])]))),b("React").createElement("div",{className:"_3k2_",ref:"selectedImagesCarouselContainer"},b("React").createElement(b("AdsArrowedCarouselEnhanced.react"),{maxChangeAmount:6},d)))}return c};a.prototype.render=function(){C[b("AdsMediaPanelTabs").UPLOAD].title=h._({"*":"Upload Images","_1":"Upload Image"},[h._plural(this.props.maxSelectedImages)]);var a=this.props.tabKeys.map(function(a){return{tabKey:a,className:C[a].className,title:C[a].title}});a=b("React").createElement("div",{"data-testid":b("AdsTestIDs").IMAGE_LIBRARY},b("React").createElement(b("AdsMediaPanelHeader.react"),{selectedTab:this.state.selectedTab,tabConfigs:a,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onTabSwitch:this.$8}),this.$9(),this.$10(),this.$7());if(this.props.theme)return b("React").createElement(b("SUIThemeContainer.react"),{theme:this.props.theme},a);else return a};a.prototype.$10=function(){return b("React").createElement(b("AdsEditInlinePostWarning.react"),{className:"_5zio",message:this.props.adEditWarningMessage})};a.prototype.$9=function(){var a=C[this.state.selectedTab],c=b("joinClasses")(a.className,"_5xhx _5xhw");switch(a.renderer){case"_renderUploadTab":return this.$11(this.state.selectedTab,c);case"_renderLibraryTab":return this.$12(this.state.selectedTab,c);case"_renderStockTab":return this.$13(this.state.selectedTab,c)}return null};a.prototype.$11=function(a,c){b("AdsImageUploadRemoveErrorsDataAction").dispatch({},{line:"552",module:"AdsMediaPanel.react.js"});var d=b("React").createElement("div",{className:"_2z5_"},b("React").createElement(b("FDSSpinner.react"),null));return b("React").createElement("div",{className:c,key:a},b("React").createElement(b("BootloadedComponent.react"),{accountId:this.props.accountID,allowMultiImage:this.props.allowMultiImage||this.props.maxSelectedImages>1,bootloadLoader:b("JSResource")("AdsUploadImageBox.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:d,height:this.$5(),imageSpec:this.props.imageSpec,useMediaPanelRedesign:this.props.useMediaPanelRedesign,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this.$14,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess}))};a.prototype.$16=function(a){__p&&__p();var c=this.props,d=c.igSpecificImageSpec,e=c.imageSpec;c=this.state.uploadedImages;a=this.$15(c,a);var f=new Map();a.forEach(function(a,b){return f.set(a,b)});a=a.sort(function(a,c){var g=0,h=0;d&&(g+=b("AdsImageValidation").isWarningSize(a,d)?1:0,h+=b("AdsImageValidation").isWarningSize(c,d)?1:0);g+=e&&b("AdsImageValidation").isWarningSize(a,e)?1:0;h+=e&&b("AdsImageValidation").isWarningSize(c,e)?1:0;if(g>h)return-1;else if(g<h)return 1;else return b("nullthrows")(f.get(a))-b("nullthrows")(f.get(c))});return c?c.concat(a):a};a.prototype.$15=function(a,b){if(!a)return b;var c=new Set();a.forEach(function(a){return c.add(a.getUniqueIdentifier())});return b.filter(function(a){return!c.has(a.getUniqueIdentifier())})};a.prototype.$18=function(){return this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages};a.prototype.$12=function(a,c){__p&&__p();var d=this.props.imageCollection,e=d.getImageCount(this.state.viewFilter.view),f=d.getImages(this.state.viewFilter.view);this.props.disableTooSmallImages&&(f=this.$16(f));this.props.filters!=null&&this.state.filterSet!=null&&(f=b("AdsMediaPanelFilters").applyImageFilters(f,this.state.filterSet));var g=this.$17,j=null;(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)&&(j=b("React").createElement(b("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded}));this.state.viewFilter.view===b("AdsImageCollectionViews").views.PAGE&&(j=b("React").createElement(b("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.props.pageFetchingNextPage,imagesLoaded:this.props.pageImagesLoaded}),g=this.props.pageOnEndReached);var l=null;this.props.useMediaPanelRedesign?l={containerPadding:y,maxImageHeight:A,minImageHeight:B,minImageWidth:w,marginPerImage:z}:l={containerPadding:t,maxImageHeight:u,minImageHeight:v,minImageWidth:w,marginPerImage:x};var m=this.$5()-k,n;if(this.state.viewFilter.view===b("AdsImageCollectionViews").views.INSTAGRAM)n=b("React").createElement(b("AdsMediaPanelPageLinkInstagramAccountUnit.react"),babelHelpers["extends"]({},this.props,{imageList:f,isClickEnabled:this.$18(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeConstraints:l,photoArrangeEnabled:!0,ref:"imageLib",scrollingAreaFooter:j,totalHeight:m,onEndReached:g,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));else if(e>0||!this.props.userImagesLoaded)n=b("React").createElement(b("AdsMediaLibrary.react"),{buyingTypes:this.props.buyingTypes,disableTooSmallImages:this.props.disableTooSmallImages,height:m,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:f,imageSpec:this.props.imageSpec,isClickEnabled:this.$18(),isLoadingInitial:!this.props.userImagesLoaded,key:a,photoArrangeConstraints:l,photoArrangeEnabled:!0,ref:"imageLib",scrollingAreaFooter:j,selectedImageList:this.props.selectedImageList,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onEndReached:g,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});else{e=this.$6(b("AdsMediaPanelTabs").STOCK)?h._("Upload images or try using professional stock images at no extra cost."):h._("Upload images to use them for your ads.");n=b("React").createElement(b("AdsMediaPanelMessage.react"),{className:c,icon:i("22542"),style:{height:String(m)+"px"},subtitle:e,title:h._("There aren't any images in your library.")})}f=b("AdsMediaPanelViewFilters").filters.map(function(a){return babelHelpers["extends"]({},a,{count:d.getImageCount(a.view)})}).filter(function(a){return a.view!==b("AdsImageCollectionViews").views.INSTAGRAM&&a.count>0||a.view===b("AdsImageCollectionViews").views.INSTAGRAM&&this.props.useInstagramImageCreative}.bind(this));a=this.props.filters!=null?b("React").createElement("div",{className:"_5y6m"+(this.props.useMediaPanelRedesign?" _2wrx":"")},b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("AdsMediaPanelFilterBar.react").__setRef("AdsMediaPanel.react"),bootloadPlaceholder:b("React").createElement(b("FDSSpinner.react"),null),filterSet:this.state.filterSet,mediaType:"image",onChange:this.$19})):null;return b("React").createElement("div",{className:c},b("React").createElement(b("AdsMediaPanelViewFilterBar.react"),{availableViewFilters:f,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,useMediaPanelRedesign:this.props.useMediaPanelRedesign,viewFilter:this.state.viewFilter,onViewFilterChoose:this.$20}),a,n)};a.prototype.$13=function(a,c){return b("React").createElement(b("AdsShutterstockLibrary.react"),{className:c,defaultSearchText:this.props.defaultStockSearchText,disableTooSmallImages:this.props.disableTooSmallImages,imageContainerHeight:this.$5()-k,imageSpec:this.props.imageSpec,isClickEnabled:this.$18(),key:a,selectedImageList:this.props.selectedImageList,onImageClick:this.$21})};a.prototype.$4=function(){if(this.props.maxSelectedImages>1){var a=b("ReactDOM").findDOMNode(this.refs.selectedImagesCarouselContainer);this.setState({multiImageRowHeight:a.offsetHeight})}};a.prototype.scrollToImage=function(a){this.refs.imageLib.scrollToImage(a)};a.defaultProps={adEditWarningMessage:null,allowMultiImage:!1,defaultStockSearchText:"",disableTooSmallImages:!1,imageHandlers:{onClick:b("emptyFunction"),onDoubleClick:b("emptyFunction"),onSecondaryAction:b("emptyFunction")},maxSelectedImages:1,onTabSwitch:b("emptyFunction"),pageFetchingNextPage:!1,pageImagesLoaded:!0,pageOnEndReached:b("emptyFunction"),selectedImageList:[],uploadHandlers:{},useMediaPanelRedesign:!1,userImagesLoaded:!0,validateImageFormat:!0,validateImageSize:!0};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsImageDialog.react",["cx","invariant","Promise","AdImageSpecsUtils","AdsImageCollection","AdsImageCollectionViews","AdsImageLegacy","AdsImageSecondaryActionTypes","AdsImageUploadStartDataAction","AdsImageUploadUploadSuccessDataAction","AdsMediaPanel.react","AdsMediaPanelTabs","AdsShutterstockImageByIDStore","AdsTestIDs","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogConfirmButton.react","BUIAdoptionHorizontalLayout.react","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","LayerRemoveOnHide","React","XUIDialog.react","XUIDialogFooter.react","deepFreezeValue","emptyFunction","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;c=b("React").PropTypes;var k=[b("AdsMediaPanelTabs").UPLOAD,b("AdsMediaPanelTabs").LIBRARY,b("AdsMediaPanelTabs").STOCK],l={LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnTransition:b("LayerHideOnTransition"),LayerRemoveOnHide:b("LayerRemoveOnHide")};d=[];b("deepFreezeValue")(d);f=babelHelpers.inherits(m,b("React").PureComponent);i=f&&f.prototype;function m(a){__p&&__p();i.constructor.call(this,a);this.$7=function(a,c){__p&&__p();var d=this.props.maxSelectedImages,e=s(this.props.accountID,{maxSelectedImages:d});e.setImageSelected(a,!0);var f=this.state.selectedLegacyImageList.concat(a);d=f.length-d;if(d>0){for(var g=0;g<d;g++)e.setImageSelected(a,!1);f=f.slice(d,f.length)}this.setState({selectedLegacyImageList:f,userSelected:!0},c||b("emptyFunction"))}.bind(this);this.$3=function(a,c){c===b("AdsImageSecondaryActionTypes").X&&this.$8(a)}.bind(this);this.$8=function(a){var b=s(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});b.setImageSelected(a,!1);b=this.state.selectedLegacyImageList.filter(function(b){return!b.equals(a)});this.setState({selectedLegacyImageList:b,userSelected:!0})}.bind(this);this.$9=function(a){a.forEach(function(a){return delete a.crops}),this.props.maxSelectedImages===1&&(a.length||h(0,5167)),this.props.onSelect(a)}.bind(this);this.$6=function(a){__p&&__p();a&&a.preventDefault();var c=[];if(this.state.userSelected){var d=[];this.state.selectedLegacyImageList.forEach(function(a){a.isStockImage()&&d.push(this.$10(a))}.bind(this));d.length>0&&this.setState({userConfirmed:!0});b("promiseDone")(b("Promise").all(d),function(a){a.reverse(),this.state.selectedLegacyImageList.forEach(function(b){b.isStockImage()?c.push(a.pop()):c.push(b.toJSON())}),this.$9(c)}.bind(this))}}.bind(this);this.$1=function(a){var b=this.state.selectedLegacyImageList.some(function(b){return b.equals(a)});b?this.props.maxSelectedImages>1&&this.$8(a):this.$7(a)}.bind(this);this.$2=function(a){var b=this.props.selectedImages;if(this.props.maxSelectedImages==1&&b.length){b=r(b[0]);if(b&&b.equals(a))return;else b&&this.$7(a,this.$6)}}.bind(this);this.$4=function(a){__p&&__p();a=a.filter(function(a){return!this.state.selectedLegacyImageList.find(function(b){return b.equals(a)})}.bind(this));var c=a.map(function(a){return{hash:a.getAdAccountHash(),url:a.getUrl(),id:a.getID()}});b("AdsImageUploadUploadSuccessDataAction").dispatch({imagesData:{imagesData:c}},{line:"498",module:"AdsImageDialog.react.js"});c=a.map(function(a){return{legacyImage:a,view:b("AdsImageCollectionViews").views.LIBRARY}});o(this.props.accountID,this.props.instagramAccount,c,!1,{maxSelectedImages:this.maxSelectedImages});a.forEach(function(a){return this.$7(a)}.bind(this))}.bind(this);a=a.selectedImages.map(r);this.state={selectedLegacyImageList:a,userConfirmed:!1,userSelected:!1}}m.prototype.UNSAFE_componentWillMount=function(){n(this.props.accountID,this.props.libraryImages,this.props.instagramAccount,this.props.instagramImages,this.props.pageImages||[],this.state.selectedLegacyImageList||[],{maxSelectedImages:this.props.maxSelectedImages})};m.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=a.accountID,c=a.libraryImages,d=a.instagramAccount,e=a.instagramImages,f=a.pageImages;a=a.maxSelectedImages;n(b,c,d,e,f,this.state.selectedLegacyImageList||[],{maxSelectedImages:a})};m.prototype.render=function(){var a=b("AdImageSpecsUtils").reduceMinImageSpec(this.props.specs),c=a.imageSpec;a=a.igSpecificImageSpec;var d={onClick:this.$1,onDoubleClick:this.$2,onSecondaryAction:this.$3},e={onEnd:this.$4,onStart:this.$5},f=this.props.maxSelectedImages,g=s(this.props.accountID,{maxSelectedImages:f});return b("React").createElement(b("XUIDialog.react"),{behaviors:l,shown:!0,width:860,onToggle:this.props.onCancel},b("React").createElement(b("AdsMediaPanel.react"),babelHelpers["extends"]({},this.props,{buttonStyle:"done",disableTooSmallImages:!!c,igSpecificImageSpec:a,imageCollection:g,imageHandlers:d,imageSpec:c,initialSelectedTab:this.props.initialTab,instagramAccount:this.props.instagramAccount,maxSelectedImages:f,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:"",tabKeys:this.props.tabKeys||k,uploadHandlers:e})),b("React").createElement(b("XUIDialogFooter.react"),{className:"_5h0r"},b("React").createElement(b("BUIAdoptionHorizontalLayout.react"),null,b("React").createElement(b("BUIAdoptionDialogCancelButton.react"),null),b("React").createElement(b("BUIAdoptionDialogConfirmButton.react"),{"data-testid":b("AdsTestIDs").IMAGE_DIALOG_CLOSE_BUTTON,disabled:!this.state.userSelected||this.state.userConfirmed,use:"confirm",onClick:this.$6}))))};m.prototype.$10=function(a){return new(b("Promise"))(function(c,d){b("AdsShutterstockImageByIDStore").addLegacyCallback_DONT_USE_IN_NEW_CODE(b("nullthrows")(a.getStockImageID()),function(b){b.hasError()?(this.setState({userConfirmed:!1}),h(0,5168)):b.hasValue()&&c(babelHelpers["extends"]({},a.toJSON(),{url:b.getValueEnforcing().get("preview_url")}))}.bind(this))}.bind(this))};m.prototype.$5=function(){b("AdsImageUploadStartDataAction").dispatch({},{line:"479",module:"AdsImageDialog.react.js"})};m.propTypes={accountID:c.string.isRequired,allowMultiImage:c.bool,defaultStockSearchText:c.string,initialTab:c.string,instagramAccount:c.object,libraryImages:c.arrayOf(c.shape({url:c.string.isRequired,hash:c.oneOfType([c.string,c.oneOf([null,void 0])])})).isRequired,maxSelectedImages:c.number.isRequired,pageImages:c.arrayOf(c.instanceOf(b("AdsImageLegacy"))),selectedImages:c.arrayOf(c.shape({stockImageID:c.string,url:c.string,hash:c.string}).isRequired).isRequired,specs:c.arrayOf(c.shape({minWarningWidth:c.number.isRequired,minWarningHeight:c.number.isRequired})).isRequired,tabKeys:c.arrayOf(c.string),onCancel:c.func,onSelect:c.func.isRequired};m.defaultProps={defaultStockSearchText:"",initialTab:b("AdsMediaPanelTabs").LIBRARY,instagramAccount:null,instagramImages:[],libraryImages:[],maxSelectedImages:1,onSelect:b("emptyFunction"),pageFetchingNextPage:!1,pageImages:[],pageImagesLoaded:!0,pageOnEndReached:b("emptyFunction"),selectedImages:[],specs:[]};function n(a,c,d,e,f,g,h){__p&&__p();var i=[];c.length&&c.forEach(function(a){i.push({legacyImage:new(b("AdsImageLegacy"))(a),view:b("AdsImageCollectionViews").views.LIBRARY})});e.length&&e.forEach(function(a){i.push({legacyImage:new(b("AdsImageLegacy"))({url:a.url,imageType:"INSTAGRAM"}),view:b("AdsImageCollectionViews").views.INSTAGRAM})});f.length&&f.forEach(function(a){i.push({legacyImage:a,view:b("AdsImageCollectionViews").views.PAGE})});g.length&&g.filter(function(a){return!!a.getAdAccountHash()}).forEach(function(a){i.push({legacyImage:a,view:b("AdsImageCollectionViews").views.LIBRARY})});i.length&&o(a,d,i,!0,h)}function o(a,c,d,e,f){__p&&__p();if(d&&d.length){var g=s(a,f),h=[];f=c?c.id:null;c=q[a];f!==c&&(q[a]=f,g.clearImagesByViewBitmask(b("AdsImageCollectionViews").views.INSTAGRAM));d.forEach(function(a){g.hasImage(a.legacyImage)||h.push(a)});if(h.length){c=[b("AdsImageCollectionViews").views.INSTAGRAM,b("AdsImageCollectionViews").views.LIBRARY,b("AdsImageCollectionViews").views.PAGE];c.map(function(a){var b=h.filter(function(b){return b.view===a}).map(function(a){return a.legacyImage});e?g.addImagesToBack(b,a):g.addImagesToFront(b,a)})}}}var p={},q={};function r(a){if(a)return new(b("AdsImageLegacy"))(a);else return null}function s(a,c){var d=p[a];d||(d=new(b("AdsImageCollection"))(c),p[a]=d);return d}j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement(m,this.props)};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("AdsTextOverlayRecommendationNote.react",["fbt","AdsLearnMore.react","FDSText.react","Link.react","React","URI"],(function(a,b,c,d,e,f,g){"use strict";var h="980593475366490";function a(a){a=a.showPenaltyMessage?g._("To maximize ad delivery, use an image that contains {text penalty text} {Learn more}",[g._param("text penalty text",b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1",weight:"bold"},g._("little or no overlaid text."))),g._param("Learn more",a.fromLWI===!0?b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/help/980593475366490"),target:"_blank"},g._("Learn more.")):b("React").createElement(b("AdsLearnMore.react"),{cmsID:h}))]):g._("Your image may not include {=more than 20\u0025 text}",[g._param("=more than 20% text",b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1",weight:"bold"},g._("more than 20\u0025 text.")))]);return b("React").createElement("span",null,a)}a.defaultProps={fromLWI:!1,showPenaltyMessage:!0};e.exports=a}),null);
__d("AdsImagePanelNote.react",["cx","fbt","AdsTextOverlayRecommendationNote.react","FDSText.react","List.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.fromDynamicCreative;c=c===void 0?!1:c;var d=c?"body3":"meta1",e=b("React").createElement(b("FDSText.react"),{color:"secondary",size:d},h._("Recommended image size: {Image size}",[h._param("Image size",b("React").createElement(b("FDSText.react"),{color:"secondary",size:d,weight:"bold"},h._("{width} \u00d7 {height} pixels",[h._param("width",a.imageSpec.width),h._param("height",a.imageSpec.height)])))])),f=b("React").createElement(b("FDSText.react"),{color:"secondary",size:d},h._("Recommended image ratio: {Image ratio}",[h._param("Image ratio",b("React").createElement(b("FDSText.react"),{color:"secondary",size:d,weight:"bold"},a.imageSpec.displayRatio))])),g=c?b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-96",size:"body3",weight:"bold"},h._("Image Specifications")):b("React").createElement("h4",{className:"_5r0 _3-94"},h._("IMAGE SPECIFICATIONS")),i=c?"_71si":"_5r1 _3-9c";c=c?"_71sj":null;return b("React").createElement("div",{className:(a.embedded?"":"_5qs")+(a.embedded?"":" _3-8o")+(a.embedded?"":" _2ph_")},g,b("React").createElement(b("List.react"),{border:"none",className:i,spacing:"small"},b("React").createElement("li",{className:c},e),b("React").createElement("li",{className:c},f),b("React").createElement("li",{className:c},b("React").createElement(b("FDSText.react"),{color:"secondary",size:d},b("React").createElement(b("AdsTextOverlayRecommendationNote.react"),{fromLWI:a.fromLWI,showPenaltyMessage:!0})))))}a.defaultProps={fromDynamicCreative:!1,fromLWI:!1};e.exports=a}),null);
__d("AdsPlacementPlatforms",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AUDIENCE_NETWORK:null,FACEBOOK:null,INSTAGRAM:null});e.exports=a}),null);
__d("AdsImageSpecPlacementPlatformUtils",["AdsPageTypes","AdsPlacementPlatforms","AdsPlacementPlatformUtils"],(function(a,b,c,d,e,f){"use strict";a={getImageSpecPlacementPlatform:function(a){if(!a.placement)return null;return b("AdsPlacementPlatformUtils").hasAnyFacebookPlacement_DEPRECATED([a.placement])||a.placement===b("AdsPageTypes").MOBILE_EXTERNAL||a.placement===b("AdsPageTypes").MOBILE_FB_STORY?b("AdsPlacementPlatforms").FACEBOOK:a.placement===b("AdsPageTypes").INSTAGRAM_STREAM?b("AdsPlacementPlatforms").INSTAGRAM:null}};e.exports=a}),null);
__d("adsImageCropPerPlacementHeaderText",["ix","fbt","AdsPageTypeLabels","AdsPageTypes","FDSText.react","FlexLayout.react","Image.react","React","asset","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("immutable").Map({facebook:g("487659"),instagram:g("687373"),messenger:g("505617"),audience_network:g("696361")});var i=b("immutable").Map((c={},c[b("AdsPageTypes").INSTAGRAM_STORY]={imageIcon:a.get("instagram"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").INSTAGRAM_STORY]},c[b("AdsPageTypes").INSTAGRAM_STREAM]={imageIcon:a.get("instagram"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").INSTAGRAM_STREAM]},c[b("AdsPageTypes").DESKTOP_FEED]={imageIcon:a.get("facebook"),placementTitle:h._("Facebook Feeds")},c[b("AdsPageTypes").MOBILE_FEED]={imageIcon:a.get("facebook"),placementTitle:h._("Facebook Feeds")},c[b("AdsPageTypes").INSTANT_ARTICLE]={imageIcon:a.get("facebook"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").INSTANT_ARTICLE]},c[b("AdsPageTypes").RIGHT_COLUMN]={imageIcon:a.get("facebook"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").RIGHT_COLUMN]},c[b("AdsPageTypes").MARKETPLACE_MOBILE]={imageIcon:a.get("facebook"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").MARKETPLACE_MOBILE]},c[b("AdsPageTypes").MOBILE_FB_STORY]={imageIcon:a.get("facebook"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").MOBILE_FB_STORY]},c[b("AdsPageTypes").MESSENGER]={imageIcon:a.get("messenger"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").MESSENGER]},c[b("AdsPageTypes").MOBILE_EXTERNAL]={imageIcon:a.get("audience_network"),placementTitle:b("AdsPageTypeLabels")[b("AdsPageTypes").MOBILE_EXTERNAL]},c));d=function(a,c){c===void 0&&(c=!1);if(c&&a!=null&&i.has(a)){c=i.get(a);a=c.placementTitle;c=c.imageIcon;return b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("Image.react"),{src:c}),b("React").createElement(b("FDSText.react"),{margin:"_3-9a",size:"header4",weight:"bold"},h._("Crop Image for {placement title name}",[h._param("placement title name",a)])))}return h._("Crop Image")};e.exports=d}),null);
__d("AdsImageCropperEditor.react",["ix","cssVar","cx","fbt","AdImageSpecCropKeys","AdImageSpecsUtils","AdsImageCropperEditorHeader.react","AdsImageCropperEditorItem.react","AdsImageCropperEditorPlaceholderItem.react","AdsImageCropperImageSpecSelectorContainer.react","AdsImageCropperTextPenaltyCheckerContainer.react","AdsImageCropperUtils","AdsImageCropSelector.react","AdsImageDialog.react","AdsImageLegacy","AdsImagePanelNote.react","AdsImageSpecPlacementPlatformUtils","AdsImageUtils","AdsImageValidation","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPageTypes","AdsPlacementAssetCustomizationLoggerEvents","AdsPlatformTypes","AdsTestIDs","AHGLink.react","ApiAdPageTypeToPlatformMap","CenteredContainer.react","Event","FDSButton.react","FDSCheckboxInput.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FlexLayout.react","Image.react","React","ReactFragment","SUIBusinessTheme","SUIText.react","adsImageCropPerPlacementHeaderText","asset","debounce","emptyFunction","emptyObject","getViewportDimensions","mapObject","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=parseInt("684",10),m=parseInt("584",10),n=40,o=50,p=parseInt("880",10),q=2,r=12,s=16,t=32,u=20,v=12,w=70,x=186,y=100,z=12,A=parseInt("26",10)+v,B=52,C=28,D=8,E=[b("AdsPageTypes").MOBILE_INSTREAM_VIDEO];c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$29=function(a){a?this.$31():this.$32(),b("AdsInterfacesLogger").log({eventName:"crop_image_choose_different_image",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$21=function(a){this.setState({selectedPlacement:a}),b("AdsInterfacesLogger").log({data:{source:a},eventName:"crop_image_change_placement",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$33=function(a){var c=this.$4(this.state.selectedPlacement),d=this.state.placementImageSpecs,e=d[this.state.selectedPlacement];if(e!==a){d[this.state.selectedPlacement]=a;this.setState({placementImageSpecs:d});this.props.onImageUpdate(c,this.state.selectedPlacement,(e={},e[a.cropKey]=c.crops[a.cropKey]||b("AdsImageUtils").calculateDefaultCoordinates(c.getWidth(),c.getHeight(),a.aspectRatio),e))}}.bind(this),this.$19=function(){this.setState({showImageLibrary:!0}),b("AdsInterfacesLogger").log({eventName:"crop_image_click_change_image",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$6=function(){this.setState({showImageLibrary:!1})}.bind(this),this.$7=function(a){a[0]&&this.props.onImageUpdate(new(b("AdsImageLegacy"))(babelHelpers["extends"]({},a[0])),this.state.selectedPlacement,this.props.canChangeImage===!0?b("emptyObject"):null),this.$6()}.bind(this),this.state={placementImageSpecs:this.$2(this.props.image,this.props.platformCustomizations,this.$3(this.props.imageSpecs)),selectedPlacement:this.props.selectedPlacement!=null?this.props.selectedPlacement:this.props.imageSpecs[0].placement},c}a.prototype.UNSAFE_componentWillMount=function(){var a=b("debounce")(function(){return this.forceUpdate()}.bind(this));this.$1=b("Event").listen(window,"resize",a)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove&&this.$1.remove(),this.$1=null};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var b=a.imageSpecs;if(b.length===0)return;var c=a.image,d=this.state.selectedPlacement;a=a.platformCustomizations;var e=this.state.placementImageSpecs[d];d=b.every(function(a){return e!==a});(!e||d)&&this.setState({selectedPlacement:b[0].placement});this.setState({placementImageSpecs:this.$2(c,a,this.$3(b))})};a.prototype.renderLayers=function(){var a;this.state.showImageLibrary===!0&&(a=b("React").createElement(b("AdsImageDialog.react"),{accountID:this.props.accountID,libraryImages:this.props.libraryImages,maxSelectedImages:1,selectedImages:[this.$4(this.state.selectedPlacement).toJSON()],specs:this.$5(),onCancel:this.$6,onSelect:this.$7}));return b("ReactFragment").create({dialog:a})};a.prototype.render=function(){var a=this.state.selectedPlacement,c=this.$4(a),d=this.state.placementImageSpecs[a],e=this.$8()-(this.props.alwaysShowSpecSelector?n+o:0)+(this.props.isV1===!0?D:0),f=this.$9();if(this.props.imageSpecs.length===0||!d)return b("React").createElement("div",null,this.renderLayers());var g=null;this.state.showCustomImagePanel===!0&&b("ApiAdPageTypeToPlatformMap")[a]&&c.equals(this.props.image)?a=this.$10(d):(a=this.$11(c,d),g=this.$12(c));this.props.useNewTooltips&&g==null&&(g=this.$12(c));d=b("ApiAdPageTypeToPlatformMap")[this.state.selectedPlacement]||b("AdsPlatformTypes").DEFAULT_PLATFORM;return b("React").createElement(b("FDSModal.react"),{footer:this.$13(),header:this.$14(),isShown:!0,width:880,onHide:this.props.onClose},b("React").createElement(b("FDSSection.react"),{hasPadding:!1},b("React").createElement(b("FlexLayout.react"),{style:{height:e,overflowX:this.props.isV1===!0?"hidden":"inherit"}},b("React").createElement("div",{className:"_2z_-"},b("React").createElement("div",{className:"_5oh2"},this.$15()?b("React").createElement(b("AdsImageCropperEditorHeader.react"),{canResetChanges:this.props.canResetChanges!=null&&this.props.canResetChanges[d],image:this.props.image,isV1:this.props.isV1,selectedPlacement:this.state.selectedPlacement,showCropSize:this.props.showCropSize,onReset:this.props.onReset}):null,a,g)),b("React").createElement("div",{style:{width:f}},this.$16(),this.renderLayers()))))};a.prototype.$14=function(){return b("React").createElement(b("FDSModalHeader.react"),{title:this.$17()})};a.prototype.$18=function(a){return this.props.disabledSpecs.some(function(b){return b.placement===a})};a.prototype.$13=function(){var a=b("React").createElement(b("FDSButton.react"),{label:j._("Cancel"),onClick:this.props.onClose}),c=this.props.onSaveToLibraryCheckChange||b("emptyFunction"),d=this.props.canChangeImage===!0?b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("534757")}),label:j._("Change Image"),onClick:this.$19}):null;c=this.props.isV1===!0?b("React").createElement(b("FDSCheckboxInput.react"),{label:j._("Save to Library"),margin:this.props.canChangeImage===!0?"_3-9b":null,tooltip:j._("Save current crop to your Account Images library"),value:this.props.shouldSaveToAssetLibrary,onChange:c}):null;return b("React").createElement(b("FDSModalFooter.react"),babelHelpers["extends"]({leftContent:b("React").createElement("div",null,d,c),primaryButton:b("React").createElement(b("FDSButton.react"),{"data-testid":b("AdsTestIDs").IMAGE_CROPPER_DIALOG_CLOSE_BUTTON,label:this.props.onConfirm?j._("Confirm"):j._("Done"),use:"primary",onClick:this.props.onConfirm||this.props.onClose})},this.props.onConfirm?{secondaryButton:a}:null))};a.prototype.$16=function(){__p&&__p();var a=this.state.selectedPlacement,c=this.$3(this.props.imageSpecs),d=this.props.isSingleCropMode===!0?1:Object.keys(c).length,e=d>1,f=this.$9()-(d-1)*v-d*q*2-2*(e?r:t),g=this.$8()-n-o-2*(e?s:u);g=Math.min(g-q*2,e?w:x);f=this.$20(c,f,g);var h=this.state.placementImageSpecs,i=Object.keys(h).map(function(a){return h[a]}),j=[];for(var k=0;k<d;k++){var l=i[k],m=Number(l.aspectRatio);if(!l.placement||d>1&&l.placement===b("AdsPageTypes").INSTAGRAM_STORY)continue;var p=this.$4(l.placement),y=m>0?m:p.width/p.height,z=f[l.placement].width,A=z/y;e&&(A=f[l.placement].height,z=f[l.placement].height*y);A>g&&(A=g,z=A*y);y=a===l.placement;y||(z+=q,A+=q);m<=0&&(l=babelHelpers["extends"]({},l,{height:p.height,width:p.width,aspectRatio:p.width/p.height}));m=void 0;this.state.showCustomImagePanel===!0&&b("ApiAdPageTypeToPlatformMap")[l.placement]&&p.equals(this.props.image)?m=b("React").createElement(b("AdsImageCropperEditorPlaceholderItem.react"),{height:Math.floor(A),isSelected:y,placement:l.placement,width:Math.floor(z),onClick:this.$21}):m=b("React").createElement(b("AdsImageCropperEditorItem.react"),{height:Math.floor(A),image:p,imageSpec:l,isDisabled:this.$18(l.placement),isError:this.$22(p,l),isReady:this.$23(p),isSelected:y,width:Math.floor(z),onClick:this.$21,onContextMenu:this.$24,onCropUpdate:this.props.onImageUpdate});j.push(b("React").createElement("div",{className:"_145i",key:p.getUniqueIdentifier()+l.placement+l.cropKey,style:{width:f[l.placement].width}},m))}return b("React").createElement("div",null,this.$25(e),this.$26(c,f),b("React").createElement("div",{className:"_5twi"},j),this.$27(),this.$28(),this.props.showRealTimeTextChecker===!0&&this.props.isV1==!1?b("React").createElement(b("AdsImageCropperTextPenaltyCheckerContainer.react"),{image:this.$4(this.state.selectedPlacement)}):null)};a.prototype.$27=function(){__p&&__p();var a=this.state.selectedPlacement;if(!b("ApiAdPageTypeToPlatformMap")[a]||!this.props.canSetPlatformCustomImage||this.props.isSingleCropMode===!0)return null;var c=this.props.image;a=this.$4(a);c=this.state.showCustomImagePanel===!0||!c.equals(a);a=b("React").createElement(b("FDSCheckboxInput.react"),{display:"block",label:j._("Select a separate image for this placement"),value:c,onChange:this.$29});var d;c&&(d=b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:j._("Change Image"),style:{marginTop:"12px"},onClick:this.$19}),b("React").createElement(b("AdsImagePanelNote.react"),{imageSpec:this.$30()})));return b("React").createElement("div",{className:"_2ph_"},a,d)};a.prototype.$15=function(){return this.props.showCropSize===!0||this.props.canResetChanges!=null};a.prototype.$11=function(a,c){var d=this.$8()-o-2*z-(this.props.alwaysShowSpecSelector?n+B:0)-(this.$15()?A:0)-(this.props.showSpecSelector===!0?C:0);return b("React").createElement(b("AdsImageCropSelector.react"),{disableResizer:Number(c.aspectRatio)<=0,height:d,image:a,imageSpec:c,isDisabled:c.placement!=null?this.$18(c.placement):!1,isError:this.$22(a,c),isReady:this.$23(a),showCropSize:this.props.showCropSize,suppressValidationError:this.props.suppressValidationError,useDashedGrid:this.props.useDashedGrid,width:p-this.$9()-2*z,onContextMenu:this.$24,onCropUpdate:this.props.onImageUpdate})};a.prototype.$10=function(a){a=this.$8()-2*z;var c=p-this.$9()-2*z;return b("React").createElement("div",{className:"_5tv-",style:{height:a,width:c}},b("React").createElement(b("CenteredContainer.react"),{className:"_kzj",fullHeight:!0,vertical:!0},j._("Please select an image for this placement")))};a.prototype.$12=function(a){var c=this.state.selectedPlacement,d=this.props.useNewTooltips&&this.$18(c),e=this.$3(this.props.imageSpecs),f=!this.props.useNewTooltips&&e[c].length<2;if(d||this.props.showSpecSelector==!1||f)return null;d=this.state.placementImageSpecs[c];return b("React").createElement("div",{className:"_23et"},b("React").createElement(b("AdsImageCropperImageSpecSelectorContainer.react"),{image:a,imageSpecs:e[c],selectedSpec:d,useNewLabels:this.props.isV1===!0||this.props.useNewSpecSelectorLabels,useNewTooltips:this.props.isV1===!0||this.props.useNewTooltips,onUpdateImageSpec:this.$33}))};a.prototype.$26=function(a,c){if(Object.keys(c).length<=1)return null;var d=Object.keys(a).map(function(d){return b("React").createElement("div",{className:"_qmy",key:"header title"+d,style:{width:c[d].width}},b("AdsImageSpecPlacementPlatformUtils").getImageSpecPlacementPlatform(a[d][0]))});return b("React").createElement(b("CenteredContainer.react"),{className:"_qmz",horizontal:!0,vertical:!1},b("React").createElement("div",null,d))};a.prototype.$34=function(){return this.props.imageSpecs.length===1&&this.props.imageSpecs[0].cropKey===b("AdImageSpecCropKeys").NO_CROP};a.prototype.$28=function(){var a=this.state.selectedPlacement;if(!this.$18(a)&&!this.$34())return null;var c=this.$3(this.props.imageSpecs);c=b("AdsImageSpecPlacementPlatformUtils").getImageSpecPlacementPlatform(c[a][0]);if(c==null)return null;c=c.charAt(0).toUpperCase()+c.slice(1).toLowerCase();return b("React").createElement(b("SUIText.react"),{className:"_26_h",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},j._("Editing the crop for {Placement name (Facebook or Instagram)} is not available",[j._param("Placement name (Facebook or Instagram)",c)]))};a.prototype.$25=function(a){return!a?null:b("React").createElement(b("SUIText.react"),{className:"_3-8z _3-8t _3-96",display:"block",size:"meta1",theme:b("SUIBusinessTheme")},j._("Select the image to edit how it is cropped. {=Learn about ad placements} on Facebook and Instagram.",[j._param("=Learn about ad placements",b("React").createElement(b("AHGLink.react"),{href:"/business/help/202838606926630",label:j._("Learn about ad placements"),onClick:this.$35}))]))};a.prototype.$35=function(){b("AdsInterfacesLogger").log({eventName:"crop_image_click_learn_about_ad_placements",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};a.prototype.$8=function(){var a=b("getViewportDimensions")().height;a=a-y;return Math.max(this.$36(),Math.min(l,a))};a.prototype.$22=function(a,b){return this.props.suppressValidationError===!0?!1:b.placement!=null?a.hasValidationError(b.placement):!1};a.prototype.$23=function(a){return a.isStockImage()?a.hasFullSizeDimensions():a.hasDimensions()};a.prototype.$9=function(){var a=this.props.isV1===!0?"0":"250";return parseInt(a,10)};a.prototype.$24=function(a,event){a.isStockImage()&&event.preventDefault()};a.prototype.$2=function(a,c,d){__p&&__p();return b("mapObject")(d,function(d,e){__p&&__p();var f;e=b("ApiAdPageTypeToPlatformMap")[e];var g=e&&c&&c[e];g||(g=a);var h=b("AdsImageValidation").getDefaultImageSpec(e,g,d),i=Object.keys(g.crops);if(this.props.useNewTooltips){g=b("AdsImageCropperUtils").filterDisabledSpecsOnly(g,d);var j=b("AdImageSpecsUtils").getRecommendedImageSpec(d);g=g.includes(j);g||(f=j)}(this.props.isSingleCropMode===!0&&e||!e||c&&c[e])&&d.forEach(function(a){i.includes(a.cropKey)&&(f=a)});return f||h}.bind(this))};a.prototype.$3=function(a){var b={};a.filter(function(a){return!E.includes(a.placement)}).forEach(function(a){if(!a.placement)return;b[a.placement]=b[a.placement]||[];b[a.placement].push(a)});return b};a.prototype.$20=function(a,b,c){__p&&__p();var d=a;if(this.props.isSingleCropMode===!0){a=this.props.imageSpecs.find(function(a){return E.indexOf(a.placement)});if(a){var e;d=(e={},e[a.placement]=[a],e)}}var f=0,g={};Object.keys(d).map(function(a){var b=this.$4(a),c=b.width/b.height;g[a]=d[a].map(function(a){return Number(a.aspectRatio)>0?a.aspectRatio:c}).reduce(function(a,b){return Math.max(parseFloat(a),parseFloat(b))});f+=g[a]}.bind(this));var h={};Object.keys(g).forEach(function(a){var d=g[a],e=d/f*b,i=e/d;i>c&&(i=c,e=i*d);h[a]={height:i,width:e}});return h};a.prototype.$4=function(a){var c;a=b("ApiAdPageTypeToPlatformMap")[a];var d=this.props.platformCustomizations;d&&a&&(c=d[a]);return c||this.props.image};a.prototype.$31=function(){b("AdsInterfacesLogger").log({eventName:b("AdsPlacementAssetCustomizationLoggerEvents").CLICK_OLD_CROPPER_INSTAGRAM_CUSTOMIZATION,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),this.setState({showCustomImagePanel:!0})};a.prototype.$32=function(){b("AdsInterfacesLogger").log({eventName:b("AdsPlacementAssetCustomizationLoggerEvents").REMOVE_OLD_CROPPER_INSTAGRAM_CUSTOMIZATION,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),this.props.onImageUpdate(this.props.image,this.state.selectedPlacement,null),this.setState({showCustomImagePanel:!1})};a.prototype.$5=function(){var a=this.props.imageSpecs.filter(function(a){return b("ApiAdPageTypeToPlatformMap")[a.placement]===b("ApiAdPageTypeToPlatformMap")[this.state.selectedPlacement]}.bind(this));return b("AdImageSpecsUtils").getUniqueCropImageSpecs(a)};a.prototype.$30=function(){var a=this.$5();return a.find(function(a){return a.cropKey===b("AdImageSpecCropKeys")["100x100"]})||a[0]};a.prototype.$36=function(){return this.props.alwaysShowSpecSelector?Number("384"):m};a.prototype.$17=function(){return b("adsImageCropPerPlacementHeaderText")(this.state.selectedPlacement,this.props.isV1)};a.defaultProps={disabledSpecs:[],isV1:!1,onClose:b("emptyFunction"),onImageUpdate:b("emptyFunction"),onSaveToLibraryCheckChange:b("emptyFunction")};e.exports=a}),null);
__d("AdsImageCropperEditorDialogMixins",["AdsImageCropperEditor.react","AdsImageLegacy","LayerFadeOnHide","LayerHideOnEscape","LayerHideOnTransition","React","ReactLayeredComponentMixin_DEPRECATED","XUIDialog.react","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g=880;c={propTypes:{header:a.string.isRequired,image:a.instanceOf(b("AdsImageLegacy")),imageSpecs:a.array.isRequired,onCropUpdate:a.func,onShow:a.func},getDefaultProps:function(){return{onCropUpdate:b("emptyFunction"),onShow:b("emptyFunction")}},getInitialState:function(){return{dialogShown:!1}},renderLayers:function(){return!this.state.dialogShown||!this.props.image?{}:{dialog:b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnTransition:b("LayerHideOnTransition")},shown:this.state.dialogShown,width:g,onToggle:this._onToggle},b("React").createElement(b("AdsImageCropperEditor.react"),{alwaysShowSpecSelector:!1,canSetPlatformCustomImage:!0,header:this.props.header,image:this.props.image,imageSpecs:this.props.imageSpecs,useNewSpecSelectorLabels:!1,useNewTooltips:!1,onClose:this.hideCropper,onImageUpdate:this.props.onCropUpdate}))}},showCropper:function(){this.props.onShow(),this.setState({dialogShown:!0})},hideCropper:function(){this.setState({dialogShown:!1})},_onToggle:function(a){a||setTimeout(function(){return this.setState({dialogShown:!1})}.bind(this),0)}};d=[c,b("ReactLayeredComponentMixin_DEPRECATED")];e.exports=d}),null);
__d("AdsCFCreativeImagePanelCropperAction.react",["ix","AdsCFCreativeImagePanelAction.react","AdsImageCropperEditorDialogMixins","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"AdsCFCreativeImagePanelCropperAction",mixins:b("AdsImageCropperEditorDialogMixins"),propTypes:{buttonIcon:a.object,className:a.string,disabled:a.bool,tooltip:a.node.isRequired,label:a.node.isRequired,iconHeight:a.number,iconWidth:a.number,size:a.oneOf(["small","medium","large","xlarge","xxlarge"])},render:function(){return b("React").createElement(b("AdsCFCreativeImagePanelAction.react"),{buttonIcon:this.props.buttonIcon,className:this.props.className,"data-tooltip-content":this.props.tooltip,disabled:this.props.disabled,iconHeight:this.props.iconHeight,iconSrc:g("22265"),iconWidth:this.props.iconWidth,label:this.props.label,size:this.props.size,onClick:this.showCropper})}});e.exports=c}),null);
__d("BoostedComponentImageCropper.react",["fbt","AdsCFCreativeImagePanelCropperAction.react","AdsImageLegacy","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a,b,c){a=Object.keys(c)[0];a&&this.props.onCropClick(a,c[a])}.bind(this),b}a.prototype.render=function(){var a=g._("Reposition Image"),c=g._("Reposition Image"),d=g._("Reposition the image to change how it appears in your ad.");return b("React").createElement(b("AdsCFCreativeImagePanelCropperAction.react"),{buttonIcon:this.props.buttonIcon,className:this.props.className,disabled:this.props.disabled||!this.props.image,header:c,image:this.props.image,imageSpecs:this.props.imageSpecs,label:a,size:"xlarge",tooltip:d,onCropUpdate:this.$1})};a.propTypes={buttonIcon:c.object,className:c.string,disabled:c.bool,image:c.instanceOf(b("AdsImageLegacy")),imageSpecs:c.array.isRequired,onCropClick:c.func.isRequired};e.exports=a}),null);
__d("BoostedComponentImageEditEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EDITOR_OPENED:"editor_opened",IMAGE_EDITED:"image_edited"})}),null);
__d("BoostedComponentImageEditorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:BoostedComponentImageEditorLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:BoostedComponentImageEditorLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BoostedComponentImageEditorLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPhotoID=function(a){this.$1.photo_id=a;return this};a.prototype.setStickers=function(a){this.$1.stickers=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setUsedCropping=function(a){this.$1.used_cropping=a;return this};a.prototype.setUsedFilters=function(a){this.$1.used_filters=a;return this};a.prototype.setUsedStickers=function(a){this.$1.used_stickers=a;return this};a.prototype.setUsedTextOverlay=function(a){this.$1.used_text_overlay=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={event:!0,page_id:!0,photo_id:!0,stickers:!0,time:!0,used_cropping:!0,used_filters:!0,used_stickers:!0,used_text_overlay:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XBoostedComponentTemporaryPhotoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/boosted_components/temporary_photo/",{url:{type:"String"}})}),null);
__d("BoostedComponentImageEditor.react",["fbt","ix","Promise","AdsCFCreativeImagePanelAction.react","AdsDaoGraph","AdsImageLegacy","Arbiter","AsyncRequest","BoostedComponentImageEditEvent","BoostedComponentImageEditorTypedLogger","FBLogger","ModalPhotoEditorTabName","PhotoEditorTargetType","Random","React","XBoostedComponentTemporaryPhotoController","XStickerPhotoEditorController","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Random").random,k="EDITED_IMAGE";d=babelHelpers.inherits(c,b("React").Component);i=d&&d.prototype;function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return d=(c=i.constructor).call.apply(c,[this].concat(f)),this.state={gridID:j().toString(),imageIDs:{},imageUrlToInitialImageUrl:{}},this.$2=function(){var a=this.props.image;if(a){var c=a.getUrl();c!=null&&(this.props.onWorkStart(),this.$4(c).then(this.$5)["catch"](function(c){b("FBLogger")("boosted_component").catching(c).mustfix("Failed to get image ID for URL %s",a.getUrl()),this.props.onWorkEnd()}.bind(this)))}}.bind(this),this.$5=function(a){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();var e=b("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.state.gridID).setBool("enable_tagging",!1).setBool("enable_square_crop_mode",!1).setBool("enable_text",this.props.enableText).setBool("enable_stickers",this.props.enableStickers).setEnum("target_type",b("PhotoEditorTargetType").COMPOSER).setEnum("initial_tab",b("ModalPhotoEditorTabName").CROP).setInt("photo_fbid",this.$6().originalImageID).setInt("latest_fbid",a),f=this.props.imageSpecs;if(f.length){e=e.setFloat("aspect_ratio",b("nullthrows")((f=f[0])==null?void 0:f.aspectRatio))}new(b("BoostedComponentImageEditorTypedLogger"))().setEvent(b("BoostedComponentImageEditEvent").EDITOR_OPENED).setPhotoID(a).setPageID(this.props.pageID).log();new(b("AsyncRequest"))(e.getURI()).setFinallyHandler(function(a){if(a.getError()){d(a.toError());return}this.$1=b("Arbiter").subscribe("AttachmentsPhotoEditor/newImage"+this.state.gridID,this.$10);this.props.onWorkEnd();c()}.bind(this)).send()}.bind(this))}.bind(this),this.$10=function(b,c){this.props.onWorkStart();this.$11(c);var d=new a.FileReader();d.onloadend=function(){return this.$12(d.result)}.bind(this);d.readAsDataURL(c.blob);this.$3()}.bind(this),d}c.prototype.render=function(){var a=g._("Edit Image"),c=g._("Edit the image to change how it appears in your ad."),d=this.props,e=d.disabled;d=d.image;e=e||!d||!d.getUrl();return b("React").createElement(b("AdsCFCreativeImagePanelAction.react"),{buttonIcon:this.props.buttonIcon,className:this.props.className,"data-tooltip-content":c,disabled:e,iconSrc:h("22265"),label:a,size:"xlarge",onClick:this.$2})};c.prototype.componentWillUnmount=function(){this.$3()};c.prototype.$4=function(a){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();var e=this.$6()[a];if(e){c(e);return}e=b("XBoostedComponentTemporaryPhotoController").getURIBuilder().setString("url",a).getURI();new(b("AsyncRequest"))(e).setFinallyHandler(function(b){__p&&__p();if(b.getError()){d(b.toError());return}b=b.getPayload().fbid;var e=this.$6();e[a]=b;e.originalImageID||(e.originalImageID=b);this.$7(e);c(b)}.bind(this)).send()}.bind(this))};c.prototype.$7=function(a){var b=this.state.imageIDs;b[this.$8()]=a;this.setState({imageIDs:b})};c.prototype.$6=function(){var a=this.state.imageIDs;return a[this.$8()]||{}};c.prototype.$8=function(){var a=this.state.imageUrlToInitialImageUrl,c=this.props.image;c=b("nullthrows")(b("nullthrows")(c).getUrl());return a[c]||c};c.prototype.$9=function(a){var b=this.state.imageUrlToInitialImageUrl,c=this.$8();b[a]=c;this.setState({imageUrlToInitialImageUrl:b})};c.prototype.$11=function(a){try{var c=a.textOverlays||[],d=Object.keys(a.stickers||{});new(b("BoostedComponentImageEditorTypedLogger"))().setEvent(b("BoostedComponentImageEditEvent").IMAGE_EDITED).setPhotoID(a.fbid).setPageID(this.props.pageID).setUsedFilters(a.hasFilter).setUsedCropping(a.hasCrop).setUsedStickers(!!d.length).setUsedTextOverlay(!!c.length).setStickers(d.join(",")).log()}catch(a){b("FBLogger")("boosted_component").catching(a).mustfix("Failed to log new image")}};c.prototype.$12=function(a){__p&&__p();if(!a){b("FBLogger")("boosted_component").mustfix("Failed to read data");return}try{var c=function(a,c){if(a&&a.images){a=new(b("AdsImageLegacy"))(a.images[k]);var d=a.getUrl();d!=null&&this.$9(d);this.props.onUploadClick(a)}else c&&c.error?b("FBLogger")("boosted_component").mustfix("Failed to create Ads image %s",c.error):b("FBLogger")("boosted_component").mustfix("No Ads images");this.props.onWorkEnd()}.bind(this);a=a.split(",");a={bytes:a[1],name:k,encoding:a[0],handleError:c,accountId:this.props.accountID};b("AdsDaoGraph").add.imageForAccount.one(c,a,b("emptyFunction"))}catch(a){b("FBLogger")("boosted_component").catching(a).mustfix("Failed to fetch image for account")}};c.prototype.$3=function(){var a=this.$1;a&&a.unsubscribe&&(a.unsubscribe(),this.$1=null)};e.exports=c}),null);
__d("AdsCFGifUploadedFromImageDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsCFAdgroupGifUploadedFromImageReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},"ADS_CF.GIF_UPLOADED_FROM_IMAGE");e.exports=a}),null);
__d("AdsCFCreativeImagePanelUploaderAction.react",["cx","fbt","ix","AdsCFCreativeImagePanelAction.react","AdsCFGifUploadedFromImageDataAction","AdsImageUploaderDEPRECATED","DOM","React","ReactDOM","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsImageUploaderDEPRECATED").AdsImageUploaderConstantsDEPRECATED,l=b("AdsImageUploaderDEPRECATED").AdsImageUploaderDEPRECATED;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=[],this.$4=function(a){if(this.props.postponeDestroyUploader===!0)return;this.$7(a)}.bind(this),b}a.prototype.componentDidMount=function(){this.$1=[this.$2()]};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.accountID!==a.accountID&&this.$3()};a.prototype.componentDidUpdate=function(){this.$1||(this.$1=[this.$2()])};a.prototype.componentWillUnmount=function(){this.$3()};a.prototype.$3=function(){this.$1.forEach(this.$4,this),delete this.$1};a.prototype.render=function(){var a=i("22268"),c=this.props.disabled,d,e=h._("Upload");this.props.multiple===!0?d=c===!0?h._({"*":"You've selected the maximum of {max_count} images. You can remove some images if you want to upload more."},[h._param("max_count",this.props.maxUploadableImages,[0])]):h._("Upload new images for your ads."):d=h._("Upload a new image for your ads.");c="_5yya"+(c?" hidden_elem":"");return b("React").createElement(b("AdsCFCreativeImagePanelAction.react"),babelHelpers["extends"]({},this.props,{"data-tooltip-content":d,hide:this.props.hide,iconSrc:a,label:e,size:this.props.size,onClick:this.props.onUploadClick}),b("React").createElement("div",{className:c,ref:"uploaders"}))};a.prototype.$5=function(a,b,c){a.input.removeAttribute("id"),a.element.className="hidden_elem",a.filesCount=c.length,this.$1.push(this.$2()),this.props.onUploadStart(c)};a.prototype.$6=function(a,b,c){this.props.onUploadEnd(c.succeededImages,c.numFailedImages),this.$7(a)};a.prototype.$2=function(){__p&&__p();var a={},c=b("DOM").create("span",{className:k.UPLOAD_ELEMENT});b("ReactDOM").findDOMNode(this.refs.uploaders).appendChild(c);var d=new l(c,{accountId:this.props.accountID,imageSpec:this.props.imageSpec,multiple:this.props.multiple,onGifUpload:this.$8,onFormInputMount:function(b){if(!b)return;b.id=this.props.fileInputNodeID;a.input=b}.bind(this),validateImageSize:this.props.validateImageSize,validateImageFormat:this.props.validateImageFormat}),e=new(b("SubscriptionsHandler"))();e.addSubscriptions(d.subscribe("onUploadStarted",this.$5.bind(this,a)),d.subscribe("onUploadEnded",this.$6.bind(this,a)));a.filesCount=0;a.uploader=d;a.element=c;a.subscriptions=e;return a};a.prototype.$8=function(){b("AdsCFGifUploadedFromImageDataAction").dispatch({},{line:"230",module:"AdsCFCreativeImagePanelUploaderAction.react.js"})};a.prototype.$7=function(a){a.uploader&&(delete a.uploader,a.subscriptions.release(),delete a.subscriptions,b("DOM").remove(a.element),delete a.input,delete a.element)};a.defaultProps={hide:!1,onUploadClick:b("emptyFunction"),onUploadStart:b("emptyFunction"),onUploadEnd:b("emptyFunction"),postponeDestroyUploader:!1};e.exports=a}),null);
__d("AdsMultiImageSelectorUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6,h=1,i=1,j=10;a={getMaxUploadableImages:function(a){__p&&__p();var b=a.isAssetFeedAdgroup,c=a.isRegularDCOAdgroup,d=a.isSplitTest,e=a.isCreativeSplitTest;a=a.allowMultipleAdgroupsQE;if(c)return j;if(b)return h;else if(d){c=!e&&(a?a.getParamBool("is_enabled",!1):!1);if(!c)return i}return g}};e.exports=a}),null);
__d("BoostedComponentImageUploader.react",["invariant","AdsCFCreativeImagePanelUploaderAction.react","AdsMultiImageSelectorUtils","React","WebApiApplication"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("WebApiApplication").init(this.props.accessToken,this.props.clientID)}.bind(this),this.$2=function(a){a.length===1||g(0,3003,a.length),this.props.onUploadEnd(),this.props.onUploadClick(a[0])}.bind(this),this.$3=function(){this.props.onUploadStart()}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("AdsCFCreativeImagePanelUploaderAction.react"),{accountID:this.props.accountID,className:this.props.className,disabled:this.props.disabled,fileInputNodeID:"BoostedComponentImageUploader"+this.props.clientID,maxUploadableImages:b("AdsMultiImageSelectorUtils").getMaxUploadableImages({isAssetFeedAdgroup:!1,isRegularDCOAdgroup:!1,isSplitTest:!1,isCreativeSplitTest:!1,allowMultipleAdgroupsQE:null}),multiple:!1,size:"xlarge",onUploadClick:this.$1,onUploadEnd:this.$2,onUploadStart:this.$3})};e.exports=a}),null);
__d("BoostedComponentImageSelector.react",["cx","AdImageSpecCropKeys","AdsImageUtils","BoostedComponentImageCropper.react","BoostedComponentImageEditor.react","BoostedComponentImageLibrarySelector.react","BoostedComponentImageUploader.react","BoostedComponentStrings","React","XUIButton.react","XUISpinner.react","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=36,j=36;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isWorking:!1},this.$5=function(){this.setState({isWorking:!1})}.bind(this),this.$6=function(){this.setState({isWorking:!0})}.bind(this),b}a.prototype.render=function(){var a=(this.state.isWorking?"":"hidden_elem")+" _3-99";return b("React").createElement("div",null,this.$1(),this.$2(),this.$3(),this.$4(),b("React").createElement(b("XUISpinner.react"),{className:a}))};a.prototype.$4=function(){return b("gkx")("678173")?b("React").createElement(b("BoostedComponentImageEditor.react"),{accountID:this.props.accountID,buttonIcon:this.props.iconImageCrop,className:b("joinClasses")("_4nqt",this.props.buttonClass),disabled:this.state.isWorking,enableStickers:!0,enableText:!0,image:this.props.image,imageSpecs:this.props.imageSpecs,pageID:this.props.pageID,onUploadClick:this.props.onImageUploadClick,onWorkEnd:this.$5,onWorkStart:this.$6}):b("React").createElement(b("BoostedComponentImageCropper.react"),{buttonIcon:this.props.iconImageCrop,className:b("joinClasses")("_4nqt",this.props.buttonClass),disabled:this.state.isWorking,image:this.props.image,imageSpecs:this.props.imageSpecs,onCropClick:this.props.onImageCropClick})};a.prototype.$2=function(){return this.props.hideImageUploader?null:b("React").createElement(b("BoostedComponentImageUploader.react"),{accessToken:this.props.accessToken,accountID:this.props.accountID,className:b("joinClasses")("_4nqt",this.props.buttonClass),clientID:this.props.clientID,disabled:this.state.isWorking,onUploadClick:this.props.onImageUploadClick,onUploadEnd:this.$5,onUploadStart:this.$6})};a.prototype.$3=function(){var a="";this.props.hideImageUploader?a=b("BoostedComponentStrings").REPLACE_IMAGE:a=b("BoostedComponentStrings").SELECT_IMAGE;a=b("React").createElement(b("XUIButton.react"),{disabled:this.state.isWorking,image:this.props.iconImageLibrary,label:a,size:"xlarge"});return b("React").createElement(b("BoostedComponentImageLibrarySelector.react"),{accountID:this.props.accountID,className:b("joinClasses")("_4nqt",this.props.buttonClass),clickableTrigger:a,defaultStockSearchText:this.props.defaultStockSearchText,disabled:this.state.isWorking,enableStock:this.props.enableStock,image:this.props.image,imageHash:this.props.imageHash,imageSpecs:this.props.imageSpecs,imageUrl:this.props.imageUrl,maxSelectedImages:this.props.maxSelectedImages,pageID:this.props.pageID,showDialog:this.props.showDialog,tooltipText:b("BoostedComponentStrings").IMAGE_SELECTOR_TOOLTIP_TEXT,onDialogShown:this.props.onDialogShown,onImageSelectionCancelled:this.props.onImageSelectionCancelled,onImagesSelected:this.props.onImagesSelected})};a.prototype.$1=function(){return this.props.showImagePreviewBox!==!0?null:b("React").createElement("div",{className:"_3cz2"},this.$7(this.props.image))};a.prototype.$7=function(a){var c;return!a||!a.hasDimensions()||a.getUrl()==null?null:b("AdsImageUtils").renderScaledCroppedImage((c=a.getUrl())!=null?c:"",j,i,a.getWidth(),a.getHeight(),a.getCrop(b("AdImageSpecCropKeys")["100x100"]))};a.defaultProps={buttonClass:"",enableStock:!1,hideImageUploader:!1,imageHash:null,imageUrl:null,maxSelectedImages:1,pageID:"",showDialog:!1,showImagePreviewBox:!1};e.exports=a}),null);
__d("BoostedComponentCreativeMultiImageEditorV2.react",["ix","cx","fbt","xuiglyph","AdsIndexedTabBar.react","ApiObjectStorySpecLinkChildFields","BoostedComponentCreativeLinkDataEditor.react","BoostedComponentImageSelector.react","BoostedComponentLabeledEditor.react","BoostedComponentStrings","Grid.react","GridItem.react","Image.react","LeftRight.react","Link.react","React","XUIButton.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function k(a){var c=a.childAttachments,d=a.maxProducts;a=a.onChildAttachmentAdd;return c.size>=d?null:b("React").createElement(b("XUIButton.react"),{className:"_3-9a",image:b("React").createElement(b("Image.react"),{src:g("89668")}),label:i._("Add"),labelIsHidden:!0,onClick:a})}function l(a){var c=a.childAttachments,d=a.minProducts;a=a.onChildAttachmentRemove;return c.size<=d?null:b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement(b("Link.react"),{onClick:a},i._("Remove")))}function m(a){var c=a.childAttachments,d=a.selectedAttachmentIndex;c=c.get(d);d=c&&c.get(b("ApiObjectStorySpecLinkChildFields").NAME);return b("React").createElement(b("BoostedComponentCreativeLinkDataEditor.react"),{appID:a.appID,headline:(c=d)!=null?c:"",pageID:a.pageID,pageURI:a.pageURI,shouldEdit:!1,supportCarouselInLA:a.supportCarouselInLA,useMultiAdsView:!0,onBetterProductNoticeButtonClick:b("emptyFunction"),onLinkDataHeadlineChange:a.onChildAttachmentHeadlineChange})}function a(a){var c=a.accessToken,d=a.accountID,e=a.appID,f=a.childAttachments,g=a.clientID,h=a.defaultStockSearchText,i=a.hideImageUploader,j=a.image,n=a.imageHash,o=a.imageUrl,p=a.imageSpecs,q=a.maxProducts,r=a.minProducts,s=a.pageID,t=a.selectedAttachmentIndex,u=a.supportCarouselInLA,v=a.onChildAttachmentImageCropClick,w=a.onChildAttachmentImageUploadClick,x=a.onChildAttachmentImagesSelected,y=a.onChildAttachmentHeadlineChange,z=a.onDialogShown,A=a.onChildAttachmentAdd,B=a.onChildAttachmentRemove,C=a.onChildAttachmentSelected;return b("React").createElement("div",null,b("React").createElement(b("Grid.react"),{cols:2},b("React").createElement(b("GridItem.react"),{key:"left"},b("React").createElement(b("AdsIndexedTabBar.react"),{numItems:f.size,selectedItem:t,onItemAdded:A,onItemSelected:C})),b("React").createElement(b("GridItem.react"),{key:"rigth"},b("React").createElement(k,{childAttachments:f,maxProducts:q,onChildAttachmentAdd:A}))),b("React").createElement("div",{background:"light-wash",className:"_1ev3"},b("React").createElement(l,{childAttachments:f,minProducts:r,onChildAttachmentRemove:B}),b("React").createElement(m,{appID:e,childAttachments:f,pageID:s,pageURI:a.pageURI,selectedAttachmentIndex:t,supportCarouselInLA:u,onChildAttachmentHeadlineChange:y}),b("React").createElement(b("BoostedComponentLabeledEditor.react"),{label:b("BoostedComponentStrings").CREATIVE_IMAGE,tooltip:b("BoostedComponentStrings").CREATIVE_IMAGE_TOOLTIP},b("React").createElement(b("BoostedComponentImageSelector.react"),{accessToken:c,accountID:d,clientID:g,defaultStockSearchText:h,enableStock:!1,hideImageUploader:i,image:j,imageHash:n,imageSpecs:p,imageUrl:o,pageID:s,onDialogShown:z,onImageCropClick:v,onImageUploadClick:w,onImagesSelected:x}))))}e.exports=a}),null);
__d("BoostedComponentMultiAdsConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MIN_PRODUCT_NUM:1,MAX_PRODUCT_NUM:5});e.exports=a}),null);
__d("adsLWIChildAttachmentsSelector",["AdsChildAttachmentsUtils","AdsLWIAdgroupUtils","adsCreateSelector","adsLWISelectedAdgroupSelectors","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIAdgroupUtils").getDefaultChildAttachmentFromLinkData;a=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;c=b("adsCreateSelector")([a],function(a){if(!a.hasValue())return b("immutable").List();a=a.getValueEnforcing();var c=b("immutable").fromJS(b("AdsChildAttachmentsUtils").getChildAttachments(a));return c&&!c.isEmpty()?c:b("immutable").List([g(a)])},{name:e.id+".selector"});e.exports=c}),null);
__d("adsLWIDefaultImageUrlSelector",["BoostedComponentV2Utils","adsCreateSelector","adsLWIAdgroupStoreSelector","adsLWIBoostedActionCreativeStoreDataSelector","adsLWICurrentInstanceDataSelector","adsLWINewSelectedAdgroupIDSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentV2Utils").useNewConsolidatedCreativeStores;a=b("adsCreateSelector")([b("adsLWIBoostedActionCreativeStoreDataSelector")],function(a){return a.getDefaultImageURL()},{name:e.id+".adsLWILegacyDefaultImageUrlSelector"});c=b("adsCreateSelector")([b("adsLWINewSelectedAdgroupIDSelector"),b("adsLWIAdgroupStoreSelector")],function(a,b){b=b.get(a);return b&&b.defaultPictureURI},{name:e.id+".adsLWINewDefaultImageUrlSelector"});d=b("adsCreateSelector")([a,c,b("adsLWICurrentInstanceDataSelector")],function(a,b,c){return!c?null:g(c.product)?b:a},{name:e.id+".selector"});e.exports=d}),null);
__d("adsLWIHasMapCardInCarouselSelector",["AdsChildAttachmentsUtils","ApiObjectStorySpecLinkChildFields","adsCreateSelector","adsLWIAllAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsLWIAllAdgroupsSelector")],function(a){if(a.isLoading()||!a.hasValue())return!1;a=a.getValueEnforcing();return a.some(function(a){a=b("AdsChildAttachmentsUtils").getChildAttachments(a);return!!a&&a.some(function(a){return!!a[b("ApiObjectStorySpecLinkChildFields").PLACE_DATA]})})},{name:e.id+".selector"});e.exports=a}),null);
__d("BoostedComponentCreativeMultiImageEditorContainer.react",["invariant","AdsAPIAdgroupPaths","AdsFluxContainer","AdsImageStore","AdsLWIAdgroupUtils","AdsLWIInstanceUtils","AdsLWIMultiAdgroupSpecActions","AdsSelectorUtils","ApiObjectStorySpecLinkChildFields","ApiObjectStorySpecLinkFields","BoostedComponentAdAccountStoreV2","BoostedComponentContainerUtils","BoostedComponentContextStoreV2","BoostedComponentCreativeActionsV2","BoostedComponentCreativeMultiImageEditorV2.react","BoostedComponentErrorBoundaryContainer.react","BoostedComponentImageCreativeUtils","BoostedComponentMultiAdsConstants","FBLogger","React","adsLWIChildAttachmentsSelector","adsLWICurrentImageDataSelector","adsLWICurrentInstanceDataSelector","adsLWIDefaultImageUrlSelector","adsLWIHasMapCardInCarouselSelector","adsLWIImageSpecsSelector","adsLWIImagesSelector","adsLWIPageURISelector","adsLWISelectedAdgroupIDOrIndexSelector","adsLWISelectedAdgroupSelectors","adsLWISelectedChildAttachmentIndexSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsLWIAdgroupUtils").getDefaultChildAttachmentFromLinkData,j=b("AdsLWIAdgroupUtils").getUnifiedCreativeAPIFieldMapping,k=b("AdsLWIInstanceUtils").getKeyFromInstanceData,l=b("AdsLWIMultiAdgroupSpecActions").updateImageCrops,m=b("BoostedComponentContainerUtils").isDataLoaded,n=b("BoostedComponentCreativeActionsV2").onChildAttachmentAdd,o=b("BoostedComponentCreativeActionsV2").onChildAttachmentIndexSelected,p=b("BoostedComponentCreativeActionsV2").onChildAttachmentRemove,q=b("BoostedComponentCreativeActionsV2").onImageDialogShown,r=b("BoostedComponentCreativeActionsV2").updateImage,s=b("BoostedComponentCreativeActionsV2").updateLinkDataHeadline,t=b("BoostedComponentImageCreativeUtils").BoostedComponentImageTypeEnum,u=b("BoostedComponentImageCreativeUtils").buildObjectStorySpecLinkDataSpec,v=b("BoostedComponentImageCreativeUtils").getImageTypeForLogging,w=b("adsLWIImagesSelector").adsLWIAdgroupImagefromImageDataSelector,x=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={accessToken:"",accountID:"",clientID:"",dataLoaded:!1,defaultChildAttachment:b("immutable").Map(),defaultStockSearchText:"",image:null,imageCrops:null,imageHash:null,imageSpecs:[],imageUrl:null,linkURL:null,headline:null,message:null,objectStorySpecLinkData:b("immutable").Map(),pageURI:"",products:b("immutable").List(),selectedAttachmentIndex:0,supportCarouselInLA:!1},this.$1=function(){var a=this.props,b=a.pageID,c=a.appID,d=a.targetID;a=a.boostID;q(b,c,d,a)}.bind(this),this.$2=function(a){var b=this.props.pageID;o(a,b)}.bind(this),this.$3=function(){var a=this.state,c=a.defaultChildAttachment,d=a.objectStorySpecLinkData;a=a.products;d=d||b("immutable").Map();a=a.push(c);n(d.set(b("ApiObjectStorySpecLinkFields").CHILD_ATTACHMENTS,a),a.size-1)}.bind(this),this.$4=function(){__p&&__p();var a=this.state,c=a.objectStorySpecLinkData,d=a.products;a=a.selectedAttachmentIndex;c=c||b("immutable").Map();if(d.size<=1){b("FBLogger")("boosted_component").warn("Invalid childAttachment remove action");return}d=d.remove(a);if(d.size===1){a=this.state;var e=a.imageCrops,f=a.imageHash,g=a.imageUrl,h=a.linkURL,i=a.message;a=a.headline;var j=d.get(0),k=j.get(b("ApiObjectStorySpecLinkChildFields").NAME)?j.get(b("ApiObjectStorySpecLinkChildFields").NAME):a,l=j.get(b("ApiObjectStorySpecLinkChildFields").PICTURE)?j.get(b("ApiObjectStorySpecLinkChildFields").PICTURE):g,m=j.get(b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH)?j.get(b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH):f,n=j.get(b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS)?j.get(b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS):e;c=c.withMutations(function(a){return a.merge(u(h,i,k,m==null||m===""?null:l,m,n)).set(b("ApiObjectStorySpecLinkFields").CHILD_ATTACHMENTS,null)["delete"](b("ApiObjectStorySpecLinkFields").MULTI_SHARE_END_CARD)["delete"](b("ApiObjectStorySpecLinkFields").MULTI_SHARE_OPTIMIZED)})}else c=c.set(b("ApiObjectStorySpecLinkFields").CHILD_ATTACHMENTS,d);p(c,d.size-1)}.bind(this),this.$6=function(a){a.length!==0||g(0,4687);a=a[0];var b=this.state.accountID,c=this.props,d=c.appID,e=c.targetID;c=c.boostID;r(a,v(a),d,e,c,b)}.bind(this),this.$7=function(a){var b=this.state.accountID,c=this.props,d=c.appID,e=c.targetID;c=c.boostID;r(a,t.UPLOAD,d,e,c,b)}.bind(this),c}a.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([b("adsLWICurrentInstanceDataSelector"),b("adsLWIHasMapCardInCarouselSelector"),b("adsLWISelectedChildAttachmentIndexSelector"),x,b("adsLWICurrentImageDataSelector"),w,b("adsLWIChildAttachmentsSelector"),b("adsLWISelectedAdgroupIDOrIndexSelector"),b("adsLWIDefaultImageUrlSelector"),b("adsLWIPageURISelector"),b("adsLWIImageSpecsSelector")]),[b("AdsImageStore"),b("BoostedComponentAdAccountStoreV2"),b("BoostedComponentContextStoreV2")])};a.calculateState=function(a,c){__p&&__p();var d=c.appID,e=c.targetID;c=c.boostID;d=k(d,e,c);e=b("BoostedComponentAdAccountStoreV2").getState();c=b("BoostedComponentContextStoreV2").getDataByKey(d);d=x();var f=m([e,c])&&d.hasValue();if(!f)return babelHelpers["extends"]({},a,{dataLoaded:f});a=e.getSelectedAccountID();e=d.getValueEnforcing();d=j(e);var g=b("adsLWICurrentImageDataSelector")();return{accessToken:c.get("access_token"),accountID:a,clientID:c.getClientID(),dataLoaded:f,defaultChildAttachment:i(e,b("adsLWIDefaultImageUrlSelector")()),defaultStockSearchText:"",image:w(),imageCrops:g&&g.imageCrops,imageHash:g&&g.imageHash,imageSpecs:b("adsLWIImageSpecsSelector")(),imageUrl:g&&g.imageURL,linkURL:e.getIn(d.linkURL),headline:e.getIn(d.headline),message:e.getIn(d.message),objectStorySpecLinkData:e.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path),pageURI:b("adsLWIPageURISelector")(),products:b("adsLWIChildAttachmentsSelector")(),selectedAttachmentIndex:(a=b("adsLWISelectedChildAttachmentIndexSelector")())!=null?a:0,supportCarouselInLA:b("adsLWIHasMapCardInCarouselSelector")()}};a.prototype.$5=function(a){s(a)};a.prototype.$8=function(a,c){var d;a=b("immutable").fromJS((d={},d[a]=c,d));l(a)};a.prototype.render=function(){var a=this.state,c=a.dataLoaded;a=a.products;if(!c||!a||a.isEmpty())return null;c=this.state;var d=c.accessToken,e=c.accountID,f=c.clientID,g=c.defaultStockSearchText,h=c.image,i=c.imageHash,j=c.imageUrl,k=c.selectedAttachmentIndex,l=c.supportCarouselInLA;c=c.imageSpecs;return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedComponentCreativeMultiImageEditorV2"},b("React").createElement(b("BoostedComponentCreativeMultiImageEditorV2.react"),{accessToken:d,accountID:e,appID:this.props.appID,childAttachments:a,clientID:f,defaultStockSearchText:g,hideImageUploader:this.props.hideImageUploader,image:h,imageHash:i,imageSpecs:c,imageUrl:j,maxProducts:(d=this.props.maxProducts)!=null?d:b("BoostedComponentMultiAdsConstants").MAX_PRODUCT_NUM,minProducts:(e=this.props.minProducts)!=null?e:b("BoostedComponentMultiAdsConstants").MIN_PRODUCT_NUM,pageID:this.props.pageID,pageURI:this.state.pageURI,selectedAttachmentIndex:k,supportCarouselInLA:l,onChildAttachmentAdd:this.$3,onChildAttachmentHeadlineChange:this.$5,onChildAttachmentImageCropClick:this.$8,onChildAttachmentImageUploadClick:this.$7,onChildAttachmentImagesSelected:this.$6,onChildAttachmentRemove:this.$4,onChildAttachmentSelected:this.$2,onDialogShown:this.$1}))};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsLWICarouselImageSelectorContainer.react",["BoostedComponentCreativeMultiImageEditorContainer.react","React","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWICurrentInstanceDataSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({instanceData:b("adsLWICurrentInstanceDataSelector")},e.id),function(a){a=b("nullthrows")(a.instanceData);var c=a.appID,d=a.boostID,e=a.pageID;a=a.targetID;return b("React").createElement(b("BoostedComponentCreativeMultiImageEditorContainer.react"),{appID:c,boostID:d,pageID:e,targetID:a})});e.exports=a}),null);
__d("AdsCFReviewAPIDataDispatcher",["Promise","AdContentFeedbackTypes","AdsAPIAdgroupFields","AdsCFUnifiedLoggerInternal","AdsReviewApiAdReviewApiRequestCompleteDataAction","AdsReviewAPIBatchingQueue","AdsReviewIPCUtils","AdsRunStatus","BusinessIntegrityIPCCallsite","IntegrityAPIConversions","mergeDeep","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.validateAd=function(a,c,d,e){__p&&__p();c=c.map(function(a){a=this.getAdgroupAPIReviewSpec(a,d);return a}.bind(this)).map(function(c){return b("AdsReviewAPIBatchingQueue").addAdgroupCreateItem(a,c,e,b("BusinessIntegrityIPCCallsite").ADS_MANAGER)});b("promiseDone")(b("Promise").all(c).then(function(a){return a.reduce(function(a,c){var d=a.feedback;c.feedback===b("AdContentFeedbackTypes").REJECT&&(d=b("AdContentFeedbackTypes").REJECT);var f=new Map(a.imageUniqueIdentifierToBoxesAndPolicy);c.imageUniqueIdentifierToBoxesAndPolicy.forEach(function(a,b){return f.set(b,a)});return{adHash:e,data:b("mergeDeep")(a.data,c.data),warningData:b("mergeDeep")(a.warningData,c.warningData),feedback:d,imageUniqueIdentifierToBoxesAndPolicy:f,creativeID:c.creativeID}},b("IntegrityAPIConversions").getApprovedFeedback(e))}),function(a){b("AdsReviewApiAdReviewApiRequestCompleteDataAction").dispatch({adFeedback:a},{line:"89",module:"AdsCFReviewAPIDataDispatcher.js"})})};a.prototype.getAdgroupAPIReviewSpec=function(a,c){var d;return d={},d[b("AdsAPIAdgroupFields").STATUS]=b("AdsRunStatus").PAUSED,d[b("AdsAPIAdgroupFields").CREATIVE]=a.creative,d[b("AdsAPIAdgroupFields").NAME]=a.name,d[b("AdsAPIAdgroupFields").ADSET_SPEC]=c,d[b("AdsAPIAdgroupFields").REVIEW_CONFIG]={review_session_id:b("AdsReviewIPCUtils").getAdsInterfaceReviewSessionID(String(b("AdsCFUnifiedLoggerInternal").getSessionCounter()))},d};function a(){}c=new a();e.exports=c}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils",["AdsAccountStore","AdsAPIAdgroupPaths","AdsCFAdgroupProviderStore","AdsCFAdgroupStateUtils","AdsCFCampaignStateUtils","AdsCFReviewAPIDataDispatcher","adsCFCampaignStateSelector","adsCFGetActiveCampaignIDState_HACK","areEqual","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=h(a),d=c.adgroupSpec,e=c.campaignObject;if(!e||!d||d[0].creative===null||d[0].creative!=null&&Object.keys(d[0].creative).length===0||i(a,c))return a;a.data=c;return a.feedback.maybeValidateAdArray(c.accountID,d,e,a,b("debounce")(g,0))}function c(a,b){return a.feedback.maybeSetFeedback(a,b)}function g(a,c,d,e){b("AdsCFReviewAPIDataDispatcher").validateAd(a,c,d,e)}function h(a){__p&&__p();a=b("AdsAccountStore").getSelectedAccountIDX();var c=b("AdsCFAdgroupStateUtils").getAdgroupRecords(b("AdsCFAdgroupProviderStore").getState()),d;if(c&&c.length>0){var e;c=c.map(function(a){return a.removeIn(b("AdsAPIAdgroupPaths").MANUAL_REVIEW_REQUESTED).removeIn(b("AdsAPIAdgroupPaths").REVIEW_CONFIG.path)});e=(e=c[0].creative)==null?void 0:e.object_story_id;e&&e.contains("LOADING")&&(c[0]=c[0].removeIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).removeIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID));d=c.map(function(a){return a.toJS()})}e=b("AdsCFCampaignStateUtils").getFirstSelectedRecordNullable(b("adsCFCampaignStateSelector")(),b("adsCFGetActiveCampaignIDState_HACK")());return{accountID:a,adgroupSpec:d,campaignObject:e?e.toJS():null}}function i(a,c){return b("areEqual")(a.data,c)}e.exports={maybeSetFeedbackImm:c,maybeValidateCurrentAd:a,validateAd:g}}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataAction",["Laminar","AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin","AdsReviewApiAdReviewApiRequestCompleteDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin"),b("AdsReviewApiAdReviewApiRequestCompleteDataProvider"),{})]},"AD_VALIDATION.AD_REVIEW_API_REQUEST_COMPLETE");e.exports=a}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataProvider",["AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin"),"AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin")}),null);
__d("AdsReviewAPIFeedbackHelper",["AdContentFeedbackTypes","AdsReviewAPIUtils","CROWCompsType","IntegrityAPIConversionsConstants","immutable","md5","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("IntegrityAPIConversionsConstants").TEXT_OVERLAY_REASONS_ORDERED,i=b("IntegrityAPIConversionsConstants").TEXT_PENALTY_REASONS,j=b("immutable").Map({bannerProps:b("immutable").Map({title:"DUMMY_TITLE",body:"DUMMY_BODY"}),actionProps:b("immutable").Map({action1:b("immutable").Map({uhh:"something"})})});a=function(a){return function(){var c;c=babelHelpers.inherits(d,b("immutable").Record(babelHelpers["extends"]({},a)));c&&c.prototype;function d(){"use strict";c.apply(this,arguments)}return d}()};g=babelHelpers.inherits(k,a({actionList:b("immutable").Map(),adHash:"",reviewFeedback:null,crowCompTypeToMessages:b("immutable").Map(),disapprovalReasonToAction:b("immutable").Map(),imageUniqueIdentifierToBoxesAndPolicy:b("immutable").Map(),policies:b("immutable").Set()}));g&&g.prototype;k.prototype.maybeValidateAdArray=function(a,c,d,e,f){var g=this.$AdsReviewAPIFeedbackHelper1(c,d);if(g===this.adHash)return e;f(a,c,d,g);return{data:e.data,feedback:new k({adHash:g}),renderData:b("immutable").Map()}};k.prototype.maybeSetFeedback=function(a,b){return b.adHash===a.feedback.adHash?this.$AdsReviewAPIFeedbackHelper2(a,b):a};k.prototype.getIsTextPenaltyViolation=function(){var a=this.getMaybeTextOverlayViolation();return!!a&&i.has(a)};k.prototype.getMaybeTextOverlayViolation=function(){var a=this.policies,b=h.findIndex(function(b){return a.has(b)});return b===-1?null:h[b]};k.prototype.getViolatingImageIdentifiers=function(a){return Array.from(this.imageUniqueIdentifierToBoxesAndPolicy.keys()).filter(function(c){c=this.imageUniqueIdentifierToBoxesAndPolicy.get(c);return b("nullthrows")(c).policyWarning===a}.bind(this))};k.prototype.getViolatingImageIdentifiersForTextPenalty=function(){return Array.from(this.imageUniqueIdentifierToBoxesAndPolicy.keys()).filter(function(a){a=this.imageUniqueIdentifierToBoxesAndPolicy.get(a);return i.has(b("nullthrows")(a).policyWarning)}.bind(this))};k.prototype.getTextOverlayBoxesForIdentifier=function(a){if(a==null||!this.imageUniqueIdentifierToBoxesAndPolicy.has(a))return[];a=this.imageUniqueIdentifierToBoxesAndPolicy.get(a);return!a||!a.boxes?[]:a.boxes};k.prototype.getTextPenaltyWarningsForIdentifier=function(a){__p&&__p();var c=null;if(a==null||!this.imageUniqueIdentifierToBoxesAndPolicy.has(a))return c;a=this.imageUniqueIdentifierToBoxesAndPolicy.get(a);if(!a)return c;a=a.policyWarning;if(this.reviewFeedback){var d=this.reviewFeedback.warningData[b("CROWCompsType").PROACTIVE_AD_IMAGE];!!d&&Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a].feedback_info.description)}return c};k.prototype.$AdsReviewAPIFeedbackHelper1=function(a,c){return b("md5")(JSON.stringify(Object.assign({},{spec:a},c)))};k.prototype.$AdsReviewAPIFeedbackHelper2=function(a,b){var c=this.$AdsReviewAPIFeedbackHelper3(b.warningData),d=c.policies;c=c.crowCompTypeToMessages;if(!this.$AdsReviewAPIFeedbackHelper4(b))return babelHelpers["extends"]({},a,{feedback:new k({adHash:a.feedback.adHash,policies:d,reviewFeedback:b,imageUniqueIdentifierToBoxesAndPolicy:b.imageUniqueIdentifierToBoxesAndPolicy,crowCompTypeToMessages:c}),renderData:j});var e=this.$AdsReviewAPIFeedbackHelper3(b.data);d=d.union(e.policies);c=c.mergeDeep(e.crowCompTypeToMessages);return babelHelpers["extends"]({},a,{feedback:new k({adHash:a.feedback.adHash,policies:d,reviewFeedback:b,imageUniqueIdentifierToBoxesAndPolicy:b.imageUniqueIdentifierToBoxesAndPolicy,crowCompTypeToMessages:c}),renderData:j})};k.prototype.$AdsReviewAPIFeedbackHelper3=function(a){__p&&__p();var c=b("immutable").Map(),d=b("immutable").Set();Object.keys(a).forEach(function(e){e=b("AdsReviewAPIUtils").getCROWType(e);var f=a[e],g=b("immutable").List();Object.keys(f).forEach(function(a){d=d.add(a);a=f[a];a.feedback_info&&(g=g.push(a.feedback_info.description))});c=c.set(e,g)});return{policies:d,crowCompTypeToMessages:c}};k.prototype.$AdsReviewAPIFeedbackHelper4=function(a){return!!a&&!!a.feedback&&a.feedback===b("AdContentFeedbackTypes").REJECT};function k(){g.apply(this,arguments)}e.exports=k}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin",["AdsCFAdgroupProviderStore","AdsDataAtom","AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils","AdsReviewAPIFeedbackHelper","AdsSelectorUtils","adsCFCampaignStateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{data:{accountID:"",adgroupSpec:null,campaignObject:null},feedback:new(b("AdsReviewAPIFeedbackHelper"))(),renderData:b("immutable").Map()},legacyFluxReduce:function(a,c){b("AdsDataAtom").waitFor([].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsCFCampaignStateSelector")]),[b("AdsCFAdgroupProviderStore").getDispatchToken()]));return b("AdsCFAdgroupProviderStore").hasChanged()||b("AdsSelectorUtils").hasAnyStoreChanged([b("adsCFCampaignStateSelector")])?b("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils").maybeValidateCurrentAd(a):a}};e.exports=a}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin",["AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils").maybeSetFeedbackImm(a,c.adFeedback)}};e.exports=a}),null);
__d("AdsCFReviewAPIProviderStore",["AdsReviewApiAdReviewApiRequestCompleteDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsReviewApiAdReviewApiRequestCompleteDataProvider").toFluxStore()}),null);
__d("AdsImageValidationAdImageValidationNoticeShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_IMAGE_VALIDATION.AD_IMAGE_VALIDATION_NOTICE_SHOWN");e.exports=a}),null);
__d("AdsImageValidationAdImageValidationToolUseAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_IMAGE_VALIDATION.AD_IMAGE_VALIDATION_TOOL_USE");e.exports=a}),null);
__d("AdsCreativeImageTextOverlayDialog.react",["cssVar","cx","fbt","invariant","ix","AdInterfacesAppNames","AdsArrowedContainer.react","AdsImageValidationAdImageValidationNoticeShownAction","AdsImageValidationAdImageValidationToolUseAction","CenteredContainer.react","Event","Image.react","ImageBlock.react","Layout.react","Link.react","List.react","React","SUIBusinessTheme","SUIText.react","XUIDialog.react","XUIDialogButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction","emptyObject"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m=b("Layout.react").Column;c=b("React").PropTypes;var n=5;d=babelHelpers.inherits(a,b("React").PureComponent);l=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.$2=function(a,b){return{textValidationToolShown:a.dialogShown!==b.dialogShown?b.dialogShown:!!this.state&&this.state.textValidationToolShown,currentImageIndex:0,boxesSelected:b.preselectedBoxes[0]||this.$3(),isMouseDown:!1,cellState:!1,visitedBoxesDuringMouseDown:{}}}.bind(this),this.renderLayers=function(){return b("React").createElement(b("XUIDialog.react"),{fixedTopPosition:40,layerHideOnBlur:!1,modal:!0,shown:this.state.textValidationToolShown,width:800,key:"textValidationDialog"},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},i._("Text Validation Tool")),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},this.props.readOnly?null:this.$5(),b("React").createElement(b("Layout.react"),{className:"_f_"},b("React").createElement(m,{className:"_g0 _3-90"},b("React").createElement(b("CenteredContainer.react"),null,this.$6(),this.$7())),b("React").createElement(m,{className:"_g1 _3-8t"},this.$8()))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:i._("Done"),use:"confirm",onClick:this.$9})))}.bind(this),this.$4=function(){this.props.images.length>0&&this.$11(0)}.bind(this),this.$9=function(){this.setState({textValidationToolShown:!1},this.props.onHide)}.bind(this),this.$5=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_3-8t _3-8q"},b("React").createElement(b("Image.react"),{className:"_3-8u",src:k("22946")}),i._("Ad images with text that takes up more than 20\u0025 of the image may not be approved. {Learn more about Facebook's Advertising Guidelines}.",[i._param("Learn more about Facebook's Advertising Guidelines",b("React").createElement(b("Link.react"),{href:"/help/468870969814641/",target:"_blank"},i._("Learn more about Facebook's Advertising Guidelines")))]))},this.$8=function(){return b("React").createElement("div",null,this.props.readOnly?this.$18():this.$19(),this.props.readOnly?this.$20():this.$21())}.bind(this),this.$20=function(){return b("React").createElement("div",{className:"_3r0b"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},i._("Ad images with more than 20\u0025 text may not be approved.")),b("React").createElement(b("SUIText.react"),{className:"_3-8q",display:"block",size:"meta1",theme:b("SUIBusinessTheme")},i._("Learn more about {=Facebook's Advertising Guidelines}.",[i._param("=Facebook's Advertising Guidelines",b("React").createElement(b("Link.react"),{href:"/help/468870969814641/",target:"_blank"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},i._("Facebook's Advertising Guidelines"))))])))},this.$22=function(){return this.state.boxesSelected.filter(function(a){return!!a}).length}.bind(this),this.$17=function(){this.$11(this.state.currentImageIndex+1)}.bind(this),this.$16=function(){this.$11(this.state.currentImageIndex-1)}.bind(this),this.$10=function(){if(this.props.readOnly)return;if(!this.state.isMouseDown)return;this.setState({isMouseDown:!1,visitedBoxesDuringMouseDown:{}})}.bind(this),this.state=this.$2(b("emptyObject"),this.props),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$2(this.props,a))};a.prototype.render=function(){return b("React").Children.count(this.props.children)===0?b("React").createElement("span",null,this.renderLayers()):b("React").createElement("span",null,b("React").createElement(b("Link.react"),{onClick:this.$4},this.props.children),this.renderLayers())};a.prototype.componentDidMount=function(){this.$1=b("Event").listen(document,"mouseup",this.$10),b("AdsImageValidationAdImageValidationNoticeShownAction").dispatch({images:this.props.images.map(function(a){return a.getUrl()})},{line:"167",module:"AdsCreativeImageTextOverlayDialog.react.js"})};a.prototype.componentWillUnmount=function(){this.$1.remove(),this.$1=null};a.prototype.$3=function(){var a=[];for(var b=0;b<n*n;++b)a[b]=!1;return a};a.prototype.$12=function(a){var c=this.$13(this.state.currentImageIndex);return!c?null:b("React").createElement(b("Image.react"),{src:c,width:a})};a.prototype.$13=function(a){if(a>=this.props.images.length)return null;a=this.props.images[a];if(!a.isStockImage())return a.getUrl();a.getFullSizeUrl()!==null||j(0,5031);return a.getFullSizeUrl()};a.prototype.$6=function(){__p&&__p();if(this.state.currentImageIndex>=this.props.images.length)return null;var a=this.props.images[this.state.currentImageIndex],c=+"480",d=+"360";c=c/a.getWidth();a.getHeight()*c>=d&&(c=d/a.getHeight());d=[];for(var e=0;e<n;++e){var f=[];for(var g=0;g<n;++g){var h=e*n+g;f.push(b("React").createElement("td",{className:(this.state.boxesSelected[h]?"_g2":"")+(!this.state.boxesSelected[h]&&this.props.readOnly?" _ily":"")+(!this.state.boxesSelected[h]&&!this.props.readOnly?" _ilz":"")+(this.state.boxesSelected[h]&&!this.props.readOnly?" _5e9c":"")+(!this.state.boxesSelected[h]&&!this.props.readOnly?" _5e9d":"")+" _ge",key:g,onMouseDown:this.$14.bind(this,e,g),onMouseMove:this.$15.bind(this,e,g)}))}d.push(b("React").createElement("tr",{key:e},f))}h=a.getWidth()*c;g=a.getHeight()*c;f=this.state.currentImageIndex<this.props.images.length-1;e=this.state.currentImageIndex>0;return b("React").createElement(b("AdsArrowedContainer.react"),{className:!f&&!e?"_3-98":"",onDecrement:e?this.$16:null,onIncrement:f?this.$17:null},b("React").createElement("div",{style:{height:g+"px"}},this.$12(h),b("React").createElement("table",{className:"_gj",style:{height:g+n+"px"}},b("React").createElement("tbody",null,d))))};a.prototype.$7=function(){if(this.props.images.length<=1)return null;var a=[];for(var c=0;c<this.props.images.length;++c)a.push(b("React").createElement("li",{key:c},b("React").createElement(b("Link.react"),{className:"_2ph-"+(this.state.currentImageIndex===c?" _h1":""),onClick:this.$11.bind(this,c)},c+1)));return b("React").createElement(b("List.react"),{border:"none",className:"_hd",direction:"horizontal",spacing:"large"},a)};a.prototype.$18=function(){var a=this.$22();return b("React").createElement("div",{border:"light",display:"block"},b("React").createElement(b("SUIText.react"),{className:"_3-8q",display:"block",size:"large_DEPRECATED",theme:b("SUIBusinessTheme")},i._("This image has approximately")),b("React").createElement(b("SUIText.react"),{className:"_hg"+(a>n?" _3r0a":"")+" _3-8q",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},i._("{Percentage of boxes selected, followed by: \u0025 Text}\u0025 Text",[i._param("Percentage of boxes selected, followed by: % Text",a*4)])))};a.prototype.$19=function(){var a=this.$22();return b("React").createElement(b("List.react"),{border:"light",className:"_he",direction:"horizontal",spacing:"large"},b("React").createElement("li",{className:"_2pi2 _hf"},b("React").createElement(b("SUIText.react"),{className:"_3-8q",display:"block",size:"large_DEPRECATED",theme:b("SUIBusinessTheme")},i._("Selected")),b("React").createElement(b("SUIText.react"),{className:"_hg _3-8p",customSizeUseSparingly:"xx-large",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a)),b("React").createElement("li",{className:"_2pi2 _hf"},b("React").createElement(b("SUIText.react"),{className:"_3-8q",display:"block",size:"large_DEPRECATED",theme:b("SUIBusinessTheme")},i._("Text")),b("React").createElement(b("SUIText.react"),{className:"_hg"+(a>n?" _hw":"")+" _3-8p",customSizeUseSparingly:"xx-large",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},i._("{Percentage of boxes selected}\u0025",[i._param("Percentage of boxes selected",a*4)]))))};a.prototype.$21=function(){var a=Math.floor(.2*n*n)+1;return b("React").createElement("div",{className:"_3r0b"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},i._("How to Use")),b("React").createElement("p",null,i._("Click on all boxes that contain text. If there is text in {Number of boxes to exceed 20\u0025 threshold} or more boxes of the grid, then your image may not meet our guidelines.",[i._param("Number of boxes to exceed 20% threshold",a)])),b("React").createElement("p",null,i._("If you have more than one image that includes text, then be sure to check each one.")))};a.prototype.$11=function(a){this.props.source===b("AdInterfacesAppNames").CREATE_FLOW&&b("AdsImageValidationAdImageValidationToolUseAction").dispatch({image:this.$13(a)},{line:"533",module:"AdsCreativeImageTextOverlayDialog.react.js"}),this.setState({currentImageIndex:a,boxesSelected:this.props.preselectedBoxes[a]||this.$3(),textValidationToolShown:!0})};a.prototype.$14=function(a,b){__p&&__p();if(this.props.readOnly)return;if(this.state.isMouseDown)return;a=a*n+b;b=this.state.boxesSelected;var c=this.state.boxesSelected[a];b[a]=!c;var d=this.state.visitedBoxesDuringMouseDown;d[a]=!0;this.setState({boxesSelected:b,visitedBoxesDuringMouseDown:d,isMouseDown:!0,cellState:c})};a.prototype.$15=function(a,b){__p&&__p();if(this.props.readOnly)return;a=a*n+b;if(this.state.isMouseDown&&this.state.visitedBoxesDuringMouseDown[a]===void 0&&this.state.boxesSelected[a]==this.state.cellState){b=this.state.boxesSelected;b[a]=!this.state.boxesSelected[a];var c=this.state.visitedBoxesDuringMouseDown;c[a]=!0;this.setState({boxesSelected:b,visitedBoxesDuringMouseDown:c})}};a.propTypes={images:c.array.isRequired,source:c.string,preselectedBoxes:c.arrayOf(c.arrayOf(c.bool)),readOnly:c.bool,dialogShown:c.bool,onHide:c.func};a.defaultProps={source:null,preselectedBoxes:[],readOnly:!1,dialogShown:!1,onHide:b("emptyFunction")};e.exports=a}),null);
__d("AdsFluxMixinMigrationUtils",["AdsFluxContainer","React","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c){var d=a.mixins||[];a.mixins=d;d.push(b);c&&d.push(c)}var h={bindMethods:function(a,b){b.forEach(function(b){typeof a[b]==="function"&&(a[b]=a[b].bind(a))})},createContainer:function(a,c,d){__p&&__p();var e,f;if(b("gkx")("677978")){var g=function(a,b){"use strict";f.constructor.call(this,a,b),h.bindMethods(this,i)},i=Object.keys(a).filter(function(b){return typeof a[b]==="function"});e=babelHelpers.inherits(g,b("React").Component);f=e&&e.prototype;g.getStores=function(){"use strict";return a.statics.stores};g.calculateState=function(b,c){"use strict";return a.statics.calculateState(b,c)};Object.entries(a.statics).forEach(function(a){var b=a[0];a=a[1];switch(b){case"getStores":case"calculateState":return;default:Object.defineProperty(g,b,{value:a})}});Object.entries(a).forEach(function(a){var b=a[0];a=a[1];switch(b){case"mixins":case"statics":case"propTypes":return;default:g.prototype[b]=a}});a.propTypes&&(g.propTypes=a.propTypes);return b("AdsFluxContainer").create(g,d)}else return c(a)},createFluxMixinLegacy:function(a,c){return function(d){g(d,a(d.statics.stores),c);return b("React").createClass(d)}},createStoreAndPropBasedStateMixin:function(a,c){return function(d){g(d,a.apply(void 0,d.statics.stores),c);var e=b("React").createClass(d);e.calculateStateCompat=e.calculateState;e.calculateState=function(a){return e.calculateStateCompat(null,a)};return e}}};e.exports=h}),null);
__d("AdsImageCroppedImageUploadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"AdsImageCroppedImageUploadSuccessDataActionPlugin");e.exports=a}),null);
__d("AdsSaveCropToAssetLibraryUtils",["Promise","AdsDaoGraph"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return new(b("Promise"))(function(b,c){var d=new Image();d.setAttribute("crossOrigin","anonymous");d.onload=function(){return b(d)};d.onerror=c;d.src=a})}function h(a,c){return new(b("Promise"))(function(b,d){d=document.createElement("canvas");var e=d.getContext("2d");d.width=c[1][0]-c[0][0];d.height=c[1][1]-c[0][1];e.drawImage(a,-c[0][0],-c[0][1]);b(d.toDataURL("img/png"))})}var i=function(a,b,c,d,e){return g(a).then(function(a){return h(a,b)}).then(function(a){return j(a,c,d,e)})},j=function(a,b,c,d){return babelHelpers["extends"]({},k(a),{accountId:d,name:b+"_"+c})},k=function(a){a=a.split(",");var b=a[0];a=a[1];return{encoding:b,bytes:a}},l=function(a){var c=function(b){return{accountID:a.accountId,hash:b.images[a.name].hash}};return new(b("Promise"))(function(d,e){b("AdsDaoGraph").add.imageForAccount.one(function(a){d(c(a))},babelHelpers["extends"]({},a,{handleError:e}))})};a=function(a,c){__p&&__p();var d=a.getUrl(),e=a.getName();if(d==null||e==null||a==null)return b("Promise").reject("Invalid data to save image");a=a.getCrops();a=Object.entries(a).map(function(a){var b=a[0];a=a[1];return i(d,a,e,b,c)});return b("Promise").all(a).then(function(a){return b("Promise").all(a.map(function(a){return l(a)}))})};c={saveCropsToAssetLibrary:a};e.exports=c}),null);
__d("AdsShouldSaveToAssetLibraryProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{shouldSaveToAssetLibrary:!1}};e.exports=a}),null);
__d("AdsShouldSaveToAssetLibraryProvider",["AdsShouldSaveToAssetLibraryProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsShouldSaveToAssetLibraryProviderPlugin"),"AdsShouldSaveToAssetLibraryProviderPlugin")}),null);
__d("AdsShouldSaveToAssetLibraryReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{shouldSaveToAssetLibrary:b.shouldSaveToAssetLibrary}}};e.exports=a}),null);
__d("AdsShouldSaveToAssetLibraryDataAction",["Laminar","AdsShouldSaveToAssetLibraryReducerPlugin","AdsShouldSaveToAssetLibraryProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsShouldSaveToAssetLibraryReducerPlugin"),b("AdsShouldSaveToAssetLibraryProvider"),{})]},"AdsShouldSaveToAssetLibraryDataActionPlugin");e.exports=a}),null);
__d("AdsImageCropperDialog.react",["AdImageSpecCropKeys","AdsAPIFacebookPosition","AdsImageCroppedImageUploadSuccessDataAction","AdsImageCropperEditor.react","AdsImageLegacy","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPlatformTypes","AdsSaveCropToAssetLibraryUtils","AdsShouldSaveToAssetLibraryDataAction","ApiAdPageTypeToPlatformMap","React","areEqual","emptyFunction","forEachObject","immutable","mapObject","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsSaveCropToAssetLibraryUtils").saveCropsToAssetLibrary,i=b("immutable").Map;c=b("React").PropTypes;var j=b("AdsPlatformTypes").DEFAULT_PLATFORM,k=function(a){return new(b("AdsImageLegacy"))(babelHelpers["extends"]({},a,{crops:a.crops&&i.isMap(a.crops)&&typeof a.crops.toJS==="function"?a.crops.toJS():a.crops}))};d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$4=function(a,b,c,d){d===void 0&&(d=!0),this.setState(function(e){return this.$7(e,a,b,c,d)}.bind(this),function(){this.props.onImageUpdate&&this.props.onImageUpdate(this.state.image)}.bind(this))}.bind(this),this.$3=function(){__p&&__p();var a={};b("forEachObject")(this.state.platformCustomizations,function(c,d){c.crops&&c.getCrop(b("AdImageSpecCropKeys").NO_CROP)&&delete c.crops,a[d]=c.toJSON()});var c=this.state.image;c.crops&&c.getCrop(b("AdImageSpecCropKeys").NO_CROP)&&delete c.crops;var d=c.toJSON();d.platformImageObjects=a;this.props.onSelect(d);this.props.onClose();this.props.accountID&&this.$9(c,this.props.accountID)}.bind(this),this.$6=function(a){var b=this.$8(a);if(!this.state.initialDialogState)return;b=this.state.initialDialogState[b];this.$4(b,a,b.crops,!1)}.bind(this),this.$8=function(a){return b("ApiAdPageTypeToPlatformMap")[a]||j},c}a.prototype.UNSAFE_componentWillMount=function(){this.$1(this.props)};a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:"crop_image_dialog_opened",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};a.prototype.UNSAFE_componentWillReceiveProps=function(a){(!b("areEqual")(a.image,this.props.image)||!b("areEqual")(a.platformCustomizations,this.props.platformCustomizations))&&this.$1(a)};a.prototype.$1=function(a){__p&&__p();var c=[],d=a.normalizeImageCrops?k(a.image):new(b("AdsImageLegacy"))(babelHelpers["extends"]({},a.image));c.push(d);var e={};a.platformCustomizations&&(e=b("mapObject")(a.platformCustomizations,function(d){d=a.normalizeImageCrops?k(d):new(b("AdsImageLegacy"))(babelHelpers["extends"]({},d));c.push(d);return d}));c.forEach(function(a){a.isStockImage()&&!a.hasFullSizeDimensions()&&a.fetchFullSizeDimensions(function(){return this.forceUpdate()}.bind(this))}.bind(this));var f,g;if(a.showConfirmButton){var h;f=babelHelpers["extends"]({},e,(h={},h[j]=d,h));g=Object.keys(f).reduce(function(a,b){a[b]=!1;return a},{})}this.setState({canResetChanges:g,image:d,initialDialogState:f,platformCustomizations:e})};a.prototype.render=function(){return b("React").createElement(b("AdsImageCropperEditor.react"),babelHelpers["extends"]({accountID:this.props.accountID,alwaysShowSpecSelector:this.props.alwaysShowSpecSelector,canChangeImage:this.props.canChangeImage,canSetPlatformCustomImage:this.props.canSetPlatformCustomImage,disabledSpecs:this.props.disabledSpecs,image:this.state.image,imageSpecs:this.$2(this.props.imageSpecs),isSingleCropMode:!0,isV1:this.props.isV1,libraryImages:this.props.libraryImages,platformCustomizations:this.state.platformCustomizations,selectedPlacement:this.props.selectedPlacement,shouldSaveToAssetLibrary:this.props.shouldSaveToAssetLibrary,showCropSize:this.props.showCropSize,showRealTimeTextChecker:this.props.showRealTimeTextChecker,showSpecSelector:!0,suppressValidationError:this.props.suppressValidationError,useDashedGrid:this.props.useDashedGrid,useNewSpecSelectorLabels:this.props.useNewSpecSelectorLabels,useNewTooltips:this.props.useNewTooltips,onClose:this.props.showConfirmButton?this.props.onClose:this.$3,onImageUpdate:this.$4,onSaveToLibraryCheckChange:this.$5},this.props.showConfirmButton?{onConfirm:this.$3,onReset:this.$6}:null,this.state.canResetChanges?{canResetChanges:this.state.canResetChanges}:null))};a.prototype.$7=function(a,b,c,d,e){__p&&__p();var f=a.image,g=babelHelpers["extends"]({},a.platformCustomizations);c=this.$8(c);var h=b.clone({crops:d});h.isStockImage()&&!h.hasFullSizeDimensions()&&h.fetchFullSizeDimensions(function(){return this.forceUpdate()}.bind(this));c===j||this.props.isSingleCropMode?(f=h,f.crops=d):(g[c]=h,g[c].crops=d);var i,k;if(this.props.showConfirmButton){i=a.initialDialogState&&a.initialDialogState[c]?a.initialDialogState:babelHelpers["extends"]({},a.initialDialogState,(d={},d[c]=h,d));h=Boolean(b.getAPICrops());k=babelHelpers["extends"]({},a.canResetChanges,(d={},d[c]=e&&h,d))}return{canResetChanges:k,image:f,initialDialogState:i,platformCustomizations:g}};a.prototype.$9=function(a,c){if(!this.props.shouldSaveToAssetLibrary)return;b("promiseDone")(h(a,c).then(function(a){b("AdsImageCroppedImageUploadSuccessDataAction").dispatch({imageData:a},{line:"477",module:"AdsImageCropperDialog.react.js"})}))};a.prototype.$5=function(a){b("AdsShouldSaveToAssetLibraryDataAction").dispatch({shouldSaveToAssetLibrary:a},{line:"486",module:"AdsImageCropperDialog.react.js"}),a&&b("AdsInterfacesLogger").log({eventName:"crop_image_save_to_library",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};a.prototype.$2=function(a){return!this.props.someAdgroupsHaveOffer&&!this.state.image.isStockImage()||a.length===1?a:a.filter(function(a){return a.position!==b("AdsAPIFacebookPosition").FEED||a.aspectRatio===1.91})};a.defaultProps={alwaysShowSpecSelector:!1,canSetPlatformCustomImage:!0,disabledSpecs:[],normalizeImageCrops:!1,showConfirmButton:!1,showCropSize:!1,showRealTimeTextChecker:!1,shouldSaveToAssetLibrary:!1,someAdgroupsHaveOffer:!1,useDashedGrid:!1,useNewTooltips:!1,useNewSpecSelectorLabels:!1,onClose:b("emptyFunction"),onSelect:b("emptyFunction")};a.propTypes={accountID:c.string,alwaysShowSpecSelector:c.bool,canSetPlatformCustomImage:c.bool,disabledSpecs:c.arrayOf(c.object).isRequired,image:c.object.isRequired,imageSpecs:c.array.isRequired,isSingleCropMode:c.bool,libraryImages:c.arrayOf(c.shape({url:c.string.isRequired,hash:c.string.isRequired})),platformCustomizations:c.objectOf(c.object),selectedPlacement:c.string,shouldSaveToAssetLibrary:c.bool,showConfirmButton:c.bool,showCropSize:c.bool,showRealTimeTextChecker:c.bool,suppressValidationError:c.bool,useDashedGrid:c.bool,useNewSpecSelectorLabels:c.bool,useNewTooltips:c.bool,onClose:c.func.isRequired,onImageUpdate:c.func,onSelect:c.func.isRequired};e.exports=a}),null);
__d("adsCreateQEParamsSelector",["adsCreateSelector","camelizeProps"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("adsCreateSelector")([a],function(a){var d=a.isDone()&&a.hasValue();return b("camelizeProps")(c.reduce(function(b,c){b[c]=d&&a.getValueEnforcing().getParamBool(c,!1);return b},{}))},{name:e.id})}e.exports=a}),null);
__d("adsImageCropperQESelector",["adsCreateAdAccountQESelector","adsCreateQEParamsSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateAdAccountQESelector")("cropping_improvements");c=["always_show_spec_selector","normalize_image_crops","show_confirm_button","show_crop_size","show_real_time_text_checker","use_dashed_grid","use_new_spec_selector_labels","use_new_tooltips"];d=b("adsCreateQEParamsSelector")(a,c);e.exports=d}),null);
__d("adsShouldSaveToAssetLibrarySelector",["AdsShouldSaveToAssetLibraryProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsShouldSaveToAssetLibraryProvider").toFluxSelector()}),null);
__d("adsUEditorAdgroupSomeHaveOfferSelector",["AdsAPICampaignPaths","AdsUEditorCampaignSelectors","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorCampaignSelectors").adObjectsList.some(function(a){return a.campaign.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OFFER_ID)!=null});a=b("adsCreateStoreSelector")(function(a){return a!=null?g.getStores(a):[]},function(a){return a!=null?g(a):!1},e.id+".selector");e.exports=a}),null);
__d("AdsImageCropperDialogContainer.react",["AdsFluxContainer","AdsImageCropperDialog.react","AdsUEditorContextType","React","adsImageCropperQESelector","adsShouldSaveToAssetLibrarySelector","adsUEditorAccountSelector","adsUEditorAdgroupSomeHaveOfferSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(a,c){a=c.adgroupEditorContext;return[].concat(b("adsImageCropperQESelector").getStores(),b("adsShouldSaveToAssetLibrarySelector").getStores(),b("adsUEditorAccountSelector").getStores(),b("adsUEditorAdgroupSomeHaveOfferSelector").getStores(a))};a.calculateState=function(a,c,d){a=d.adgroupEditorContext;d=b("adsShouldSaveToAssetLibrarySelector")();d=d.shouldSaveToAssetLibrary;var e=b("adsUEditorAccountSelector")();c=c&&c.accountID!=null?c.accountID:e.account_id;e=b("adsUEditorAdgroupSomeHaveOfferSelector")(a);return babelHelpers["extends"]({},b("adsImageCropperQESelector")(),{someAdgroupsHaveOffer:e,shouldSaveToAssetLibrary:d,accountID:c})};a.prototype.render=function(){return b("React").createElement(b("AdsImageCropperDialog.react"),babelHelpers["extends"]({},this.props,this.state))};function a(){g.apply(this,arguments)}a.defaultProps=b("AdsImageCropperDialog.react").defaultProps;a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:e.id+".exports"})}),null);
__d("AdsImageCropperIconContainer.react",["invariant","AdsFluxMixinMigrationUtils","AdsImageCollection","AdsImageCollectionViews","AdsImageCropperDialogContainer.react","AdsImageIDClasses","AdsImageInfoStore","AdsImageLegacy","AdsImageLibraryUtils","AdsInterfacesLogEvents","AdsInterfacesLogger","Link.react","LoadObject","React","ReactComponentWithPureRenderMixin","ReactFragment","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageIDClasses").AdsImageID;c=b("React").PropTypes;d=b("AdsFluxMixinMigrationUtils").createContainer({propTypes:{accountID:c.string,adlabel:c.string,canSetPlatformCustomImage:c.bool,cropIcon:c.node.isRequired,crops:c.object,disabledSpecs:c.arrayOf(c.object),image:c.instanceOf(b("AdsImageLegacy")),imageCollection:c.instanceOf(b("AdsImageCollection")),imageID:c.instanceOf(a),imageSpecs:c.arrayOf(c.object).isRequired,isSingleCropMode:c.bool,isUsingPACPhase2:c.bool,replaceImagesInCollection:c.bool,selectedPlacement:c.string,onConfirmCropping:c.func.isRequired},getDefaultProps:function(){return{replaceImagesInCollection:!0}},getInitialState:function(){return{showCropper:!1}},statics:{stores:[b("AdsImageInfoStore")],calculateState:function(a,c){c.imageID||c.image||g(0,724);a=c.image?b("LoadObject").withValue(c.image):c.imageID?b("AdsImageInfoStore").getFullSizeLegacyImage_DEPRECATED(c.imageID,c.crops):null;return{imageLoadObject:a}}},UNSAFE_componentWillMount:function(){this.props.replaceImagesInCollection&&this.props.imageCollection!=null&&b("AdsImageLibraryUtils").fetchImagesForAccount(this.props.imageCollection,{accountId:this.props.accountID})},render:function(){return b("React").createElement("span",null,b("React").createElement(b("Link.react"),{onClick:this._onCropClick},this.props.cropIcon),this.renderLayers())},renderLayers:function(){__p&&__p();if(!this.state.showCropper)return null;var a=this.state.imageLoadObject;a=a&&a.hasValue()?a.getValueEnforcing():null;if(!a)return null;a=a.toJSON();var c=this.props.imageCollection&&this.props.imageCollection.getImages(b("AdsImageCollectionViews").views.ALL).map(function(a){return a.toJSON()}).filter(function(a){return a.url&&a.hash}),d=this.props.selectedPlacement;if(!d){var e=this.props.imageSpecs.find(function(a){return!this.props.disabledSpecs||!this.props.disabledSpecs.some(function(b){return a.cropKey===b.cropKey&&a.placement===b.placement})}.bind(this));d=e&&e.placement}e=b("immutable").Set(this.props.imageSpecs.map(function(a){return a.placement}));e=b("React").createElement(b("AdsImageCropperDialogContainer.react"),{accountID:this.props.accountID,canSetPlatformCustomImage:this.props.canSetPlatformCustomImage,disabledSpecs:this.props.disabledSpecs,image:a,imageSpecs:this.props.imageSpecs,isSingleCropMode:this.props.isSingleCropMode||this.props.isUsingPACPhase2!==!1&&e.size===1,libraryImages:c,platformCustomizations:a.platformImageObjects,selectedPlacement:d,suppressValidationError:!0,onClose:this._hideCropper,onSelect:this._onConfirmCropping});return b("ReactFragment").create({cropperDialog:e})},_hideCropper:function(){this.setState({showCropper:!1}),b("AdsInterfacesLogger").log({eventName:"crop_image_dialog_hide",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},_onConfirmCropping:function(a){var c=new(b("AdsImageLegacy"))(a),d=c.getCrops();this.setState({showCropper:!1},function(){this.props.onConfirmCropping(c,d,this.props.adlabel)}.bind(this));b("AdsInterfacesLogger").log({eventName:"crop_image_dialog_confirm",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},_onCropClick:function(){this.setState({showCropper:!0}),b("AdsInterfacesLogger").log({eventName:"crop_image_dialog_show",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}},b("AdsFluxMixinMigrationUtils").createStoreAndPropBasedStateMixin(b("StoreAndPropBasedStateMixin"),b("ReactComponentWithPureRenderMixin")),{name:e.id,withProps:!0});e.exports=d}),null);
__d("AdsImagePanelSizes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({TINY_LWI:{height:64,width:112},TINY:{height:64,width:120},TINY_SQUARE:{height:120,width:120},SMALL:{height:72,width:136},SMALL_SQUARE:{height:136,width:136},MEDIUM:{height:84,width:180},LARGE:{height:120,width:290}});e.exports=a}),null);
__d("AdsImageValidationUtils",["AdsError","AdsInstagramErrorUtils","AdsSphericalPhotoErrorUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={_getSphericalPhotoErrors:function(a){return a.filter(function(a){return a.level===b("AdsError").Level.RECOMMEND&&b("AdsSphericalPhotoErrorUtils").isSphericalPhotoSpecificError(a)})},_getIGErrorMessage:function(a){a=a.filter(function(a){return a.level===b("AdsError").Level.RECOMMEND&&b("AdsInstagramErrorUtils").isInstagramError(a)});return a.length>0?b("AdsInstagramErrorUtils").getCombinedErrorMessage(a,b("AdsError").Level.RECOMMEND):null},getValidationWarningMessage:function(a,c){__p&&__p();var d=[],e=g._getIGErrorMessage(a);e!=null&&d.push(e);e=g._getSphericalPhotoErrors(a);e.length>0&&d.push(e[0].message);c!=null&&(d=d.concat(c));if(d.length!==0)return d.join("\n\n");e=a.filter(function(a){return a.level===b("AdsError").Level.NOTIFY});return e.length===0?null:e[0].message},getValidationErrorMessage:function(a){__p&&__p();a=a.filter(function(a){return a.level===b("AdsError").Level.WARN});var c=a.filter(function(a){return b("AdsInstagramErrorUtils").isInstagramError(a)});c=b("AdsInstagramErrorUtils").getCombinedErrorMessage(c,b("AdsError").Level.WARN);if(c!==null)return c;c=a.filter(function(a){return!b("AdsInstagramErrorUtils").isInstagramError(a)});return c.length>0?c.join("\n\n"):null}};e.exports=g}),null);
__d("AdsXoutBox.react",["cx","ix","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=null;this.props.isXoutable&&(a=b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},b("React").createElement(b("Link.react"),{className:"_x7t",onClick:this.props.onXoutClick},b("React").createElement(b("Image.react"),{src:h("23122")}))));return b("React").createElement(b("FBOverlayContainer.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4sh8"+(this.props.isXoutable?" _x7v":""))}),b("React").createElement(b("FBOverlayBase.react"),null,this.props.children),a)};function a(){"use strict";i.apply(this,arguments)}a.propTypes={isXoutable:c.bool,onXoutClick:c.func};a.defaultProps={isXoutable:!0};e.exports=a}),null);
__d("AdsImagePanelItem.react",["cx","fbt","invariant","ix","AdsCFReviewAPIProviderStore","AdsCreativeImageTextOverlayDialog.react","AdsError","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","AdsImageCollection","AdsImageCropperIconContainer.react","AdsImageIDUtils","AdsImageLegacy","AdsImagePanelSizes","AdsImageUploadRemoveErrorsDataAction","AdsImageValidationUtils","AdsInstagramErrorUtils","AdsPageTypes","AdsShutterstockImageByIDStore","AdsSphericalPhotoErrorUtils","AdsValidationIcon.react","AdsValidationIconType","AdsXoutBox.react","AdsXUIProgressBar.react","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FDSSpinner.react","FluxMixinLegacy","GradientBox.react","Image.react","Link.react","React","ReactComponentWithPureRenderMixin","SphericalMediaGyroIcon.react","SUIBusinessTheme","SUIText.react","TooltipData","asset","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("React").PropTypes;var k=100;c=b("React").createClass({displayName:"AdsImagePanelItem",mixins:[b("ReactComponentWithPureRenderMixin"),b("FluxMixinLegacy")([b("AdsCFReviewAPIProviderStore"),b("AdsShutterstockImageByIDStore")],{withProps:!0})],propTypes:{accountID:a.string,adlabel:a.string,allowFlexibleImageAspectRatio:a.bool,canUpload:a.bool,defaultLoadingPlaceholder:a.node,disableCropping:a.bool,disableImageCropperUpgrade:a.bool,disabledSpecs:a.arrayOf(a.object),fileInputNodeID:a.string,firstLoad:a.bool,image:a.instanceOf(b("AdsImageLegacy")),imageCollection:a.instanceOf(b("AdsImageCollection")),imageErrors:a.arrayOf(a.instanceOf(b("AdsError"))).isRequired,imageSpecs:a.arrayOf(a.object),isDefaultLoading:a.bool,isIndividualUploader:a.bool,isSingleCropMode:a.bool.isRequired,isUsingPACPhase2:a.bool,placement:a.string,progressValue:a.number,selected:a.bool,size:a.object,uploadDisabledReason:a.node,uploadErrors:a.arrayOf(a.shape({longMessage:a.node.isRequired,shortMessage:a.node.isRequired}).isRequired),uploadIcon:a.string,usePlacementAssetCustomizationCropper:a.bool,onClick:a.func,onConfirmCropping:a.func,onRemove:a.func,onUploadImageClick:a.func},statics:{calculateState:function(a,c){__p&&__p();a=[];var d=null,e="";if(c.image){var f=c.image.getHashOrUrl();a=b("AdsCFReviewAPIProviderStore").getState().feedback.getTextOverlayBoxesForIdentifier(f);e=b("AdsCFReviewAPIProviderStore").getState().feedback.getTextPenaltyWarningsForIdentifier(f);if(c.image.isStockImage()){f=c.image.getStockImageID();d=b("AdsShutterstockImageByIDStore").get(f)}}return{imageTextOverlayDialogShown:!1,isTextPenaltyViolation:b("AdsCFReviewAPIProviderStore").getState().feedback.getIsTextPenaltyViolation(),textOverlayBoxes:a,textOverlayWarning:e,size:c.size,stockImageLoadObject:d}}},getDefaultProps:function(){return{allowFlexibleImageAspectRatio:!1,canUpload:!1,disableCropping:!1,disableImageCropperUpgrade:!1,firstLoad:!0,imageErrors:[],isIndividualUploader:!1,isSingleCropMode:!1,isUsingPACPhase2:!1,selected:!1,size:b("AdsImagePanelSizes").MEDIUM,uploadErrors:null,onConfirmCropping:b("emptyFunction"),onUploadImageClick:b("emptyFunction")}},_receiveStockImageDetails:function(a){this.isMounted()&&this.props.image&&this.props.image.equals(a)&&this.forceUpdate()},UNSAFE_componentWillReceiveProps:function(a){this.setState({size:a.size})},render:function(){var a=this.props.image,c=a?a.getUrl():null,d;a?d=c?this._renderImage(a):null:this.props.progressValue?d=this._renderProgressBox(h._("Uploading"),this.props.progressValue):this.props.fileInputNodeID?this.props.isIndividualUploader?d=this._renderIndividualUploaderIcon():d=this._renderUploaderIcon():this.props.uploadErrors&&this.props.uploadErrors.length>0&&(d=this._renderErrorBox(this.props.uploadErrors,this._onRemoveErrors));return b("React").createElement("div",{className:this._getClassName(),style:this.state.size},d,this._renderImageTextOverlayDialog())},_onRemoveErrors:function(){b("AdsImageUploadRemoveErrorsDataAction").dispatch({},{line:"252",module:"AdsImagePanelItem.react.js"})},_renderImageTextOverlayDialog:function(){var a=this.props.image;return!a||!this._shouldShowTextOverlayWarning()?null:b("React").createElement(b("AdsCreativeImageTextOverlayDialog.react"),{dialogShown:this.state.imageTextOverlayDialogShown,images:[a],preselectedBoxes:[this.state.textOverlayBoxes],readOnly:!0,onHide:this._hideImageTextOverlayDialog})},_showImageTextOverlayDialog:function(){this.setState({imageTextOverlayDialogShown:!0})},_hideImageTextOverlayDialog:function(){this.setState({imageTextOverlayDialogShown:!1})},_renderCropIcon:function(){if(this.props.disableCropping||!this.props.isUsingPACPhase2&&!this.props.disableImageCropperUpgrade)return null;var a=b("React").createElement(b("AdsFBIconDownsized.react"),{src:j("406849")}),c=this.props.imageSpecs;c||i(0,1158);if(c.length===1&&c[0].placement===b("AdsPageTypes").MOBILE_INSTREAM_VIDEO)return null;var d=this.props.onConfirmCropping;d||i(0,1159);return b("React").createElement(b("FBOverlayElement.react"),{className:"__08",horizontal:"right",vertical:"bottom"},b("React").createElement("div",{className:"__09"},b("React").createElement("div",{className:"__0a"}),b("React").createElement("div",{className:"_5uvv"},b("React").createElement(b("AdsImageCropperIconContainer.react"),{accountID:this.props.accountID,adlabel:this.props.adlabel,canSetPlatformCustomImage:!this.props.usePlacementAssetCustomizationCropper,cropIcon:a,disabledSpecs:this.props.disabledSpecs,image:this.props.imageForCropper||this.props.image,imageCollection:this.props.imageCollection,imageSpecs:c,isSingleCropMode:this.props.isSingleCropMode,replaceImagesInCollection:!this.props.usePlacementAssetCustomizationCropper,selectedPlacement:this.props.placement,onConfirmCropping:d}))))},_renderRemoveIcon:function(){return!this.props.onRemove||!this.props.isUsingPACPhase2&&!this.props.disableImageCropperUpgrade?null:b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",vertical:"top"},b("React").createElement(b("Link.react"),{onClick:this._onRemoveClick},b("React").createElement(b("Image.react"),{src:j("23122")})))},_renderGradientBottom:function(){return b("React").createElement(b("FBOverlayElement.react"),{vertical:"bottom"},b("React").createElement(b("GradientBox.react"),{className:"_2npp",color:"black",direction:"up"}))},_renderClickableArea:function(){return this.props.onClick?b("React").createElement(b("FBOverlayElement.react"),null,b("React").createElement(b("Link.react"),{label:"Change preview",onClick:this.props.onClick})):null},_renderImage:function(a){__p&&__p();var c=this.props.imageSpecs;if(!c||!c.length)return null;var d=a.getCrops(),e=null;if(Object.keys(d).length>0){c=c.find(function(a){return a.cropKey===Object.keys(d)[0]});c!=null&&(e=a.getCrop(c.cropKey))}c=b("AdsImageIDUtils").getImageIDFromLegacyImage(this.props.accountID,a);if(!c)return null;a=a.getIsSphericalPhoto()?this._renderSphericalGyroIcon():this._renderCropIcon();return b("React").createElement(b("FBOverlayContainer.react"),null,b("React").createElement(b("FBOverlayBase.react"),null,b("React").createElement(b("AdsFullSizeImageBoxContainer.react"),{crop:e,height:this.state.size.height,imageID:c,renderStyle:this.props.allowFlexibleImageAspectRatio?"CONTAIN":"SCALE_CROP",width:this.state.size.width})),this._renderGradientBottom(),this._renderImageSizeInfo(),this._renderClickableArea(),this._renderImageValidationInfo(),a,this._renderRemoveIcon())},_renderImageSizeInfo:function(){__p&&__p();if(!this.props.image||!this.props.isUsingPACPhase2&&!this.props.disableImageCropperUpgrade)return null;var a=this.props.image,c=null,d=null,e=a.getCrops();if(a.isStockImage())if(a.hasFullSizeDimensions()){c=a.getFullSizeWidth();d=a.getFullSizeHeight();if(Object.keys(e).length!==0){var f=this._getCroppedImageDimensions(a);f&&(c=f.width,d=f.height)}}else a.fetchFullSizeDimensions(this._receiveStockImageDetails.bind(this,a));else{c=a.getWidth();d=a.getHeight();if(Object.keys(e).length!==0){f=this._getCroppedImageDimensions(a);f&&(c=f.width,d=f.height)}}return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",vertical:"bottom"},b("React").createElement("div",{className:"_2npq"},b("React").createElement("div",{className:!c||!d?"hidden_elem":""},h._("{width} \u00d7 {height}",[h._param("width",c),h._param("height",d)]))))},_renderSphericalGyroIcon:function(){return b("React").createElement(b("FBOverlayElement.react"),{className:"_4u53",horizontal:"right",vertical:"bottom"},b("React").createElement("span",null,b("React").createElement(b("SphericalMediaGyroIcon.react"),{className:"_4u54"})))},_getCroppedImageDimensions:function(a){a=a.getCrops();if(Object.keys(a).length===0)return null;var b=Object.keys(a)[0];a=a[b];b=Math.abs(a[0][0]-a[1][0]);a=Math.abs(a[0][1]-a[1][1]);return{height:a,width:b}},_renderImageValidationInfo:function(){var a=b("AdsImageValidationUtils").getValidationErrorMessage(this.props.imageErrors),c=this._getValidationWarningMessage(this.props.imageErrors);if(!(a||c))return null;c=[a||c];return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",vertical:"top"},b("React").createElement(b("AdsValidationIcon.react"),{className:this._getValidationIconClassName(),isError:!!a,messages:[c],type:this._getValidationIconType()}))},_getClassName:function(){var a=b("AdsImageValidationUtils").getValidationErrorMessage(this.props.imageErrors),c=this._getValidationWarningMessage(this.props.imageErrors),d=this._shouldShowTextPenaltyNotice(),e="_2npo";this.props.isIndividualUploader&&!this.props.canUpload&&(e=b("joinClasses")(e,"__07"));a?e=b("joinClasses")(e,"_5z2c"):c?e=b("joinClasses")(e,d?"_2p75":"_5z2d"):this.props.selected&&(e="__05");return e},_getValidationIconClassName:function(){var a=b("AdsImageValidationUtils").getValidationErrorMessage(this.props.imageErrors),c=this._getValidationWarningMessage(this.props.imageErrors),d="";a?d=b("joinClasses")(d,"_5z2e"):c&&(d=b("joinClasses")(d,"_5z2f"));return d},_getValidationIconType:function(){return b("AdsValidationIconType").ERROR_WHITE},_getValidationWarningMessage:function(a){var c=this._shouldShowTextOverlayWarning()?[this._getTextOverlayWarningMessages()[0]]:[];return b("AdsImageValidationUtils").getValidationWarningMessage(a,c)},_renderProgressBox:function(a,c){c=b("React").createElement(b("CenteredContainer.react"),{className:"_2npt",horizontal:!1,vertical:!0},b("React").createElement(b("AdsXUIProgressBar.react"),{className:"_3-8u",striped:this.props.progressValue===k,value:c}),b("React").createElement("div",{className:"_2npu"},a));return this.props.onRemove&&this.props.image?b("React").createElement(b("AdsXoutBox.react"),{className:"_4th8",onXoutClick:this._onRemoveClick},c):c},_renderIndividualUploaderIcon:function(){var a=b("React").createElement("div",{className:(this.props.canUpload?"_5uvy":"")+(this.props.canUpload?"":" __0c")}),c=null;this.props.isDefaultLoading?(a=b("React").createElement(b("FDSSpinner.react"),null),c=b("React").createElement("div",{className:"_5uvz"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.props.defaultLoadingPlaceholder))):this.props.firstLoad?c=b("React").createElement("div",{className:"_5uvz"},h._("Upload images")):c=b("React").createElement("div",{className:"_5uvz"},h._("Add more images"));var d=this.props.canUpload&&!this.props.isDefaultLoading,e=b("TooltipData").propsFor(this.props.uploadDisabledReason,"below","center"),f=d?this.props.fileInputNodeID:null;d=d?this.props.onUploadImageClick:b("emptyFunction");return b("React").createElement("label",babelHelpers["extends"]({},e,{className:"_2npv",htmlFor:f,role:"button",onClick:d}),b("React").createElement(b("CenteredContainer.react"),{className:"_2rd9",vertical:!0},a,c))},_renderUploaderIcon:function(){var a=b("React").createElement("div",{className:"_2npx"});this.props.uploadIcon==="image"&&(a=b("React").createElement("div",{className:"_3l-6"}));return b("React").createElement("label",{className:"_2npv",htmlFor:this.props.fileInputNodeID,role:"button",onClick:this.props.onUploadImageClick},b("React").createElement(b("CenteredContainer.react"),{className:"_2rd9",vertical:!0},a))},_renderErrorBox:function(a,c){a=a.map(function(a,c){return b("React").createElement("div",{className:"_3-8w _28kl",key:c},b("React").createElement(b("AdsValidationIcon.react"),{className:"_2xvd",messages:[a.longMessage],type:b("AdsValidationIconType").ERROR_IMAGE}),a.shortMessage)});return b("React").createElement(b("AdsXoutBox.react"),{onXoutClick:c},b("React").createElement(b("CenteredContainer.react"),{className:"_2rd9",style:this.state.size,vertical:!0},a))},_getStockErrorMessage:function(){var a=h._("Failed to load image."),b=h._("The stock image could not be loaded. Please remove the image and try again.");return{shortMessage:a,longMessage:b}},_onRemoveClick:function(){this.props.onRemove&&this.props.onRemove(this.props.image,this.props.adlabel)},_shouldShowTextOverlayWarning:function(){return!!this.state.textOverlayWarning},_shouldShowTextPenaltyNotice:function(){return!!this.state.textOverlayWarning&&this.state.isTextPenaltyViolation},_getTextOverlayWarningMessages:function(){var a;this._shouldShowTextPenaltyNotice()?a=h._("{Text penalty warning}",[h._param("Text penalty warning",this.state.textOverlayWarning)]):a=h._("Ad images with text that takes up more than 20\u0025 of the image may not be approved. Use another image or {=learn more} about using text in ads.",[h._param("=learn more",b("React").createElement(b("Link.react"),{onClick:this._showImageTextOverlayDialog},h._("learn more")))]);return[a]}});e.exports=c}),null);
__d("AdsImageAssetGridItem.react",["AdImageSpecsUtils","AdsImageCollection","AdsImageLegacy","AdsImagePanelItem.react","AdsImageValidation","React","curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=this.props.onSelectImageAsset?b("curry")(this.props.onSelectImageAsset,this.props.index):void 0,this.$2=function(){this.props.onRemoveImageAsset(this.props.index)}.bind(this),this.$3=function(a,b){this.props.onCropsChange(this.props.index,b)}.bind(this),c}a.prototype.render=function(){var a=this.props.imageSpecs?b("AdImageSpecsUtils").reduceAndMergeImageSpec(this.props.imageSpecs).toArray():[],c={height:this.props.image.height,width:this.props.image.width};c=b("AdsImageValidation").getAdsErrorsForImage(new(b("AdsImageLegacy"))(c),a);return b("React").createElement(b("AdsImagePanelItem.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,disableImageCropperUpgrade:!0,image:new(b("AdsImageLegacy"))(this.props.image),imageCollection:new(b("AdsImageCollection"))(),imageErrors:c,imageSpecs:this.props.imageSpecs,isSingleCropMode:!0,selected:!1,size:this.props.size,usePlacementAssetCustomizationCropper:!1,onClick:this.$1,onConfirmCropping:this.$3,onRemove:this.$2})};e.exports=a}),null);
__d("AdsImageValidationIcon.react",["AdsImageValidationUtils","AdsValidationIcon.react","AdsValidationIconType","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("AdsImageValidationUtils").getValidationErrorMessage(a.errors);if(c!==null)return b("React").createElement(b("AdsValidationIcon.react"),{className:a.className,isError:!0,messages:[c],type:b("AdsValidationIconType").WARNING});c=b("AdsImageValidationUtils").getValidationWarningMessage(a.errors);return c==null?null:b("React").createElement(b("AdsValidationIcon.react"),{className:a.className,isError:!1,messages:[c],type:b("AdsValidationIconType").WARNING})};e.exports=a}),null);
__d("AdsUnifiedImageUtils",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.crops;if(!b||Object.keys(b).length===0)return{height:a.height,width:a.width};a=Object.keys(b)[0];b=b[a];a=Math.abs(b[0][0]-b[1][0]);b=Math.abs(b[0][1]-b[1][1]);return{height:b,width:a}}function c(a){a=a.toJSON();var c=a.crops;return{crops:c instanceof b("immutable").Map?c.toJS():c,format:"image",hash:a.hash,height:a.height,name:a.name===""?null:a.name,url:a.url,width:a.width,isSphericalPhoto:a.isSphericalPhoto}}e.exports={fromLegacyImage:c,getCroppedImageDimensions:a}}),null);
__d("AdsUnifiedMediaRowView.react",["cx","AdsTestIDs","BackgroundImage.react","FBOverlayElement.react","FDSCloseButton.react","FlexboxContainer.react","GradientBox.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","emptyFunction","isEmpty","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.actionButtons,d=a.allowFlexibleImageAspectRatio,e=a.assetName,f=a.className,g=a.cropTransform,h=a.ctaCallback,i=a.ctaType,j=a.disableBackgroundGradient,k=a.display,l=a.infoRows,m=a.size,n=a.title,o=a.thumbnailSrc;a=a.thumbnailOverlay;var p=e!=null||i!=null||l&&l.length>0||c&&c.length>0;return b("React").createElement("div",{className:b("joinClasses")("_76_7"+(k==="inline-block"?" _6sjv":""),f)},n,i==="close"?b("React").createElement("div",{className:"_76_8"},b("React").createElement(b("FDSCloseButton.react"),{"data-testid":b("AdsTestIDs").UNIFIED_MEDIA_ROW_REMOVE_BUTTON,onClick:h||b("emptyFunction")})):null,b("React").createElement(b("Layout.react"),null,b("React").createElement(b("LayoutColumn.react"),null,b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",className:"_6sjw"+(o!=null&&!d?" _6sjx":"")+(o!=null&&d?" _73q7":"")+(p?" _3-91":""),cropTransform:g,height:m.height,src:o,width:m.width},b("isEmpty")(a)?null:b("React").createElement(b("React").Fragment,null,j===!0?null:b("React").createElement(b("FBOverlayElement.react"),{vertical:"bottom"},b("React").createElement(b("GradientBox.react"),{className:"_6sjy",color:"black",direction:"up"})),a))),p===!0?b("React").createElement(b("LayoutFillColumn.react"),null,b("React").createElement(b("Layout.react"),null,b("React").createElement(b("LayoutFillColumn.react"),null,b("React").createElement("div",{className:"ellipsis _6-4-"},e),b("React").createElement("div",{className:"ellipsis _6_ft"},l&&l.map(function(a,c){return b("React").createElement("div",{key:"info_row_"+c},a)})))),b("React").createElement(b("FlexboxContainer.react"),{className:"_3-8x",wrap:"wrap"},c&&c.map(function(a,c){return b("React").createElement("div",{className:"_3-90",key:"media_action_button"+c},a)}))):null))};e.exports=a}),null);
__d("AdsUnifiedImageCompactLayout.react",["cx","fbt","ix","AdsFBIconDownsized.react","AdsImagePanelSizes","AdsImageUtils","AdsImageValidationIcon.react","AdsUnifiedImageUtils","AdsUnifiedMediaRowView.react","FBOverlayElement.react","FDSSpinner.react","FDSText.react","Image.react","Link.react","LoadObject","React","SphericalMediaGyroIcon.react","asset","objectValues"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsUnifiedImageUtils").getCroppedImageDimensions;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onCropImageClick&&this.props.onCropImageClick(this.props.assetKey)}.bind(this),this.$2=function(){this.props.onRemoveImageClick&&this.props.onRemoveImageClick(this.props.assetKey)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.errors,d=a.imageLoadObject,e=a.onCropImageClick,f=a.onRemoveImageClick,g=a.title;a=a.size;var j;if(d instanceof b("LoadObject")){if(d.isLoading()||!d.hasValue())return b("React").createElement(b("AdsUnifiedMediaRowView.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,disableBackgroundGradient:!0,display:"inline-block",size:this.props.allowFlexibleImageAspectRatio?{height:a.width,width:a.width}:a,thumbnailOverlay:b("React").createElement("div",{className:"_6ssn"},b("React").createElement(b("FDSSpinner.react"),null)),title:g});j=d.getValueEnforcing()}else j=d;d=[];var l=k(j);l&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",key:"dimentions",vertical:"bottom"},b("React").createElement("div",{className:"_2phz"},b("React").createElement(b("FDSText.react"),{color:"white",size:"meta1",textAlign:"left"},b("React").createElement("span",{className:"_6sso"},h._("{width} \u00d7 {height}",[h._param("width",l.width),h._param("height",l.height)]))))));f&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"remove_button",vertical:"top"},b("React").createElement(b("Link.react"),{onClick:this.$2},b("React").createElement(b("Image.react"),{src:i("23122")}))));j.isSphericalPhoto===!0?d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"spherical_icon",vertical:"bottom"},b("React").createElement("div",{className:"_2pih _2pim"},b("React").createElement(b("SphericalMediaGyroIcon.react"),null)))):e&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"crop_icon",vertical:"bottom"},b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement("div",{className:"_6ssp"},b("React").createElement("div",{className:"_6ssq"}),b("React").createElement(b("AdsFBIconDownsized.react"),{src:i("406849")})))));c!=null&&c.length>0&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",key:"errors",vertical:"top"},b("React").createElement(b("AdsImageValidationIcon.react"),{className:"_3-8w _3-99",errors:c})));l=null;f=j.crops;if(f!=null){e=b("objectValues")(f);l=e.length>0?e[0]:null}c=b("AdsImageUtils").getImageTransformForBounds(j.width,j.height,a.width,a.height,l);return b("React").createElement(b("AdsUnifiedMediaRowView.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,cropTransform:c,display:"inline-block",size:this.props.allowFlexibleImageAspectRatio?{height:a.width,width:a.width}:a,thumbnailOverlay:d,thumbnailSrc:j.url,title:g})};a.defaultProps={assetKey:null,size:b("AdsImagePanelSizes").TINY};e.exports=a}),null);
__d("AdsUnifiedImageView.react",["AdsImageCropperDialogContainer.react","AdsImageLegacy","AdsImagePanelSizes","AdsTestIDs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=function(a){var c=a.cropperProps,d=a.isShown,e=a.onHideDialog;a=a.onCropperSelect;return!d||!c?null:b("React").createElement(b("AdsImageCropperDialogContainer.react"),babelHelpers["extends"]({},c,{onClose:e,onSelect:a}))};c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={cropperDialogShown:!1},this.$1=function(){this.setState({cropperDialogShown:!1})}.bind(this),this.$2=function(a){this.$1(),this.props.onCropImage&&this.props.onCropImage(this.props.assetKey,new(b("AdsImageLegacy"))(a))}.bind(this),this.$3=function(){this.setState({cropperDialogShown:!0})}.bind(this),this.$4=function(){this.props.onRemoveImageClick&&this.props.onRemoveImageClick(this.props.assetKey)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.allowFlexibleImageAspectRatio,d=a.assetKey,e=a.className,f=a.cropperProps,g=a.errors,i=a.hideAssetName,j=a.imageLoadObject,k=a.infoRows,l=a.size,m=a.title,n=a.onChangeImageClick,o=a.onCropImage,p=a.onRemoveImageClick;a=a.layoutRenderer;return b("React").createElement("div",{className:e,"data-testid":b("AdsTestIDs").UNIFIED_IMAGE_ROW_LAYOUT},b("React").createElement(a,{allowFlexibleImageAspectRatio:c,assetKey:d,errors:g,hideAssetName:i,imageLoadObject:j,infoRows:k,size:c?{height:l.width,width:l.width}:l,title:m,onChangeImageClick:n,onCropImageClick:o!=null?this.$3:void 0,onRemoveImageClick:p}),b("React").createElement(h,{cropperProps:f,isShown:this.state.cropperDialogShown,onCropperSelect:this.$2,onHideDialog:this.$1}))};a.defaultProps={assetKey:null,size:b("AdsImagePanelSizes").TINY};e.exports=a}),null);
__d("AdsImageAssetGrid.react",["ix","cx","fbt","AdsImageAssetGridItem.react","AdsImageLegacy","AdsTestIDs","AdsUnifiedImageCompactLayout.react","AdsUnifiedImageView.react","CenteredContainer.react","FDSText.react","Grid.react","React","SUIGlyphIcon.react","asset","gkx","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;c=babelHelpers.inherits(l,b("React").Component);j=c&&c.prototype;function l(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={hover:!1},this.$1=function(){this.setState({hover:!0})}.bind(this),this.$2=function(){this.setState({hover:!1})}.bind(this),b}l.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_2pim","_2pih"),style:this.props.size},b("React").createElement(b("CenteredContainer.react"),{className:"_fh5","data-testid":b("AdsTestIDs").IMAGE_SELECT_BUTTON,horizontal:!0,key:"img_place_holder",vertical:!0,onClick:this.props.onShowImageDialog,onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(b("SUIGlyphIcon.react"),{hover:this.state.hover,srcDefault:g("407431"),srcHover:g("378287")}),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",textAlign:"center"},i._("Add Images"))))};d=babelHelpers.inherits(a,b("React").PureComponent);k=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){this.props.onCropsChange(a,new(b("AdsImageLegacy"))(c).getCrops())}.bind(this),c}a.prototype.render=function(){var a=[],c=this.props;c.hideSelectImages&&a.push(b("React").createElement(l,{key:"AddImageButton",size:c.panelSize,onShowImageDialog:c.onShowImageDialog}));b("gkx")("692436")?c.images.forEach(function(d,e){a.push(b("React").createElement(b("AdsUnifiedImageView.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,assetKey:e,className:"_6zv1",cropperProps:{image:d,imageSpecs:c.imageSpecs,isSingleCropMode:!0},imageLoadObject:d,key:"img_"+e,layoutRenderer:b("AdsUnifiedImageCompactLayout.react"),size:c.panelSize,onCropImage:this.$1,onRemoveImageClick:c.onRemoveImageAsset}))}.bind(this)):c.images.forEach(function(d,e){a.push(b("React").createElement(b("AdsImageAssetGridItem.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,image:d,imageSpecs:c.imageSpecs,index:e,key:"img_"+e,showRemove:c.images.length>1,size:c.panelSize,onCropsChange:c.onCropsChange,onRemoveImageAsset:c.onRemoveImageAsset,onSelectImageAsset:c.onSelectImageAsset}))}.bind(this));return a.length===0?null:b("React").createElement(b("Grid.react"),{cols:3,spacing:"_2phz"},a)};e.exports=a}),null);
__d("AdsImageSelectorV2ModalClosedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_IMAGE_SELECTOR_V2_MODAL_CLOSED");e.exports=a}),null);
__d("AdsImageDCOSelector.react",["cx","fbt","invariant","AdImageSpecsUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsImageAssetGrid.react","AdsImageIDUtils","AdsImagePanelNote.react","AdsImageSelectorV2ConfigUtils","AdsImageSelectorV2ModalClosedAction","AdsImageSelectorV2ModalContainer.react","AdsImageSelectorV2Types","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsTestIDs","FDSButton.react","FDSText.react","Link.react","React","URI","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsImageSelectorV2Types").AdsImageSource,l=b("immutable").Map;c=10;function m(a){return a.hideImageSpecs||a.imageSpecs.length===0?null:b("React").createElement(b("AdsImagePanelNote.react"),{fromLWI:a.fromLWI,imageSpec:b("AdImageSpecsUtils").getRecommendedImageSpec(a.imageSpecs)||a.imageSpecs[0]})}function n(a){return a.hideSelectImages?null:b("React").createElement("div",{className:"_2pin","data-testid":b("AdsTestIDs").DCO_SELECT_IMAGES_BUTTTON,id:"dcoSelectImagesButton"},b("React").createElement(b("FDSButton.react"),{isDisabled:a.disabled,label:h._("Select Images"),onClick:a.onClick}))}function o(a){return b("React").createElement("div",{className:"_3-8o"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"meta1"},h._("For questions and more information, see the {=Facebook Ad Guidelines}.",[h._param("=Facebook Ad Guidelines",b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/ads-guide/"),target:"_blank"},h._("Facebook Ad Guidelines")))])))}d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={showChangeDialog:!1},this.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").SELECT_IMAGES_DIALOG_HIDE,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),this.setState({showChangeDialog:!1}),b("AdsImageSelectorV2ModalClosedAction").dispatch({},{line:"159",module:"AdsImageDCOSelector.react.js"})}.bind(this),this.$2=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").SELECT_IMAGES_DIALOG_SHOW,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),this.setState({showChangeDialog:!0})}.bind(this),this.$3=function(a){a=a?a.toJSON():[];this.$4(a)}.bind(this),c}a.prototype.render=function(){var a=this.props.images.length>0;return b("React").createElement("div",null,this.state.showChangeDialog?b("React").createElement(b("AdsImageSelectorV2ModalContainer.react"),{accountID:this.props.accountID,initialSource:k.ACCOUNT_IMAGE,isShown:!0,maxSelectedImageIDs:this.props.maxSelectedImages,selectedImageIDs:b("AdsImageIDUtils").getImageIDsFromImageInfoArray(this.props.accountID,this.$5(this.props.images)),sources:this.props.sources||this.$6(),specs:this.props.imageSpecs,onConfirmLegacy:this.$3,onHide:this.$1}):null,b("React").createElement(n,{disabled:this.props.disableSelectButtons,hideSelectImages:a&&!this.props.hideAssetsList,onClick:this.$2}),this.props.hideAssetsList?null:b("React").createElement(b("React").Fragment,null,b("React").createElement(m,{fromLWI:this.props.fromLWI,hideImageSpecs:a,imageSpecs:this.props.imageSpecs}),b("React").createElement(b("AdsImageAssetGrid.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,hideSelectImages:a,imageSpecs:this.props.imageSpecs,images:this.props.images,panelSize:this.props.panelSize,onCropsChange:this.props.onCropsChange,onRemoveImageAsset:this.props.onRemoveImageAsset,onSelectImageAsset:this.props.onSelectImageAsset,onShowImageDialog:this.$2})),this.props.fromLWI||this.props.hideAssetsList?null:b("React").createElement(o,{hideImageSpecs:a}))};a.prototype.$6=function(){var a=b("AdImageSpecsUtils").reduceAndMergeImageSpec(this.props.imageSpecs);return b("immutable").List([b("AdsImageSelectorV2ConfigUtils").getAccountImageConfig(this.props.accountID,a,!0),b("AdsImageSelectorV2ConfigUtils").getUploadImageConfig(this.props.accountID,a.first())])};a.prototype.$4=function(a){a=a.map(function(a){var b=a.hash;a=a.url;if(b!=null&&b!=="")return l({hash:b});a!=null&&a!==""||i(0,6132);return l({url:a})});this.props.onSetImageAssets(a)};a.prototype.$5=function(a){return a.map(function(a){var b=a.hash;a=a.url;if(b!=null&&b!=="")return{hash:b};a!=null&&a!==""||i(0,6133);return{url:a}})};a.defaultProps={fromLWI:!1,maxSelectedImages:c,hideAssetsList:!1};e.exports=a}),null);
__d("AdsLWIRemoveImageAssetAtIndexAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_LWI.REMOVE_IMAGE_ASSET_AT_INDEX");e.exports=a}),null);
__d("AdsLWISetImageCropsAtIndexAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_LWI.SET_IMAGE_CROPS");e.exports=a}),null);
__d("AdsLWIUpdateImageAssetsAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ADS_LWI.UPDATE_IMAGE_ASSETS");e.exports=a}),null);
__d("AdsLWIDCOImageSelectorContainer.react",["AdImageSpecsUtils","AdsImageDCOSelector.react","AdsImagePanelSizes","AdsImageSelectorV2ConfigUtils","AdsInstagramIdentityUtils","AdsLWIRemoveImageAssetAtIndexAction","AdsLWISetImageCropsAtIndexAction","AdsLWIUpdateImageAssetsAction","AdsLWIUpdateSelectedDCOPreviewDataAction","AdsPageInstagramAccountStore","AdsSelectorUtils","BoostedComponentConstants","BoostedComponentSectionV2Spinner.react","FluxContainer","React","adsLWICurrentInstanceDataSelector","adsLWIDeliveryPlacementsStoreDataSelector","adsLWIImageSpecsSelector","adsLWIImagesSelector","adsLWISelectedAccountIDSelector","adsLWISelectedAdgroupSelectors","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("BoostedComponentConstants").MAX_NUM_OF_DCO_CREATIVES,i=b("adsLWIImagesSelector").adsLWIImagesDCOSelector,j=b("adsLWIImagesSelector").adsLWIImagesSelector,k=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return b("AdsSelectorUtils").getStores([b("adsLWIDeliveryPlacementsStoreDataSelector"),b("adsLWISelectedAccountIDSelector"),k,i,j,b("adsLWICurrentInstanceDataSelector")])};a.calculateState=function(){__p&&__p();var a=b("adsLWICurrentInstanceDataSelector")();a=b("nullthrows")(a);a=a.pageID;var c=null;if(a!=null){var d=b("AdsPageInstagramAccountStore").get(a);d=b("AdsInstagramIdentityUtils").getEligibleInstagramAccount(!1,d);d&&(c=d.id)}return{accountID:b("adsLWISelectedAccountIDSelector")(),adgroupSpecLoadObject:k(),imageSpecs:b("adsLWIImageSpecsSelector")(),images:i(),instagramAccountID:c,pageID:a}};a.prototype.$1=function(){var a=b("AdImageSpecsUtils").reduceAndMergeImageSpec(this.state.imageSpecs);return b("immutable").List([b("AdsImageSelectorV2ConfigUtils").getAccountImageConfig(this.state.accountID,a,!0),b("AdsImageSelectorV2ConfigUtils").getPageImageConfig(this.state.pageID,a,!0),b("AdsImageSelectorV2ConfigUtils").getUploadImageConfig(this.state.accountID,a.first()),b("AdsImageSelectorV2ConfigUtils").getInstagramImageConfig(this.state.instagramAccountID,a,!0)])};a.prototype.$2=function(a,c){b("AdsLWISetImageCropsAtIndexAction").dispatch({assetIndex:a,crops:c},{line:"123",module:"AdsLWIDCOImageSelectorContainer.react.js"})};a.prototype.$3=function(a){b("AdsLWIRemoveImageAssetAtIndexAction").dispatch({assetIndex:a},{line:"130",module:"AdsLWIDCOImageSelectorContainer.react.js"})};a.prototype.$4=function(a){b("AdsLWIUpdateSelectedDCOPreviewDataAction").dispatch({assetIndex:a},{line:"136",module:"AdsLWIDCOImageSelectorContainer.react.js"})};a.prototype.$5=function(a){b("AdsLWIUpdateImageAssetsAction").dispatch({imageAssets:b("immutable").List(a)},{line:"140",module:"AdsLWIDCOImageSelectorContainer.react.js"})};a.prototype.render=function(){var a=this.state,c=a.adgroupSpecLoadObject;a=a.imageSpecs;if(c.isLoading()||!c.hasValue())return b("React").createElement(b("BoostedComponentSectionV2Spinner.react"),{height:100});c=this.state.images.toArray();return b("React").createElement(b("AdsImageDCOSelector.react"),{accountID:this.state.accountID,allowFlexibleImageAspectRatio:!1,fromLWI:!0,imageSpecs:a,images:c,maxSelectedImages:h,panelSize:b("AdsImagePanelSizes").TINY_LWI,sources:this.$1(),onCropsChange:this.$2,onRemoveImageAsset:this.$3,onSelectImageAsset:this.$4,onSetImageAssets:this.$5})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("AdsLWIImageCropperContainer.react",["AdsImagePanelItem.react","AdsLWIMultiAdgroupSpecActions","BoostedComponentSectionV2Spinner.react","React","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWICurrentInstanceDataSelector","adsLWIImageSpecsSelector","adsLWIImagesSelector","adsLWISelectedAdgroupSelectors","curry","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIMultiAdgroupSpecActions").updateImageCrops;a=b("adsLWIImagesSelector").adsLWIAdgroupImagefromImageDataSelector;c=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;var h=function(a,c,d,e,f,h){a=Object.keys(h)[0];if(a){d=b("immutable").fromJS((c={},c[a]=h[a],c));g(d)}};d=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({adgroupSpecLoadObject:c,image:a,instanceData:b("adsLWICurrentInstanceDataSelector"),imageSpecs:b("adsLWIImageSpecsSelector")},e.id),function(a){var c=a.adgroupSpecLoadObject,d=a.imageSpecs;if(c.isLoading()||!c.hasValue())return b("React").createElement(b("BoostedComponentSectionV2Spinner.react"),{height:100});c=b("nullthrows")(a.instanceData);var e=c.appID,f=c.boostID,g=c.pageID;c=c.targetID;return b("React").createElement(b("AdsImagePanelItem.react"),{disableImageCropperUpgrade:!0,image:a.image,imageSpecs:d,onConfirmCropping:b("curry")(h,e,f,g,c)})});e.exports=d}),null);
__d("AdsLWIStockImageButtonAndNux.react",["AdsLWIBrowseLibraryImageSelectorContainer.react","AdsLWINewMediaEditorStrings","AdsLWIWithNux.react","FDSText.react","FlexLayout.react","React","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWIWithNux.react")(b("AdsLWIBrowseLibraryImageSelectorContainer.react"));function a(){return b("React").createElement(g,{buttonLabel:b("AdsLWINewMediaEditorStrings").FREE_STOCK_IMAGE_BUTTON_TEXT,nuxProps:{children:b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"white",size:"body3",weight:"bold"},b("AdsLWINewMediaEditorStrings").FREE_STOCK_IMAGE_BUTTON_NUX_TITLE),b("React").createElement(b("FDSText.react"),{color:"white",size:"body3"},b("AdsLWINewMediaEditorStrings").FREE_STOCK_IMAGE_BUTTON_NUX_BODY)),customWidth:240,hideOnXout:!0,position:"above",type:b("SimpleNUXMessageTypes").ADS_LWI_FREE_STOCK_IMAGE_BUTTON_NUX,width:"custom"}})}e.exports=a}),null);
__d("AdsLWIVideoThumbnails.react",["cx","AdsArrowedCarousel.react","AdsSelected.react","AdsUiImage.react","BoostedComponentImageLibrarySelector.react","BoostedComponentStrings","CenteredContainer.react","Layout.react","Link.react","React","curry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn;function k(a){var c=a.thumbnail,d=a.index,e=a.isSelected;a=a.onThumbnailClick;return b("React").createElement(b("AdsSelected.react"),{isSelected:e,key:"thumbnail_"+d},b("React").createElement(b("Link.react"),{onClick:b("curry")(a,c)},b("React").createElement(b("AdsUiImage.react"),{fixedHeight:80,key:d,realHeight:c.height,realWidth:c.width,src:c.uri})))}c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){a={width:a[0].getWidth(),height:a[0].getHeight(),uri:a[0].getUrl()||"",id:""};this.props.onThumbnailClick(a)}.bind(this),b}a.prototype.render=function(){var a=b("React").createElement(b("Link.react"),null,b("React").createElement(b("AdsSelected.react"),{isSelected:!1},b("React").createElement(b("CenteredContainer.react"),{className:"_3xv3",vertical:!0},b("React").createElement(b("AdsUiImage.react"),{fixedHeight:24,realHeight:24,realWidth:24,src:"/images/ads/mediapanel/thumbnailPicker-plus.png"}),b("React").createElement("div",{className:"_1kyz"},b("BoostedComponentStrings").CREATIVE_VIDEO_CUSTOM_THUMBNAIL))));return b("React").createElement("div",{className:"_1ky_"},this.props.mediaFormatForNewMediaEditor?null:b("React").createElement(i,{className:"_1kz0"},b("React").createElement(b("BoostedComponentImageLibrarySelector.react"),{accountID:this.props.accountID,className:b("joinClasses")("_3-99","_3-90"),clickableTrigger:a,pageID:this.props.pageID,tooltipText:b("BoostedComponentStrings").IMAGE_SELECTOR_TOOLTIP_TEXT,onImagesSelected:this.$1})),b("React").createElement(b("Layout.react"),null,b("React").createElement(j,null,b("React").createElement(b("AdsArrowedCarousel.react"),{className:"_3-96"},this.props.selectedVideoThumbnails.map(function(a,c){return b("React").createElement(k,{index:c,isSelected:!!this.props.selectedThumbnail&&a.id===this.props.selectedThumbnail.id,key:c,thumbnail:a,onThumbnailClick:this.props.onThumbnailClick})}.bind(this))))))};e.exports=a}),null);
__d("BoostedComponentSlideshowUploaderV2",["AdsSlideshowUploader","BoostedComponentCreativeActionsV2"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("BoostedComponentCreativeActionsV2").handleVideoEncodingSuccess,i=b("BoostedComponentCreativeActionsV2").hanldeVideoEncodingFailure;c=babelHelpers.inherits(a,b("AdsSlideshowUploader"));g=c&&c.prototype;function a(a,b){g.constructor.call(this),this.$BoostedComponentSlideshowUploaderV22=b,this.$BoostedComponentSlideshowUploaderV21=a}a.prototype.abort=function(){this.$BoostedComponentSlideshowUploaderV23=!0};a.prototype.isAborted=function(){return!!this.$BoostedComponentSlideshowUploaderV23};a.prototype.__handleEncodingSuccess=function(a,b){if(this.$BoostedComponentSlideshowUploaderV23)return;h(this.$BoostedComponentSlideshowUploaderV21,a,null,this.$BoostedComponentSlideshowUploaderV22)};a.prototype.__handleUploadFailure=function(a){if(this.$BoostedComponentSlideshowUploaderV23)return;i(a,this.$BoostedComponentSlideshowUploaderV22)};e.exports=a}),null);
__d("AdsSlideshowRestoreSlideshowStateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"RESTORE_SLIDESHOW_STATE");e.exports=a}),null);
__d("AdsAccountVideoListLoadMoreReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};e.exports=a}),null);
__d("AdsAccountVideoListLoadMoreDataAction",["Laminar","AdsAccountVideoListLoadMoreReducerPlugin","AdsAccountVideoListDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountVideoListLoadMoreReducerPlugin"),b("AdsAccountVideoListDataProvider"),{})]},"ACCOUNT_VIDEOS_LIST_LOAD_MORE");e.exports=a}),null);
__d("AdsPageVideoListLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"PAGE.VIDEO.LIST.LOAD_ERROR");e.exports=a}),null);
__d("AdsPageVideoListDataLoader",["AdsGraphAPI","AdsPageVideoListLoadedDataAction","AdsPageVideoListLoadErrorDataAction","AdsVideoDialogSortConstants","VideoGraphFields","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID,b("VideoGraphFields").UPDATED_TIME],h=b("gkx")("677875")?25:100;function i(a,c){var d=a.data.map(function(a){return{id:a.id,updatedTime:a.updated_time}});a=a.paging&&a.paging.next!=null&&a.paging.next!==""?a.paging.cursors.after:null;b("AdsPageVideoListLoadedDataAction").dispatch({after:a,query:c,videos:d},{line:"44",module:"AdsPageVideoListDataLoader.js"})}function j(a,c){b("AdsPageVideoListLoadErrorDataAction").dispatch({error:a,query:c},{line:"52",module:"AdsPageVideoListDataLoader.js"})}function a(a,c){var d=a.toJS(),f=d.pageID,k=d.accessToken;d=babelHelpers.objectWithoutProperties(d,["pageID","accessToken"]);var l=a.filtering?a.filtering.toJS():[];d=babelHelpers["extends"]({sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},d,{access_token:k,after:c,fields:g,filtering:[{field:b("VideoGraphFields").LIVE_STATUS,operator:"NOT_EQUAL",value:"is_live_broadcast"}].concat(l),limit:h});b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",f).edge("indexed_videos").batched().get(d),function(b){return i(b,a)},function(b){return j(b,a)})}e.exports={loadVideos:a}}),null);
__d("AdsPageVideoListLoadedReducerPlugin",["LoadObject","gkx"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){if(!b("gkx")("677875"))return a;var d=a.getData().get(c.query),e=d.getValueEnforcing(),f=e.videoMap.withMutations(function(a){c.videos.forEach(function(b){return a.set(b.id,b)})});return!d.isLoading()&&c.after===e.after&&f===e.videoMap?a:a.set(c.query,b("LoadObject").withValue({after:c.after,videoMap:f}))}};e.exports=a}),null);
__d("AdsPageVideoListLoadedDataAction",["Laminar","AdsPageVideoListLoadedReducerPlugin","AdsPageVideoListProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPageVideoListLoadedReducerPlugin"),b("AdsPageVideoListProvider"),{})]},"PAGE.VIDEO_LIST_LOADED");e.exports=a}),null);
__d("AdsPageVideoListProvider",["AdsPageVideoListProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsPageVideoListProviderPlugin"),"AdsPageVideoListProviderPlugin")}),null);
__d("AdsPageVideoListProviderPlugin",["AdsPageVideoListDataLoader","LoadObject","LoadObjectMap","immutable"],(function(a,b,c,d,e,f){"use strict";var g={after:null,videoMap:b("immutable").OrderedMap()};a={initialState:function(a){return b("LoadObjectMap").create(function(c){c.forEach(function(c){b("AdsPageVideoListDataLoader").loadVideos(c),a(function(a){return a.set(c,b("LoadObject").loading().setValue(g))})})},function(a){return!a.isLoading()&&!a.isUpdating()&&!a.hasValue()})}};e.exports=a}),null);
__d("AdsPageVideoListLoadMoreReducerPlugin",["AdsPageVideoListDataLoader"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){var d=a.getData().get(c.query),e=d.getValueEnforcing();e=e.after;if(!d.isDone()||e==null)return a;b("AdsPageVideoListDataLoader").loadVideos(c.query,e);return a.set(c.query,d.updating())}};e.exports=a}),null);
__d("AdsPageVideoListLoadMoreDataAction",["Laminar","AdsPageVideoListLoadMoreReducerPlugin","AdsPageVideoListProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPageVideoListLoadMoreReducerPlugin"),b("AdsPageVideoListProvider"),{})]},"PAGE_VIDEOS_LIST_LOAD_MORE");e.exports=a}),null);
__d("AdsAccountVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({accountID:void 0,max_aspect_ratio:void 0,maxheight:void 0,maxlength:void 0,maxwidth:void 0,min_aspect_ratio:void 0,minheight:void 0,minlength:void 0,minwidth:void 0,sort:void 0,title:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsAccountVideoListDataSelector",["AdsAccountVideoListDataProvider","AdsAccountVideosQuery","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue({after:null,ids:[],query:null});a=b("adsCreateStoreSelector")([b("AdsAccountVideoListDataProvider").toFluxStore()],function(a){var c=a.accountID;a=a.videoAPIParams;if(c===null)return g;var d=new(b("AdsAccountVideosQuery"))(babelHelpers["extends"]({},a,{accountID:c}));a=b("AdsAccountVideoListDataProvider")().get(d);return a.map(function(a){return{after:a.after,ids:a.videoSet.toArray(),query:d}})},e.id+".adsAccountVideoListSelector");e.exports=a}),null);
__d("AdsVideoApiParamProviderStore",["AdsVideoApiParamDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsVideoApiParamDataProvider").toFluxStore()}),null);
__d("AdsAccountVideoListLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ACCOUNT.VIDEO.LIST.LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountVideoListLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"ACCOUNT.VIDEO_LIST_LOADED");e.exports=a}),null);
__d("AdsAccountVideoListDataLoader",["AdsAccountVideoListLoadedDataAction","AdsAccountVideoListLoadErrorDataAction","AdsGraphAPI","AdsVideoDialogSortConstants","VideoGraphFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID,b("VideoGraphFields").UPDATED_TIME],h=25;function i(a,c){var d=a.data.map(function(a){return{id:a.id,updatedTime:a.updated_time}});a=a.paging&&a.paging.next!=null&&a.paging.next!==""?a.paging.cursors.after:null;b("AdsAccountVideoListLoadedDataAction").dispatch({after:a,query:c,videos:d},{line:"41",module:"AdsAccountVideoListDataLoader.js"})}function j(a,c){b("AdsAccountVideoListLoadErrorDataAction").dispatch({error:a,query:c},{line:"49",module:"AdsAccountVideoListDataLoader.js"})}function a(a,c){var d=a.toJS(),f=d.accountID;d=babelHelpers.objectWithoutProperties(d,["accountID"]);d=babelHelpers["extends"]({sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},d,{after:c,fields:g,limit:h});b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(f).edge("advideos").batched().get(d),function(b){return i(b,a)},function(b){return j(b,a)})}e.exports={loadVideos:a}}),null);
__d("AdsAccountVideoListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ACCOUNT.VIDEO.LIST.LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsAccountVideoListLoadMoreDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ACCOUNT_VIDEOS_LIST_LOAD_MORE";e.exports={actionType:a}}),null);
__d("AdsAccountVideoListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ACCOUNT.VIDEO_LIST_LOADED";e.exports={actionType:a}}),null);
__d("AdsBaseVideoListStore",["FluxLoadObjectStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={after:null,videoMap:b("immutable").OrderedMap()};g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__defaultWrapper=function(a){a=a||b("LoadObject").empty();return a.hasValue()?a:a.setValue(h)};a.prototype.__getVideoIDs=function(a){return this.__defaultWrapper(this.get(a)).map(function(b){return{after:b.after,ids:Array.from(b.videoMap.keys()),query:a}})};a.prototype.__handleVideoListLoaded=function(a,b,c,d){var e=this.__defaultWrapper(a.get(b)),f=e.getValueEnforcing(),g=f.videoMap.withMutations(function(a){c.forEach(function(b){return a.set(b.id,b)})});return!e.isLoading()&&d===f.after&&g===f.videoMap?a:this.__handleOne(a,b,{after:d,videoMap:g})};a.prototype.__handleVideoListLoadError=function(a,b,c){return this.__handleOne(a,b,c)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=a}),null);
__d("AdsAccountVideoListStore",["AdsAccountVideoListDataLoader","AdsAccountVideoListLoadedDataActionFlux","AdsAccountVideoListLoadErrorDataActionFlux","AdsAccountVideoListLoadMoreDataActionFlux","AdsAccountVideosQuery","AdsBaseVideoListStore","AdsDataAtom","AdsSelectorUtils","AdsVideoEncodingSuccessDataActionFlux","AdsVideoUploadStore","AdsVideoUploadUtil","LoadObject","adsVideoApiParamHasNoSearchNoSortAppliedSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LoadObject").withValue({after:null,ids:[],query:null});g=babelHelpers.inherits(a,b("AdsBaseVideoListStore"));g&&g.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsAccountVideoListLoadedDataActionFlux").actionType:return this.__handleVideoListLoaded(a,c.query,c.videos,c.after);case b("AdsAccountVideoListLoadErrorDataActionFlux").actionType:return this.__handleVideoListLoadError(a,c.query,c.error);case b("AdsAccountVideoListLoadMoreDataActionFlux").actionType:return this.$AdsAccountVideoListStore1(a,c.query);case b("AdsVideoEncodingSuccessDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsVideoUploadStore").getDispatchToken()].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")])));return b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")()||b("AdsVideoUploadUtil").atLeastOneVideoUploading(b("AdsVideoUploadStore").getState())?a:this.getInitialState();default:return a}};a.prototype.getVideoIDsByParams=function(a,c){return!a?h:this.__getVideoIDs(new(b("AdsAccountVideosQuery"))(babelHelpers["extends"]({},c,{accountID:a})))};a.prototype.__load=function(a){b("AdsAccountVideoListDataLoader").loadVideos(a)};a.prototype.$AdsAccountVideoListStore1=function(a,c){var d=this.__defaultWrapper(a.get(c)),e=d.getValueEnforcing();e=e.after;if(!e)return a;d.isUpdating()||b("AdsAccountVideoListDataLoader").loadVideos(c,e);return this.__setUpdating(a,[c])};function a(){g.apply(this,arguments)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPageVideoListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PAGE.VIDEO.LIST.LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsPageVideoListLoadMoreDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PAGE_VIDEOS_LIST_LOAD_MORE";e.exports={actionType:a}}),null);
__d("AdsPageVideoListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PAGE.VIDEO_LIST_LOADED";e.exports={actionType:a}}),null);
__d("AdsPageVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({accessToken:void 0,filtering:void 0,pageID:void 0,sort:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsVideoApiParamsForPagesEdgeFilter",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({field:void 0,operator:void 0,value:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsVideoParamProcessUtil",["AdsVideoApiParamsForPagesEdgeFilter","AdsVideoDialogFilterUtil","immutable"],(function(a,b,c,d,e,f){"use strict";a={convertPageVideoApiParamsToImmutable:function(a){a=b("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(a);var c;a&&a.filtering?c=b("immutable").List(a.filtering.map(function(a){return new(b("AdsVideoApiParamsForPagesEdgeFilter"))(babelHelpers["extends"]({},a,{value:Array.isArray(a.value)?b("immutable").List(a.value):a.value}))})):c=b("immutable").List();a=a&&a.sort?b("immutable").List(a.sort):null;return{filtering:c,sort:a}}};e.exports=a}),null);
__d("AdsPageVideoListStore",["AdsBaseVideoListStore","AdsDataAtom","AdsPageVideoListDataLoader","AdsPageVideoListLoadedDataActionFlux","AdsPageVideoListLoadErrorDataActionFlux","AdsPageVideoListLoadMoreDataActionFlux","AdsPageVideosQuery","AdsVideoParamProcessUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsBaseVideoListStore"));g&&g.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPageVideoListLoadedDataActionFlux").actionType:return this.__handleVideoListLoaded(a,c.query,c.videos,c.after);case b("AdsPageVideoListLoadErrorDataActionFlux").actionType:return this.__handleVideoListLoadError(a,c.query,c.error);case b("AdsPageVideoListLoadMoreDataActionFlux").actionType:return this.$AdsPageVideoListStore1(a,c.query);default:return a}};a.prototype.getVideoIDsByParams=function(a,c,d){d=b("AdsVideoParamProcessUtil").convertPageVideoApiParamsToImmutable(d);var e=d.filtering;d=d.sort;return this.__getVideoIDs(new(b("AdsPageVideosQuery"))({accessToken:c,filtering:e,pageID:a,sort:d}))};a.prototype.__load=function(a){b("AdsPageVideoListDataLoader").loadVideos(a)};a.prototype.$AdsPageVideoListStore1=function(a,c){var d=this.__defaultWrapper(a.get(c)),e=d.getValueEnforcing();e=e.after;if(e==null||e==="")return a;d.isUpdating()||b("AdsPageVideoListDataLoader").loadVideos(c,e);return this.__setUpdating(a,[c])};function a(){g.apply(this,arguments)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsAccountAndMaybePageVideoListSelector",["AdsAccountVideoListStore","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageVideoListStore","LoadObject","adsCreateStoreSelector","adsMemoizeWithArgs","jsObjectHash"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("adsMemoizeWithArgs")(function(a,c){a=b("AdsLoadObjectUtils").allForceWithValues([a,c]);c=a.getValueEnforcing();c=c[0];return{accountVideosQuery:c?c.query:null,hasNextPage:c?!!c.after:!1,videoIDs:a.map(function(a){var b=a[0];a=a[1];return(a?a.ids:[]).concat(b?b.ids:[])})}},function(a,c){return b("jsObjectHash")({accountVideoResult:a,pageVideosResult:c})},e.id+".combineAccounWithPageVideos");a=b("adsCreateStoreSelector")([b("AdsAccountVideoListStore"),b("AdsPageStore"),b("AdsPageVideoListStore")],function(a){__p&&__p();var c=a.accountID,d=a.pageID;a=a.videoAPIParams;c=b("AdsAccountVideoListStore").getVideoIDsByParams(c,a);var e;if(d==null||d==="")e=b("LoadObject").empty();else{var f=b("AdsPageStore").get(d);!b("AdsLoadStateUtils_LEGACY").isLoaded(f)?e=b("LoadObject").empty():e=b("AdsPageVideoListStore").getVideoIDsByParams(d,f.access_token,a)}return g(c,e)},e.id+".adsAccountAndMaybePageVideoListSelector");e.exports=a}),null);
__d("adsAccountVideoListSelector",["AdsAccountVideoListStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAccountVideoListStore")],function(a){var c=a.accountID;a=a.videoAPIParams;return b("AdsAccountVideoListStore").getVideoIDsByParams(c,a)},e.id+".adsAccountVideoListSelector");e.exports=a}),null);
__d("adsPageVideoListDataSelector",["AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageVideoListProvider","AdsPageVideosQuery","AdsVideoParamProcessUtil","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue(Object.freeze({after:null,ids:[],query:null}));a=b("adsCreateStoreSelector")([b("AdsPageStore"),b("AdsPageVideoListProvider").toFluxStore()],function(a){__p&&__p();var c=a.pageID;a=a.videoAPIParams;if(c==null)return g;var d=b("AdsPageStore").get(c);if(!b("AdsLoadStateUtils_LEGACY").isLoaded(d))return g;a=b("AdsVideoParamProcessUtil").convertPageVideoApiParamsToImmutable(a);var e=a.filtering;a=a.sort;var f=new(b("AdsPageVideosQuery"))({pageID:c,accessToken:d.access_token,filtering:e,sort:a});c=b("AdsPageVideoListProvider")().get(f);return c.isEmpty()?g:c.map(function(a){return{after:a.after,ids:Array.from(a.videoMap.keys()),query:f}})},e.id+".adsPageVideoListDataSelector");e.exports=a}),null);
__d("adsPageVideoListSelector",["AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageVideoListStore","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsPageStore"),b("AdsPageVideoListStore")],function(a){var c=a.pageID;a=a.videoAPIParams;if(c==null||c==="")return b("LoadObject").empty();var d=b("AdsPageStore").get(c);return!b("AdsLoadStateUtils_LEGACY").isLoaded(d)?b("LoadObject").empty():b("AdsPageVideoListStore").getVideoIDsByParams(c,d.access_token,a)},e.id+".adsPageVideoListSelector");e.exports=a}),null);
__d("adsSelectedTabVideoListSelector",["AdsAccountVideoListDataSelector","AdsCurrentSessionUploadedVideoIDsDataProvider","AdsVideoApiParamProviderStore","AdsVideoPickerUIDataProvider","AdsVideoSelectionHeaderTabTypes","LoadObject","adsAccountAndMaybePageVideoListSelector","adsAccountVideoListSelector","adsCreateStoreSelector","adsPageVideoListDataSelector","adsPageVideoListSelector","adsVideoApiParamHasNoSearchNoSortAppliedSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCurrentSessionUploadedVideoIDsDataProvider").toFluxSelector(),h=b("AdsVideoPickerUIDataProvider").toFluxSelector(),i=Object.freeze({accountVideosQuery:null,hasNextPage:!1,pageVideosQuery:null,videoIDs:b("LoadObject").withValue([])});a=b("adsCreateStoreSelector")([].concat(b("adsAccountAndMaybePageVideoListSelector").getStores(),b("gkx")("677847")?b("AdsAccountVideoListDataSelector").getStores():b("adsAccountVideoListSelector").getStores(),g.getStores(),b("gkx")("677875")?b("adsPageVideoListDataSelector").getStores():b("adsPageVideoListSelector").getStores(),h.getStores(),b("adsVideoApiParamHasNoSearchNoSortAppliedSelector").getStores(),[b("AdsVideoApiParamProviderStore")]),function(a){__p&&__p();var c=a.accountID;a=a.pageID;function d(a){if(!b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")())return a;var c=g();return a.map(function(a){return c.union(a).toArray()})}var e=h();e=e.selectedTab;var f=b("AdsVideoApiParamProviderStore").getState().param;switch(e){case b("AdsVideoSelectionHeaderTabTypes").LIBRARY:e=b("adsAccountAndMaybePageVideoListSelector")({accountID:c,pageID:a,videoAPIParams:f});e.videoIDs=d(e.videoIDs);return babelHelpers["extends"]({},e,{pageVideosQuery:null});case b("AdsVideoSelectionHeaderTabTypes").ACCOUNT:e=b("gkx")("677847")?b("AdsAccountVideoListDataSelector")({accountID:c,videoAPIParams:f}):b("adsAccountVideoListSelector")({accountID:c,videoAPIParams:f});c=d(e.map(function(a){return a.ids}));return{accountVideosQuery:e.hasValue()?e.getValueEnforcing().query:null,hasNextPage:e.hasValue()?!!e.getValueEnforcing().after:!1,pageVideosQuery:null,videoIDs:c};case b("AdsVideoSelectionHeaderTabTypes").PAGE:e=b("gkx")("677875")?b("adsPageVideoListDataSelector")({pageID:a,videoAPIParams:f}):b("adsPageVideoListSelector")({pageID:a,videoAPIParams:f});d=e.map(function(a){return a.ids});return{accountVideosQuery:null,hasNextPage:e.hasValue()?!!e.getValueEnforcing().after:!1,pageVideosQuery:e.hasValue()?e.getValueEnforcing().query:null,videoIDs:d};default:return i}},e.id+".adsSelectedTabVideoListSelector");e.exports=a}),null);
__d("AdsVideoPickerContainer.react",["AdsAccountVideoListLoadMoreDataAction","AdsFluxContainer","AdsPageVideoListLoadMoreDataAction","AdsSelectedAccountIDGetter","AdsVideoPicker.react","AdsVideoPickerUIDataProvider","AdsVideoPickerUtils","React","VideoCreatorProductType","adsLoadableVideoListSelector","adsSelectedTabVideoListSelector","adsSingleVideoUploadSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsVideoPickerUIDataProvider").toFluxSelector(),i=new Map();c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){__p&&__p();if(b("gkx")("677875")){var a=this.state,c=a.hasNextPage,d=a.accountVideosQuery;a=a.pageVideosQuery;c&&d&&b("AdsAccountVideoListLoadMoreDataAction").dispatch({query:d},{line:"206",module:"AdsVideoPickerContainer.react.js"});c&&a&&b("AdsPageVideoListLoadMoreDataAction").dispatch({query:a},{line:"211",module:"AdsVideoPickerContainer.react.js"})}else{d=this.state;c=d.hasNextPage;a=d.accountVideosQuery;c&&a&&b("AdsAccountVideoListLoadMoreDataAction").dispatch({query:a},{line:"218",module:"AdsVideoPickerContainer.react.js"})}}.bind(this),c}a.getStores=function(){return[].concat(b("AdsSelectedAccountIDGetter").getStores(),b("adsLoadableVideoListSelector").getStores(),b("adsSelectedTabVideoListSelector").getStores(),b("adsSingleVideoUploadSelector").getStores())};a.calculateState=function(a,c){__p&&__p();a=c.getVideoListErrors;var d=c.pageID,e=b("AdsSelectedAccountIDGetter").get({});e=b("adsSelectedTabVideoListSelector")({accountID:e,pageID:d});var f=e.accountVideosQuery,g=e.hasNextPage,j=e.pageVideosQuery;e=e.videoIDs;d=new Set(Array.from(b("AdsVideoPickerUtils").getShownTabs(d!=null)).filter(function(a){return!c.tabsToHide||!c.tabsToHide.has(a)}));e=b("adsLoadableVideoListSelector")({videoIDs:e});e&&c.showSlideshowsOnly&&(e=e.map(function(a){return a.filter(function(a){return a.creator_product===b("VideoCreatorProductType").SLIDESHOW})}));a=a&&e.hasValue()?a(e.getValueEnforcing()):i;var k=h(),l=k.selectedTab;k=k.shouldOpenPicker;return{accountVideosQuery:f,hasNextPage:g,pageVideosQuery:j,selectedTab:l,shouldOpenPicker:k,shownTabs:d,videoErrors:a,videoList:e}};a.prototype.render=function(){return b("React").createElement(b("AdsVideoPicker.react"),{accountCapabilities:this.props.accountCapabilities,adAccountID:this.props.adAccountID,adEditWarningMessage:this.props.adEditWarningMessage,children:this.props.children,enableMultipleUpload:this.props.enableMultipleUpload,errorMessage:this.props.errorMessage,filters:this.props.filters,hasHelpTray:this.props.hasHelpTray,hasNextPage:this.state.hasNextPage,hasRemoteUpload:this.props.hasRemoteUpload,recentUploadedVideoID:this.props.recentUploadedVideoID,instagramAccount:this.props.instagramAccount,instagramVideos:this.props.instagramVideos,maxSelectedVideos:this.props.maxSelectedVideos,selectableOnErrors:this.props.selectableOnErrors,selectedTab:this.state.selectedTab,selectedVideoIDs:this.props.selectedVideoIDs,shouldOpenPicker:this.state.shouldOpenPicker,showInstagramVideos:this.props.showInstagramVideos,showSelectVideoDialog:this.props.showSelectVideoDialog,showVideoDialogPanel:!0,shownTabs:this.state.shownTabs,uploadStateMap:this.props.uploadStateMap,videoErrors:this.state.videoErrors,videoList:this.state.videoList,onClose:this.props.onClose,onDialogCancel:this.props.onDialogCancel,onDialogConfirm:this.props.onDialogConfirm,onDismissError:this.props.onDismissError,onEndReached:this.$1,onImportConfirm:this.props.onImportConfirm,onOpen:this.props.onOpen,onSelectVideoDialogClose:this.props.onSelectVideoDialogClose,onTabSwitch:this.props.onTabSwitch,onUploadCancel:this.props.onUploadCancel,onVideoClickedByUser:this.props.onVideoClickedByUser,onVideoFileChange:this.props.onVideoFileChange})};a.defaultProps={selectedVideoIDs:[]};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsVideoPickerSwitchTabReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedTab:b.tabKey})}};e.exports=a}),null);
__d("AdsVideoSwitchTabReducerPlugin",["AdsVideoApiParamDataProvider","AdsVideoSelectionHeaderTabTypes"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.tabKey===b("AdsVideoSelectionHeaderTabTypes").IMPORT||c.tabKey===b("AdsVideoSelectionHeaderTabTypes").UPLOAD?b("AdsVideoApiParamDataProvider").getInitialState():a}};e.exports=a}),null);
__d("AdsVideoSwitchTabDataAction",["Laminar","AdsVideoPickerSwitchTabReducerPlugin","AdsVideoPickerUIDataProvider","AdsVideoSwitchTabReducerPlugin","AdsVideoApiParamDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoPickerSwitchTabReducerPlugin"),b("AdsVideoPickerUIDataProvider"),{}),b("Laminar").__createReducer(b("AdsVideoSwitchTabReducerPlugin"),b("AdsVideoApiParamDataProvider"),{})]},"VIDEO.SWITCH_TAB");e.exports=a}),null);
__d("BoostedComponentVideoSelector.react",["cx","fbt","invariant","ix","AdsCreateVideoButtonContainer.react","AdsFakeProgressBar.react","AdsLWINewMediaEditorStrings","AdsLWIRegisterGetterUtils","AdsSlideshowCreateResetDataAction","AdsSlideshowResetAllDataAction","AdsSlideshowRestoreSlideshowStateDataAction","AdsSlideshowSaveSlideshowStateDataAction","AdsUIMediaFormat","AdsVideoPickerContainer.react","AdsVideoSelectionHeaderTabTypes","AdsVideoSwitchTabDataAction","AdsVideoUploadUtil","BoostedComponentStrings","BoostedComponentVideoSource","BUIAdoptionCloseButton.react","FDSButton.react","FlexLayout.react","Image.react","Layout.react","SlideshowConstants","SlideshowEntrypoint","SUIBusinessTheme","SUIText.react","XUIButton.react","React"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("AdsLWIRegisterGetterUtils").registerAdsSelectedAdAccountGetter,m=b("Layout.react").Column,n=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){k.constructor.call(this),this.$6=function(a){this.props.onVideoPickerConfirm(a[0])}.bind(this),this.$9=function(){b("AdsSlideshowCreateResetDataAction").dispatch({},{line:"226",module:"BoostedComponentVideoSelector.react.js"}),this.props.slideshowUploader.abort()}.bind(this),this.$10=function(){b("AdsSlideshowResetAllDataAction").dispatch({},{line:"231",module:"BoostedComponentVideoSelector.react.js"}),this.props.onRemove()}.bind(this),l()}a.prototype.render=function(){if(this.props.selectedVideoName!=null&&this.props.selectedVideoName!=="")return this.$1();else if(this.props.isSlideshowSelected)return this.$2();else if(this.props.isSlideshowProcessing)return this.$3();return this.$4()};a.prototype.$5=function(a){b("AdsVideoSwitchTabDataAction").dispatch({tabKey:a},{line:"92",module:"BoostedComponentVideoSelector.react.js"})};a.prototype.$7=function(){b("AdsVideoSwitchTabDataAction").dispatch({tabKey:b("AdsVideoSelectionHeaderTabTypes").UPLOAD},{line:"99",module:"BoostedComponentVideoSelector.react.js"})};a.prototype.$8=function(a,c){return b("React").createElement(b("AdsVideoPickerContainer.react"),{adAccountID:this.props.accountID,adEditWarningMessage:null,hasHelpTray:!0,pageID:this.props.pageID,selectedVideoIDs:[],showInstagramVideos:!0,showSelectVideoDialog:!1,uploadStateMap:b("AdsVideoUploadUtil").wrapLegacyUploadInfoAsImmMap(this.props.selectedVideoName,this.props.uploadProgressValue,this.props.uploadStatus),onClose:this.props.onCancelUpload,onDialogConfirm:this.$6,onDismissError:this.props.onCancelUpload,onImportConfirm:this.props.onVideoImportConfirm,onOpen:c,onTabSwitch:this.$5,onUploadCancel:this.props.onCancelUpload,onVideoFileChange:this.props.onVideoUploadClick},b("React").createElement(b("FDSButton.react"),{label:a!=null&&a!==""?a:h._("Select Video"),size:"large"}))};a.prototype.$4=function(){var a=this.$8(b("AdsLWINewMediaEditorStrings").BROWSE_LIBRARY_BUTTON_TEXT),c=b("React").createElement(b("AdsCreateVideoButtonContainer.react"),{accountID:this.props.accountID,className:"_3-9a",entrypoint:b("SlideshowEntrypoint").BOOSTED_COMPONENT,maxSelectedImages:b("SlideshowConstants").max_photo_num,pageID:this.props.pageID,slideshowUploader:this.props.slideshowUploader,type:"button",usesXUIButton:!0,xuiButtonSize:"xlarge"});if(this.props.mediaFormatForNewMediaEditor&&this.props.mediaFormatForNewMediaEditor===b("AdsUIMediaFormat").SINGLE_VIDEO)return b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},b("React").createElement("div",{className:"_3-90"},a),this.$8(b("AdsLWINewMediaEditorStrings").UPLOAD_VIDEO_BUTTON_TEXT,this.$7));else if(this.props.mediaFormatForNewMediaEditor&&this.props.mediaFormatForNewMediaEditor===b("AdsUIMediaFormat").SLIDESHOW)return b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},a,c);else return b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},this.$8(),this.props.hideSlideshowButton?null:c)};a.prototype.$3=function(){return b("React").createElement("div",{className:"_5it1"},b("React").createElement("div",{className:"_2pid _2pir"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._("We're creating your slideshow. This can take between 30 seconds and 2 minutes."))),b("React").createElement(b("Layout.react"),{className:"_3-8y"},b("React").createElement(n,null,b("React").createElement(b("AdsFakeProgressBar.react"),{className:"_3-8w",expectedTime:3})),b("React").createElement(m,null,b("React").createElement(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3-99",onClick:this.$9}))))};a.prototype.$2=function(){return b("React").createElement("div",null,b("React").createElement(b("AdsCreateVideoButtonContainer.react"),{accountID:this.props.accountID,buttonName:h._("Edit Slideshow"),className:"_3-9a",entrypoint:b("SlideshowEntrypoint").BOOSTED_COMPONENT,maxSelectedImages:b("SlideshowConstants").max_photo_num,pageID:this.props.pageID,slideshowUploader:this.props.slideshowUploader,type:"button",usesXUIButton:!0,xuiButtonSize:"xlarge",onCloseDialog:this.$11,onShowDialog:this.$12}),b("React").createElement(b("XUIButton.react"),{className:"_3-9a",label:h._("Delete Slideshow"),size:"xlarge",onClick:this.$10}))};a.prototype.$1=function(){this.props.selectedVideoName!=null&&this.props.selectedVideoName!==""||i(0,4560);var a=null;switch(this.props.videoSource){case b("BoostedComponentVideoSource").UPLOAD:a=b("BoostedComponentStrings").getVideoUploadSuccessText(this.props.selectedVideoName);break;case b("BoostedComponentVideoSource").BROWSE_LIBRARY:case b("BoostedComponentVideoSource").PRELOAD_VIDEO:a=b("BoostedComponentStrings").getVideoSelectedText(this.props.selectedVideoName);break;default:}return b("React").createElement("div",{className:"_2i41"},b("React").createElement("div",{className:"_2i42"},b("React").createElement(b("Image.react"),{className:"_3vfj",src:j("76809")}),a),b("React").createElement(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_58zx",label:h._("Remove video"),onClick:this.props.onRemove}))};a.prototype.$11=function(){b("AdsSlideshowRestoreSlideshowStateDataAction").dispatch({},{line:"312",module:"BoostedComponentVideoSelector.react.js"})};a.prototype.$12=function(){b("AdsSlideshowSaveSlideshowStateDataAction").dispatch({},{line:"316",module:"BoostedComponentVideoSelector.react.js"})};e.exports=a}),null);
__d("BoostedComponentVideoPanelV2.react",["cx","AdsLWINewMediaEditorStrings","AdsLWIVideoThumbnails.react","AdsVideoUploadStatus","BoostedComponentLabeledEditor.react","BoostedComponentSlideshowUploaderV2","BoostedComponentStrings","BoostedComponentVideoSelector.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a);a=this.props;var c=a.accountID;a=a.instanceID;this.$1=new(b("BoostedComponentSlideshowUploaderV2"))(c,a)}a.prototype.UNSAFE_componentWillReceiveProps=function(a){var c=a.accountID;a=a.instanceID;(!this.$1||this.$1.isAborted())&&(this.$1=new(b("BoostedComponentSlideshowUploaderV2"))(c,a))};a.prototype.render=function(){var a=this.props,c=a.accountID,d=a.currentVideoThumbnail,e=a.hideSlideshowButton,f=a.isSlideshowProcessing,g=a.isSlideshowSelected,h=a.mediaFormatForNewMediaEditor,i=a.pageID,j=a.userID,k=a.videoName,l=a.videoSource,m=a.videoThumbnails,n=a.videoUploadProgress,o=a.videoUploadStatus,p=a.onCancelVideoUpload,q=a.onClearVideoCreative,r=a.onThumbnailClick,s=a.onVideoImportConfirm,t=a.onVideoPickerConfirm;a=a.onVideoUploadClick;var u=o===b("AdsVideoUploadStatus").NONE&&(k||m||g),v="_40rp"+(u?"":" _40rq");u=u?b("React").createElement(b("AdsLWIVideoThumbnails.react"),{accountID:c,mediaFormatForNewMediaEditor:h,pageID:i,selectedThumbnail:d,selectedVideoThumbnails:m,onThumbnailClick:r}):null;d=b("React").createElement(b("BoostedComponentVideoSelector.react"),{accountID:c,hideSlideshowButton:!!e,isSlideshowProcessing:f,isSlideshowSelected:g,mediaFormatForNewMediaEditor:h,pageID:i,selectedVideoName:k,slideshowUploader:this.$1,uploadProgressValue:n,uploadStatus:o,userID:j,videoSource:l,onCancelUpload:p,onRemove:q,onVideoImportConfirm:s,onVideoPickerConfirm:t,onVideoUploadClick:a});return h?b("React").createElement("div",null,d,b("React").createElement("div",{className:"_3-8y"},b("immutable").fromJS(m).size>0?b("React").createElement(b("BoostedComponentLabeledEditor.react"),{label:b("AdsLWINewMediaEditorStrings").THUMBNAIL_SECTION_TITLE},u):null)):b("React").createElement("div",null,b("React").createElement("div",{className:"_3-8y"},b("React").createElement("div",{className:"_40rp"},b("BoostedComponentStrings").CREATIVE_VIDEO_STEP_ONE),d),b("React").createElement("div",{className:"_3-8y"},b("React").createElement("div",{className:v},b("BoostedComponentStrings").CREATIVE_VIDEO_STEP_TWO),u))};e.exports=a}),null);
__d("adsLWIVideoEditorDetailsSelector",["AdsUnifiedCreativeAPIFieldMappings","BoostedComponentContainerUtils","BoostedComponentV2Utils","LoadObject","adsCreateSelector","adsLWIAdgroupStoreSelector","adsLWIBoostedActionCreativeStoreDataSelector","adsLWICurrentInstanceDataSelector","adsLWINewSelectedAdgroupIDSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING,h=b("BoostedComponentContainerUtils").isDataLoaded,i=b("BoostedComponentV2Utils").useNewConsolidatedCreativeStores;a=b("adsCreateSelector")([b("adsLWIBoostedActionCreativeStoreDataSelector")],function(a){var c;return!h([a])?b("LoadObject").loading():b("LoadObject").withValue({currentVideoThumbnail:a.currentVideoThumbnail,isSlideshowProcessing:a.isSlideshowProcessing,isSlideshowSelected:a.isSlideshowSelected,videoName:(c=(c=a.videoName)!=null?c:a.videoIDForNameFallback)!=null?c:"",videoSource:a.videoSource,videoThumbnails:a.videoThumbnails,videoUploadProgress:a.videoUploadProgress,videoUploadStatus:a.videoUploadStatus})},{name:e.id+".legacySelector"});c=b("adsCreateSelector")([b("adsLWINewSelectedAdgroupIDSelector"),b("adsLWIAdgroupStoreSelector")],function(a,c){c=c.get(a);if(!c)return b("LoadObject").loading();a=c.adgroupSpec&&c.adgroupSpec.getIn(g.videoID);a=a&&c.videoName!=null?c.videoName:"";return b("LoadObject").withValue({currentVideoThumbnail:c.currentVideoThumbnail,isSlideshowProcessing:c.isSlideshowProcessing,isSlideshowSelected:c.isSlideshowSelected,videoName:a,videoSource:c.videoSource,videoThumbnails:c.videoThumbnails,videoUploadProgress:c.videoUploadProgress,videoUploadStatus:c.videoUploadStatus})},{name:e.id+".newSelector"});d=b("adsCreateSelector")([a,c,b("adsLWICurrentInstanceDataSelector")],function(a,c,d){return!d?b("LoadObject").loading():i(d.product)?c:a},{name:e.id+".selector"});e.exports=d}),null);
__d("BoostedComponentCreativeVideoEditorContainer.react",["AdsFluxContainer","AdsLoadStateUtils_LEGACY","AdsLWIInstanceUtils","AdsSelectorUtils","AdsVideoStore","BoostedComponentAdAccountStoreV2","BoostedComponentContextStoreV2","BoostedComponentCreativeActionsV2","BoostedComponentErrorBoundaryContainer.react","BoostedComponentVideoPanelV2.react","BoostedComponentVideoSource","React","adsLWICurrentDialogStateSelector","adsLWICurrentInstanceDataSelector","adsLWIVideoEditorDetailsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsLWIInstanceUtils").getKeyFromInstanceData,i=b("BoostedComponentCreativeActionsV2").handleVideoEncodingSuccess,j=b("BoostedComponentCreativeActionsV2").onCancelVideoUpload,k=b("BoostedComponentCreativeActionsV2").onClearVideoCreative,l=b("BoostedComponentCreativeActionsV2").startVideoImport,m=b("BoostedComponentCreativeActionsV2").updateVideoThumbnail;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){j(this.state.instanceID)}.bind(this),this.$2=function(){var a=this.props,b=a.pageID,c=a.appID,d=a.targetID;a=a.boostID;k(b,c,d,a)}.bind(this),this.$3=function(a){var b=this.props,c=b.pageID,d=b.appID,e=b.targetID;b=b.boostID;m(a,c,d,e,b)}.bind(this),this.$4=function(a,b){var c=this.state,d=c.accessToken,e=c.accountID;c=c.instanceID;l(a,b,null,d,e,c)}.bind(this),this.$5=function(a){a=b("AdsVideoStore").get(a);a&&b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&i(this.state.accountID,a,b("BoostedComponentVideoSource").BROWSE_LIBRARY,this.state.instanceID)}.bind(this),this.$6=function(a){if(a){var b=this.state,c=b.accessToken,d=b.accountID;b=b.instanceID;l(null,null,a,c,d,b)}}.bind(this),c}a.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([b("adsLWICurrentInstanceDataSelector"),b("adsLWICurrentDialogStateSelector"),b("adsLWIVideoEditorDetailsSelector")]),[b("BoostedComponentAdAccountStoreV2"),b("BoostedComponentContextStoreV2"),b("AdsVideoStore")])};a.calculateState=function(a,c){a=c.appID;var d=c.targetID;c=c.boostID;a=h(a,d,c);d=b("BoostedComponentAdAccountStoreV2").getState();c=b("BoostedComponentContextStoreV2").getDataByKey(a);a=b("adsLWICurrentDialogStateSelector")().dialogState.instanceID;return{accessToken:c.getAccessToken(),accountID:d.getSelectedAccountID(),instanceID:a,userID:c.getUserID(),videoDetails:b("adsLWIVideoEditorDetailsSelector")()}};a.prototype.render=function(){__p&&__p();var a=this.state,c=a.instanceID;a=a.videoDetails;if(a.isLoading())return null;var d=this.state,e=d.accountID;d=d.userID;a=a.getValueEnforcing();var f=a.currentVideoThumbnail,g=a.isSlideshowProcessing,h=a.isSlideshowSelected,i=a.videoName,j=a.videoSource,k=a.videoThumbnails,l=a.videoUploadProgress;a=a.videoUploadStatus;var m=this.props,n=m.mediaFormatForNewMediaEditor;m=m.pageID;return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedComponentVideoPanelV2"},b("React").createElement(b("BoostedComponentVideoPanelV2.react"),{accountID:e,currentVideoThumbnail:f,instanceID:c,isSlideshowProcessing:g,isSlideshowSelected:h,mediaFormatForNewMediaEditor:n,pageID:m,userID:d,videoName:i,videoSource:j,videoThumbnails:k,videoUploadProgress:l,videoUploadStatus:a,onCancelVideoUpload:this.$1,onClearVideoCreative:this.$2,onThumbnailClick:this.$3,onVideoImportConfirm:this.$4,onVideoPickerConfirm:this.$5,onVideoUploadClick:this.$6}))};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsLWIVideoPickerContainer.react",["AdsUIMediaFormat","BoostedComponentCreativeVideoEditorContainer.react","React","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWICurrentInstanceDataSelector","adsLWISelectedMediaFormatSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({instanceData:b("adsLWICurrentInstanceDataSelector"),selectedMediaFormat:b("adsLWISelectedMediaFormatSelector")},e.id),function(a){var c=b("nullthrows")(a.instanceData),d=c.appID,e=c.boostID,f=c.pageID;c=c.targetID;return b("React").createElement(b("BoostedComponentCreativeVideoEditorContainer.react"),{appID:d,boostID:e,mediaFormatForNewMediaEditor:a.selectedMediaFormat===b("AdsUIMediaFormat").SINGLE_IMAGE?b("AdsUIMediaFormat").SINGLE_VIDEO:a.selectedMediaFormat,pageID:f,targetID:c})});e.exports=a}),null);
__d("AdsLWINewMediaEditor.react",["cx","fbt","AdsLWIBrowseLibraryImageSelectorContainer.react","AdsLWICarouselImageSelectorContainer.react","AdsLWIDCOImageSelectorContainer.react","AdsLWIImageCropperContainer.react","AdsLWINewMediaEditorStrings","AdsLWIStockImageButtonAndNux.react","AdsLWIVideoPickerContainer.react","AdsUIMediaFormat","BoostedComponentConstants","BoostedComponentLabeledEditor.react","FDSText.react","FlexLayout.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsUIMediaFormat").CAROUSEL,k=b("AdsUIMediaFormat").DCO_IMAGE,l=b("AdsUIMediaFormat").SINGLE_IMAGE,m=b("AdsUIMediaFormat").SINGLE_VIDEO,n=b("AdsUIMediaFormat").SLIDESHOW;c=b("BoostedComponentConstants").MAX_NUM_OF_DCO_CREATIVES;var o=h._("Create up to {max number of ads} versions of this ad for the same budget. The versions that perform better with your audience will be shown more often.",[h._param("max number of ads",c)]);i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(a){switch(a){case k:return b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-96",size:"body3"},o),b("React").createElement(b("AdsLWIDCOImageSelectorContainer.react"),null));case l:return b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},b("React").createElement("div",{className:"_3-90"},b("React").createElement(b("AdsLWIBrowseLibraryImageSelectorContainer.react"),{buttonLabel:b("AdsLWINewMediaEditorStrings").BROWSE_LIBRARY_BUTTON_TEXT})),b("React").createElement(b("AdsLWIStockImageButtonAndNux.react"),null)),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("AdsLWIImageCropperContainer.react"),null)));case m:case n:return b("React").createElement(b("AdsLWIVideoPickerContainer.react"),null);case j:return b("React").createElement(b("AdsLWICarouselImageSelectorContainer.react"),null);default:return null}};a.prototype.render=function(){var a=this.props,c=a.selectedMediaFormat;a=a.useNewCreativeLayout;return a?this.$1(c):b("React").createElement(b("BoostedComponentLabeledEditor.react"),{label:b("AdsLWINewMediaEditorStrings").getStringNameForMediaFormat(c)},b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-96",size:"body3"},b("AdsLWINewMediaEditorStrings").getDescriptionForMediaFormat(c)),this.$1(c))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsLWICreativeBodyEditorContainer.react",["AdsLWIAdgroupUtils","AdsUnifiedCreativeAPIFieldMappings","BoostedComponentCreativeActionsV2","BoostedComponentCreativeBodyEditorV2.react","BoostedComponentCreativeSectionStrings","BoostedComponentErrorBoundaryContainer.react","React","adsCreateSelector","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWISelectedAdgroupSelectors","adsLWIValidationStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIAdgroupUtils").isVideoAd,h=b("AdsLWIAdgroupUtils").getUnifiedCreativeAPIFieldMapping,i=b("BoostedComponentCreativeActionsV2").updateLinkDataBody,j=b("BoostedComponentCreativeActionsV2").updateVideoDescription;a=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;c=b("adsCreateSelector")([b("adsLWIValidationStoreDataSelector")],function(a){return a.creativeBodyErrors},{name:e.id+".bodyErrorsSelector"});d=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({bodyErrors:c,selectedAdgroupLoadObject:a},e.id),function(a){var c=a.selectedAdgroupLoadObject;a=a.bodyErrors;if(!c.hasValue())return null;c=c.getValueEnforcing();var d=h(c),e=g(c);c=e?c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message):c.getIn(d.message);return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedComponentCreativeBodyEditorV2"},b("React").createElement(b("BoostedComponentCreativeBodyEditorV2.react"),{body:c,errors:a,tooltip:b("BoostedComponentCreativeSectionStrings").CREATIVE_BODY_TOOLTIP,onBodyChange:e?j:i}))});e.exports=d}),null);
__d("adsLWISupportedMediaFormatsSelector",["AdsLWINewMediaEditorConstants","BoostedComponentProduct","adsCreateSelector","adsLWICurrentInstanceDataSelector","adsLWIIsBoostedSelector","adsLWIUseDCOSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWINewMediaEditorConstants").DCO_FORMATS,h=b("AdsLWINewMediaEditorConstants").DCO_IMAGE_VIDEO_CAROUSEL_SLIDESHOW,i=b("AdsLWINewMediaEditorConstants").IMAGE,j=b("AdsLWINewMediaEditorConstants").IMAGE_VIDEO_CAROUSEL_SLIDESHOW,k=b("AdsLWINewMediaEditorConstants").IMAGE_VIDEO_SLIDESHOW;a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsLWIIsBoostedSelector"),b("adsLWIUseDCOSelector")],function(a,c,d){a=b("nullthrows")(a);a=a.product;switch(a){case b("BoostedComponentProduct").BOOSTED_LOCAL_AWARENESS:return i;case b("BoostedComponentProduct").BOOSTED_AUTOMATED_ADS:return k;case b("BoostedComponentProduct").BOOSTED_WEBSITE:case b("BoostedComponentProduct").BOOSTED_PURCHASE:return d?c?g:h:j;case b("BoostedComponentProduct").BOOSTED_CTA:case b("BoostedComponentProduct").BOOSTED_PAGELIKE:case b("BoostedComponentProduct").BOOSTED_LEAD_GEN:default:return k}},{name:e.id+".adsLWISupportedMediaFormatsSelector"});e.exports=a}),null);
__d("AdsLWINewMediaEditorContainer.react",["AdsAdgroupSpecUtils","AdsLWIMediaFormatDropdownMenu.react","AdsLWINewMediaEditor.react","AdsUIMediaFormat","BoostedComponentCreativeActionsV2","BoostedComponentErrorBoundaryContainer.react","BoostedComponentSectionV2Spinner.react","React","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWICurrentInstanceDataSelector","adsLWISelectedAdgroupSelectors","adsLWISelectedMediaFormatSelector","adsLWISupportedMediaFormatsSelector","adsLWIUseDCOSelector","adsLWIUseNewContentForAdsInAutomatedAdsSelector","curry","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentCreativeActionsV2").onClearVideoCreative;a=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;var h=function(a,b,c,d){g(c,a,d,b)};c=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({instanceData:b("adsLWICurrentInstanceDataSelector"),isDCOEnabled:b("adsLWIUseDCOSelector"),selectedAdgroupLoadObject:a,selectedMediaFormat:b("adsLWISelectedMediaFormatSelector"),supportedMediaFormats:b("adsLWISupportedMediaFormatsSelector"),useNewContentForAdsInAutomatedAds:b("adsLWIUseNewContentForAdsInAutomatedAdsSelector")},e.id),function(a){__p&&__p();var c=a.isDCOEnabled,d=a.selectedAdgroupLoadObject,e=a.selectedMediaFormat,f=a.supportedMediaFormats,g=a.useNewContentForAdsInAutomatedAds;if(d.isLoading()||!d.hasValue())return b("React").createElement(b("BoostedComponentSectionV2Spinner.react"),{height:100});d=d.getValueEnforcing();d=b("AdsAdgroupSpecUtils").isVideoAd(d);a=b("nullthrows")(a.instanceData);var i=a.appID,j=a.boostID,k=a.pageID;a=a.targetID;d=e===b("AdsUIMediaFormat").SINGLE_IMAGE&&d?b("AdsUIMediaFormat").SINGLE_VIDEO:e;return b("React").createElement("div",null,b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"AdsLWIMediaFormatDropdownMenu"},b("React").createElement(b("AdsLWIMediaFormatDropdownMenu.react"),{selectedMediaFormat:d,supportedMediaFormats:f,useNewContentForAds:g,useNewCreativeLayout:c,onClearVideoCreative:b("curry")(h,i,j,k,a)})),b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"AdsLWINewMediaEditor"},b("React").createElement(b("AdsLWINewMediaEditor.react"),{selectedMediaFormat:d,useNewCreativeLayout:c})))});e.exports=c}),null);
__d("AdsLWIPagelikeCreativeSection.react",["AdsLWICreativeBodyEditorContainer.react","AdsLWINewMediaEditorContainer.react","BoostedComponentCollapsableSectionV2.react","BoostedComponentContentV2.react","BoostedComponentCreativeSectionStrings","BoostedComponentErrorBoundaryContainer.react","BoostedComponentSectionSubheaderV2.react","BoostedComponentV2Utils","React"],(function(a,b,c,d,e,f){"use strict";var g=b("BoostedComponentCreativeSectionStrings").getCreativeSectionTitle,h=b("BoostedComponentV2Utils").NO_COLLAPSE_QE;function a(a){var c=a.appID,d=a.collapsedLinkEnabled,e=a.errors;a=a.isBoosted;var f=b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{key:"BoostedComponentCreativeBodyEditorV2Container",sectionName:"BoostedComponentCreativeBodyEditorV2Container"},b("React").createElement(b("AdsLWICreativeBodyEditorContainer.react"),null)),i=b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{key:"AdsLWINewMediaEditorContainer",sectionName:"AdsLWINewMediaEditorContainer"},b("React").createElement(b("AdsLWINewMediaEditorContainer.react"),null));i=[i,f];return b("React").createElement(b("BoostedComponentCollapsableSectionV2.react"),{collapsedByDefault:!h,collapsedLinkEnabled:d,errors:e,isFirstSection:!a,title:g(c)},b("React").createElement(b("BoostedComponentContentV2.react"),null,b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{key:"BoostedComponentSectionSubheaderV2",sectionName:"BoostedComponentSectionSubheaderV2"},b("React").createElement(b("BoostedComponentSectionSubheaderV2.react"),{errors:e})),i))}e.exports=a}),null);
__d("AdsLWIPagelikeCreativeSectionContainer.react",["AdsLWIPagelikeCreativeSection.react","BoostedComponentAppID","BoostedComponentErrorBoundaryContainer.react","React","adsCreateSelector","adsCreateSelectorContainer","adsCreateStructuredSelector","adsLWIIsBoostedSelector","adsLWIValidationStoreDataSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWIValidationStoreDataSelector")],function(a){return a.getCreativeSectionErrors()},{name:e.id+".creativeSectionErrorsSelector"});c=b("adsCreateSelectorContainer")(b("adsCreateStructuredSelector")({errors:a,isBoosted:b("adsLWIIsBoostedSelector")},e.id),function(a){var c=a.errors;a=a.isBoosted;return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedPagelikeCreativeSectionV2"},b("React").createElement(b("AdsLWIPagelikeCreativeSection.react"),{appID:b("BoostedComponentAppID").BOOSTED_PAGELIKE,collapsedLinkEnabled:!!c||c.isEmpty(),errors:c,isBoosted:a}))});e.exports=c}),null);
__d("BoostedComponentCreationFunnels",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PROSPECTING:null,RETARGETING:null});e.exports=a}),null);
__d("BoostedComponentFunnelsEducationHeader.react",["cx","fbt","invariant","ix","BoostedComponentCreationFunnels","FDSText.react","FlexLayout.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("BoostedComponentCreationFunnels").PROSPECTING,l=b("BoostedComponentCreationFunnels").RETARGETING,m=(c={},c[k]=j("562273"),c[l]=j("562274"),c),n=(d={},d[k]=h._("Introduce your website to potential customers"),d[l]=h._("Bring interested customers back to your website"),d);function o(a){var c=a.funnel===a.sectionFunnel;return b("React").createElement(b("FDSText.react"),{color:c?"primary":"disabled",size:"body1",weight:c?"bold":"normal"},n[a.sectionFunnel])}function a(a){a=a.funnel;a in m||i(0,3878);return b("React").createElement("div",{className:"_3786"},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"horizontal"},b("React").createElement("div",{className:"_378e"},b("React").createElement(b("Image.react"),{src:m[a]})),b("React").createElement("div",{className:"_378f"},b("React").createElement(o,{funnel:a,sectionFunnel:k}),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(o,{funnel:a,sectionFunnel:l})))))}e.exports=a}),null);
__d("AdsLWIToggleIncludeMapCardAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},"AdsLWICreative.TOGGLE_INCLUDE_MAP_CARD");e.exports=a}),null);